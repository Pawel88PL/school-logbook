2025-05-25 11:43:00.115 +02:00 [ERR] An error occurred using the connection to database 'school-logbook' on server '87.106.167.108,1433'.
2025-05-25 11:43:00.115 +02:00 [ERR] An error occurred using the connection to database 'school-logbook' on server '87.106.167.108,1433'.
2025-05-25 11:43:00.115 +02:00 [ERR] An error occurred using the connection to database 'school-logbook' on server '87.106.167.108,1433'.
2025-05-25 11:43:00.115 +02:00 [ERR] An error occurred using the connection to database 'school-logbook' on server '87.106.167.108,1433'.
2025-05-25 11:43:28.126 +02:00 [INF] Application is starting
2025-05-25 11:43:28.156 +02:00 [INF] User profile is available. Using '/Users/pawelstaniul/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-05-25 11:43:28.187 +02:00 [WRN] The WebRootPath was not found: /Users/pawelstaniul/Desktop/Programy/school-logbook/backend/wwwroot. Static files may be unavailable.
2025-05-25 11:43:28.193 +02:00 [INF] Now listening on: http://localhost:5234
2025-05-25 11:43:28.194 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-25 11:43:28.195 +02:00 [INF] Hosting environment: Development
2025-05-25 11:43:28.195 +02:00 [INF] Content root path: /Users/pawelstaniul/Desktop/Programy/school-logbook/backend
2025-05-25 11:43:28.567 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/swagger/index.html - null null
2025-05-25 11:43:28.608 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/swagger/index.html - 200 null text/html;charset=utf-8 41.2481ms
2025-05-25 11:43:28.631 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/_framework/aspnetcore-browser-refresh.js - null null
2025-05-25 11:43:28.633 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/_framework/aspnetcore-browser-refresh.js - 200 13732 application/javascript; charset=utf-8 1.8455ms
2025-05-25 11:43:28.669 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/swagger/v1/swagger.json - null null
2025-05-25 11:43:28.720 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 51.0638ms
2025-05-25 11:43:31.759 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/auth/login - null null
2025-05-25 11:43:31.764 +02:00 [WRN] Failed to determine the https port for redirect.
2025-05-25 11:43:31.789 +02:00 [INF] CORS policy execution successful.
2025-05-25 11:43:31.790 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/auth/login - 204 null null 30.7364ms
2025-05-25 11:43:31.792 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5234/api/auth/login - application/json 54
2025-05-25 11:43:31.793 +02:00 [INF] CORS policy execution successful.
2025-05-25 11:43:31.817 +02:00 [INF] Executing endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-05-25 11:43:31.832 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(backend.DTOs.Login) on controller backend.Controllers.AuthController (backend).
2025-05-25 11:43:32.542 +02:00 [INF] Executed DbCommand (38ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-05-25 11:43:32.675 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-05-25 11:43:32.704 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-25 11:43:32.725 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-25 11:43:32.749 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-25 11:43:32.754 +02:00 [INF] AuthenticationScheme: Identity.Application signed in.
2025-05-25 11:43:32.770 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-05-25 11:43:32.776 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.Threading.Tasks.Task`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-25 11:43:32.786 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-25 11:43:32.810 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-05-25 11:43:32.876 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@p20='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p21='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32), @p18='?' (DbType = Boolean), @p19='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [AdminId] = @p1, [ConcurrencyStamp] = @p2, [DateAdded] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastSuccessfulLogin] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [SecurityStamp] = @p15, [StudentId] = @p16, [TeacherId] = @p17, [TwoFactorEnabled] = @p18, [UserName] = @p19
OUTPUT 1
WHERE [Id] = @p20 AND [ConcurrencyStamp] = @p21;
2025-05-25 11:43:32.892 +02:00 [INF] Executed action backend.Controllers.AuthController.Login (backend) in 1059.0755ms
2025-05-25 11:43:32.892 +02:00 [INF] Executed endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-05-25 11:43:32.896 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5234/api/auth/login - 200 null application/json; charset=utf-8 1103.8654ms
2025-05-25 11:43:32.901 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-25 11:43:32.904 +02:00 [INF] CORS policy execution successful.
2025-05-25 11:43:32.904 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 3.385ms
2025-05-25 11:43:32.906 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-25 11:43:32.908 +02:00 [INF] CORS policy execution successful.
2025-05-25 11:43:32.922 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/teacher/d2f5cf82-b1bb-44b9-8171-f8f7fbb1a6f6 - null null
2025-05-25 11:43:32.922 +02:00 [INF] CORS policy execution successful.
2025-05-25 11:43:32.923 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/teacher/d2f5cf82-b1bb-44b9-8171-f8f7fbb1a6f6 - 204 null null 0.6113ms
2025-05-25 11:43:32.924 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/teacher/d2f5cf82-b1bb-44b9-8171-f8f7fbb1a6f6 - null null
2025-05-25 11:43:32.926 +02:00 [INF] CORS policy execution successful.
2025-05-25 11:43:32.946 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 11:43:32.946 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetScheduleForTeacher (backend)'
2025-05-25 11:43:32.948 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-25 11:43:32.948 +02:00 [INF] Route matched with {action = "GetScheduleForTeacher", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetScheduleForTeacher(System.String) on controller backend.Controllers.ScheduleController (backend).
2025-05-25 11:43:32.992 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__userId_0
2025-05-25 11:43:33.028 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__teacher_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[DayOfWeek], [s].[StartTime], [c].[Name] AS [ClassName], [s0].[Name] AS [SubjectName]
FROM [Schedules] AS [s]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
WHERE [s].[TeacherId] = @__teacher_Id_0
ORDER BY [s].[DayOfWeek], [s].[StartTime]
2025-05-25 11:43:33.030 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.TeacherScheduleEntryDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 11:43:33.034 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetScheduleForTeacher (backend) in 85.4712ms
2025-05-25 11:43:33.034 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetScheduleForTeacher (backend)'
2025-05-25 11:43:33.035 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/teacher/d2f5cf82-b1bb-44b9-8171-f8f7fbb1a6f6 - 200 null application/json; charset=utf-8 110.7519ms
2025-05-25 11:43:33.075 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-25 11:43:33.090 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-25 11:43:33.110 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-25 11:43:33.110 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-25 11:43:33.114 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 165.8927ms
2025-05-25 11:43:33.115 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 11:43:33.115 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 209.2843ms
2025-05-25 11:43:52.080 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - null null
2025-05-25 11:43:52.081 +02:00 [INF] CORS policy execution successful.
2025-05-25 11:43:52.081 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - 204 null null 1.4573ms
2025-05-25 11:43:52.084 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - null null
2025-05-25 11:43:52.085 +02:00 [INF] CORS policy execution successful.
2025-05-25 11:43:52.093 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-25 11:43:52.096 +02:00 [INF] Route matched with {action = "GetTodayLessons", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTodayLessons() on controller backend.Controllers.AttendanceController (backend).
2025-05-25 11:43:52.137 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-25 11:43:52.168 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__teacherId_0='?' (DbType = Int32), @__today_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id] AS [ScheduleId], [s0].[Name] AS [SubjectName], [c].[Name] AS [ClassName], [s].[StartTime]
FROM [Schedules] AS [s]
INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
WHERE [s].[TeacherId] = @__teacherId_0 AND [s].[DayOfWeek] = @__today_1
ORDER BY [s].[StartTime]
2025-05-25 11:43:52.168 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.LessonForAttendanceDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 11:43:52.170 +02:00 [INF] Executed action backend.Controllers.AttendanceController.GetTodayLessons (backend) in 73.3973ms
2025-05-25 11:43:52.170 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-25 11:43:52.170 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - 200 null application/json; charset=utf-8 86.0265ms
2025-05-25 11:44:11.053 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-25 11:44:11.068 +02:00 [INF] CORS policy execution successful.
2025-05-25 11:44:11.072 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - null null
2025-05-25 11:44:11.088 +02:00 [INF] CORS policy execution successful.
2025-05-25 11:44:11.088 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 18.981ms
2025-05-25 11:44:11.090 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - 204 null null 18.2257ms
2025-05-25 11:44:11.097 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-25 11:44:11.098 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - null null
2025-05-25 11:44:11.098 +02:00 [INF] CORS policy execution successful.
2025-05-25 11:44:11.099 +02:00 [INF] CORS policy execution successful.
2025-05-25 11:44:11.101 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 11:44:11.101 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-25 11:44:11.103 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-25 11:44:11.103 +02:00 [INF] Route matched with {action = "GetTodayLessons", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTodayLessons() on controller backend.Controllers.AttendanceController (backend).
2025-05-25 11:44:11.131 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-25 11:44:11.131 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-25 11:44:11.169 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-25 11:44:11.169 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__teacherId_0='?' (DbType = Int32), @__today_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id] AS [ScheduleId], [s0].[Name] AS [SubjectName], [c].[Name] AS [ClassName], [s].[StartTime]
FROM [Schedules] AS [s]
INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
WHERE [s].[TeacherId] = @__teacherId_0 AND [s].[DayOfWeek] = @__today_1
ORDER BY [s].[StartTime]
2025-05-25 11:44:11.171 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.LessonForAttendanceDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 11:44:11.171 +02:00 [INF] Executed action backend.Controllers.AttendanceController.GetTodayLessons (backend) in 68.1833ms
2025-05-25 11:44:11.176 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-25 11:44:11.177 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - 200 null application/json; charset=utf-8 78.1667ms
2025-05-25 11:44:11.191 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-25 11:44:11.194 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-25 11:44:11.197 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 94.9491ms
2025-05-25 11:44:11.197 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 11:44:11.197 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 101.0083ms
2025-05-25 11:44:35.923 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-25 11:44:35.939 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - null null
2025-05-25 11:44:35.945 +02:00 [INF] CORS policy execution successful.
2025-05-25 11:44:35.947 +02:00 [INF] CORS policy execution successful.
2025-05-25 11:44:35.946 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 27.7506ms
2025-05-25 11:44:35.949 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - 204 null null 10.1821ms
2025-05-25 11:44:35.949 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-25 11:44:35.950 +02:00 [INF] CORS policy execution successful.
2025-05-25 11:44:35.950 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - null null
2025-05-25 11:44:35.950 +02:00 [INF] CORS policy execution successful.
2025-05-25 11:44:35.952 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 11:44:35.952 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-25 11:44:35.954 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-25 11:44:35.954 +02:00 [INF] Route matched with {action = "GetTodayLessons", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTodayLessons() on controller backend.Controllers.AttendanceController (backend).
2025-05-25 11:44:36.017 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-25 11:44:36.018 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-25 11:44:36.039 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__teacherId_0='?' (DbType = Int32), @__today_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id] AS [ScheduleId], [s0].[Name] AS [SubjectName], [c].[Name] AS [ClassName], [s].[StartTime]
FROM [Schedules] AS [s]
INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
WHERE [s].[TeacherId] = @__teacherId_0 AND [s].[DayOfWeek] = @__today_1
ORDER BY [s].[StartTime]
2025-05-25 11:44:36.040 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.LessonForAttendanceDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 11:44:36.040 +02:00 [INF] Executed action backend.Controllers.AttendanceController.GetTodayLessons (backend) in 85.6517ms
2025-05-25 11:44:36.040 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-25 11:44:36.041 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - 200 null application/json; charset=utf-8 90.6525ms
2025-05-25 11:44:36.042 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-25 11:44:36.057 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-25 11:44:36.058 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-25 11:44:36.058 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 105.8559ms
2025-05-25 11:44:36.058 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 11:44:36.059 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 109.6872ms
2025-05-25 11:45:10.721 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-25 11:45:10.722 +02:00 [INF] CORS policy execution successful.
2025-05-25 11:45:10.724 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 3.8566ms
2025-05-25 11:45:10.730 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-25 11:45:10.731 +02:00 [INF] CORS policy execution successful.
2025-05-25 11:45:10.750 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - null null
2025-05-25 11:45:10.751 +02:00 [INF] CORS policy execution successful.
2025-05-25 11:45:10.751 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - 204 null null 0.4849ms
2025-05-25 11:45:10.751 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 11:45:10.752 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - null null
2025-05-25 11:45:10.753 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-25 11:45:10.753 +02:00 [INF] CORS policy execution successful.
2025-05-25 11:45:10.754 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-25 11:45:10.754 +02:00 [INF] Route matched with {action = "GetTodayLessons", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTodayLessons() on controller backend.Controllers.AttendanceController (backend).
2025-05-25 11:45:10.789 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-25 11:45:10.789 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-25 11:45:10.805 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-25 11:45:10.805 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__teacherId_0='?' (DbType = Int32), @__today_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id] AS [ScheduleId], [s0].[Name] AS [SubjectName], [c].[Name] AS [ClassName], [s].[StartTime]
FROM [Schedules] AS [s]
INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
WHERE [s].[TeacherId] = @__teacherId_0 AND [s].[DayOfWeek] = @__today_1
ORDER BY [s].[StartTime]
2025-05-25 11:45:10.806 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.LessonForAttendanceDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 11:45:10.806 +02:00 [INF] Executed action backend.Controllers.AttendanceController.GetTodayLessons (backend) in 50.7763ms
2025-05-25 11:45:10.806 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-25 11:45:10.806 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - 200 null application/json; charset=utf-8 53.7237ms
2025-05-25 11:45:10.823 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-25 11:45:10.824 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-25 11:45:10.825 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 71.6528ms
2025-05-25 11:45:10.825 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 11:45:10.825 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 95.3805ms
2025-05-25 11:45:21.562 +02:00 [INF] Application is shutting down...
2025-05-25 11:45:31.464 +02:00 [INF] Application is starting
2025-05-25 11:45:31.522 +02:00 [INF] User profile is available. Using '/Users/pawelstaniul/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-05-25 11:45:31.558 +02:00 [WRN] The WebRootPath was not found: /Users/pawelstaniul/Desktop/Programy/school-logbook/backend/wwwroot. Static files may be unavailable.
2025-05-25 11:45:31.576 +02:00 [INF] Now listening on: http://localhost:5234
2025-05-25 11:45:31.578 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-25 11:45:31.578 +02:00 [INF] Hosting environment: Development
2025-05-25 11:45:31.578 +02:00 [INF] Content root path: /Users/pawelstaniul/Desktop/Programy/school-logbook/backend
2025-05-25 11:45:31.788 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/swagger/index.html - null null
2025-05-25 11:45:31.851 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/swagger/index.html - 200 null text/html;charset=utf-8 65.2403ms
2025-05-25 11:45:31.908 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/swagger/v1/swagger.json - null null
2025-05-25 11:45:31.974 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 65.827ms
2025-05-25 11:45:36.877 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-25 11:45:36.907 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - null null
2025-05-25 11:45:36.911 +02:00 [WRN] Failed to determine the https port for redirect.
2025-05-25 11:45:36.987 +02:00 [INF] CORS policy execution successful.
2025-05-25 11:45:36.988 +02:00 [INF] CORS policy execution successful.
2025-05-25 11:45:36.989 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 112.867ms
2025-05-25 11:45:36.991 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-25 11:45:36.991 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - 204 null null 84.9722ms
2025-05-25 11:45:36.993 +02:00 [INF] CORS policy execution successful.
2025-05-25 11:45:36.994 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - null null
2025-05-25 11:45:36.994 +02:00 [INF] CORS policy execution successful.
2025-05-25 11:45:37.106 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 11:45:37.110 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-25 11:45:37.128 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-25 11:45:37.128 +02:00 [INF] Route matched with {action = "GetTodayLessons", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTodayLessons() on controller backend.Controllers.AttendanceController (backend).
2025-05-25 11:45:42.529 +02:00 [INF] Executed DbCommand (36ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-25 11:45:42.577 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-25 11:45:42.646 +02:00 [INF] Executed DbCommand (84ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-25 11:46:02.598 +02:00 [INF] Executed DbCommand (73ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-25 11:46:02.708 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-25 11:46:02.723 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 25593.0674ms
2025-05-25 11:46:02.724 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 11:46:02.734 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 25743.5632ms
2025-05-25 11:46:02.803 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__teacherId_0='?' (DbType = Int32), @__today_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id] AS [ScheduleId], [s0].[Name] AS [SubjectName], [c].[Name] AS [ClassName], [s].[StartTime]
FROM [Schedules] AS [s]
INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
WHERE [s].[TeacherId] = @__teacherId_0 AND [s].[DayOfWeek] = @__today_1
ORDER BY [s].[StartTime]
2025-05-25 11:47:26.069 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.LessonForAttendanceDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 11:47:26.127 +02:00 [INF] Executed action backend.Controllers.AttendanceController.GetTodayLessons (backend) in 109001.2562ms
2025-05-25 11:47:26.128 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-25 11:47:26.129 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - 200 null application/json; charset=utf-8 109137.856ms
2025-05-25 11:47:32.934 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-25 11:47:32.966 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - null null
2025-05-25 11:47:32.987 +02:00 [INF] CORS policy execution successful.
2025-05-25 11:47:32.991 +02:00 [INF] CORS policy execution successful.
2025-05-25 11:47:32.991 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 57.773ms
2025-05-25 11:47:32.992 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - 204 null null 27.3956ms
2025-05-25 11:47:33.014 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-25 11:47:33.015 +02:00 [INF] CORS policy execution successful.
2025-05-25 11:47:33.022 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - null null
2025-05-25 11:47:33.022 +02:00 [INF] CORS policy execution successful.
2025-05-25 11:47:33.037 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 11:47:33.038 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-25 11:47:33.038 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-25 11:47:33.038 +02:00 [INF] Route matched with {action = "GetTodayLessons", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTodayLessons() on controller backend.Controllers.AttendanceController (backend).
2025-05-25 11:47:33.132 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-25 11:47:33.132 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-25 11:47:33.204 +02:00 [INF] Executed DbCommand (69ms) [Parameters=[@__teacherId_0='?' (DbType = Int32), @__today_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id] AS [ScheduleId], [s0].[Name] AS [SubjectName], [c].[Name] AS [ClassName], [s].[StartTime]
FROM [Schedules] AS [s]
INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
WHERE [s].[TeacherId] = @__teacherId_0 AND [s].[DayOfWeek] = @__today_1
ORDER BY [s].[StartTime]
2025-05-25 11:47:33.236 +02:00 [INF] Executed DbCommand (78ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-25 11:47:33.288 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.LessonForAttendanceDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 11:47:33.288 +02:00 [INF] Executed action backend.Controllers.AttendanceController.GetTodayLessons (backend) in 249.6417ms
2025-05-25 11:47:33.288 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-25 11:47:33.288 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - 200 null application/json; charset=utf-8 266.4636ms
2025-05-25 11:47:33.340 +02:00 [INF] Executed DbCommand (50ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-25 11:47:33.340 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-25 11:47:33.340 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 302.5942ms
2025-05-25 11:47:33.340 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 11:47:33.341 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 345.2568ms
2025-05-25 11:48:24.750 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - null null
2025-05-25 11:48:24.750 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-25 11:48:24.753 +02:00 [INF] CORS policy execution successful.
2025-05-25 11:48:24.753 +02:00 [INF] CORS policy execution successful.
2025-05-25 11:48:24.754 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - 204 null null 4.0917ms
2025-05-25 11:48:24.754 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 3.9061ms
2025-05-25 11:48:24.755 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - null null
2025-05-25 11:48:24.755 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-25 11:48:24.756 +02:00 [INF] CORS policy execution successful.
2025-05-25 11:48:24.756 +02:00 [INF] CORS policy execution successful.
2025-05-25 11:48:24.758 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 11:48:24.760 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-25 11:48:24.763 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-25 11:48:24.765 +02:00 [INF] Route matched with {action = "GetTodayLessons", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTodayLessons() on controller backend.Controllers.AttendanceController (backend).
2025-05-25 11:48:24.974 +02:00 [INF] Executed DbCommand (58ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-25 11:48:25.046 +02:00 [INF] Executed DbCommand (125ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-25 11:48:25.084 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__teacherId_0='?' (DbType = Int32), @__today_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id] AS [ScheduleId], [s0].[Name] AS [SubjectName], [c].[Name] AS [ClassName], [s].[StartTime]
FROM [Schedules] AS [s]
INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
WHERE [s].[TeacherId] = @__teacherId_0 AND [s].[DayOfWeek] = @__today_1
ORDER BY [s].[StartTime]
2025-05-25 11:48:25.086 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-25 11:48:25.088 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.LessonForAttendanceDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 11:48:25.089 +02:00 [INF] Executed action backend.Controllers.AttendanceController.GetTodayLessons (backend) in 324.4253ms
2025-05-25 11:48:25.089 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-25 11:48:25.090 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - 200 null application/json; charset=utf-8 334.0362ms
2025-05-25 11:48:25.101 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-25 11:48:25.101 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-25 11:48:25.102 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 341.8307ms
2025-05-25 11:48:25.102 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 11:48:25.103 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 347.2028ms
2025-05-25 12:31:16.592 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-25 12:31:16.592 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - null null
2025-05-25 12:31:16.600 +02:00 [INF] CORS policy execution successful.
2025-05-25 12:31:16.600 +02:00 [INF] CORS policy execution successful.
2025-05-25 12:31:16.604 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 12.7409ms
2025-05-25 12:31:16.604 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - 204 null null 12.7414ms
2025-05-25 12:31:16.632 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - null null
2025-05-25 12:31:16.632 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-25 12:31:16.634 +02:00 [INF] CORS policy execution successful.
2025-05-25 12:31:16.634 +02:00 [INF] CORS policy execution successful.
2025-05-25 12:31:16.640 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 12:31:16.640 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-25 12:31:16.641 +02:00 [INF] Route matched with {action = "GetTodayLessons", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTodayLessons() on controller backend.Controllers.AttendanceController (backend).
2025-05-25 12:31:16.641 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-25 12:31:17.085 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-25 12:31:17.100 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-25 12:31:17.114 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-25 12:31:17.115 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-25 12:31:17.115 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 474.2689ms
2025-05-25 12:31:17.116 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 12:31:17.116 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 483.378ms
2025-05-25 12:31:17.163 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-25 12:31:17.180 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__teacherId_0='?' (DbType = Int32), @__today_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id] AS [ScheduleId], [s0].[Name] AS [SubjectName], [c].[Name] AS [ClassName], [s].[StartTime]
FROM [Schedules] AS [s]
INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
WHERE [s].[TeacherId] = @__teacherId_0 AND [s].[DayOfWeek] = @__today_1
ORDER BY [s].[StartTime]
2025-05-25 12:31:17.180 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.LessonForAttendanceDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 12:31:17.181 +02:00 [INF] Executed action backend.Controllers.AttendanceController.GetTodayLessons (backend) in 540.01ms
2025-05-25 12:31:17.181 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-25 12:31:17.181 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - 200 null application/json; charset=utf-8 548.9527ms
2025-05-25 12:31:21.819 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/students/5 - null null
2025-05-25 12:31:21.823 +02:00 [INF] CORS policy execution successful.
2025-05-25 12:31:21.823 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/students/5 - 204 null null 4.7217ms
2025-05-25 12:31:21.825 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/attendance/students/5 - null null
2025-05-25 12:31:21.825 +02:00 [INF] CORS policy execution successful.
2025-05-25 12:31:21.828 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/attendance/students/5 - 404 0 null 3.0291ms
2025-05-25 12:31:21.832 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5234/api/attendance/students/5, Response status code: 404
2025-05-25 12:31:35.614 +02:00 [INF] Application is starting
2025-05-25 12:31:35.644 +02:00 [INF] User profile is available. Using '/Users/pawelstaniul/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-05-25 12:31:35.674 +02:00 [WRN] The WebRootPath was not found: /Users/pawelstaniul/Desktop/Programy/school-logbook/backend/wwwroot. Static files may be unavailable.
2025-05-25 12:31:35.680 +02:00 [INF] Now listening on: http://localhost:5234
2025-05-25 12:31:35.683 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-25 12:31:35.683 +02:00 [INF] Hosting environment: Development
2025-05-25 12:31:35.683 +02:00 [INF] Content root path: /Users/pawelstaniul/Desktop/Programy/school-logbook/backend
2025-05-25 12:31:36.252 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/swagger/index.html - null null
2025-05-25 12:31:36.293 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/swagger/index.html - 200 null text/html;charset=utf-8 41.1993ms
2025-05-25 12:31:36.563 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/_framework/aspnetcore-browser-refresh.js - null null
2025-05-25 12:31:36.564 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/_framework/aspnetcore-browser-refresh.js - 200 13732 application/javascript; charset=utf-8 1.844ms
2025-05-25 12:31:36.621 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/swagger/v1/swagger.json - null null
2025-05-25 12:31:36.673 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 52.3025ms
2025-05-25 12:31:41.425 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/students/5 - null null
2025-05-25 12:31:41.430 +02:00 [WRN] Failed to determine the https port for redirect.
2025-05-25 12:31:41.450 +02:00 [INF] CORS policy execution successful.
2025-05-25 12:31:41.451 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/students/5 - 204 null null 26.2218ms
2025-05-25 12:31:41.452 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/attendance/students/5 - null null
2025-05-25 12:31:41.454 +02:00 [INF] CORS policy execution successful.
2025-05-25 12:31:41.512 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.GetStudentsForSchedule (backend)'
2025-05-25 12:31:41.524 +02:00 [INF] Route matched with {action = "GetStudentsForSchedule", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentsForSchedule(Int32) on controller backend.Controllers.AttendanceController (backend).
2025-05-25 12:31:42.250 +02:00 [INF] Executed DbCommand (36ms) [Parameters=[@__scheduleId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[ClassId], [s].[CreatedAt], [s].[DayOfWeek], [s].[StartTime], [s].[SubjectId], [s].[TeacherId], [s].[UpdatedAt], [c].[Id], [c].[CreatedAt], [c].[HomeroomTeacherId], [c].[Name], [c].[UpdatedAt]
FROM [Schedules] AS [s]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
WHERE [s].[Id] = @__scheduleId_0
2025-05-25 12:31:42.336 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__scheduleId_1='?' (DbType = Int32), @__today_2='?' (DbType = DateTime2), @__schedule_ClassId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id] AS [StudentId], [s].[FirstName] + N' ' + [s].[LastName] AS [FullName], COALESCE((
    SELECT TOP(1) [a].[Status]
    FROM [Attendances] AS [a]
    WHERE [a].[ScheduleId] = @__scheduleId_1 AND [a].[StudentId] = [s].[Id] AND [a].[Date] = @__today_2), 0) AS [Status]
FROM [Students] AS [s]
WHERE [s].[ClassId] = @__schedule_ClassId_0
2025-05-25 12:31:42.340 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.StudentForAttendanceDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 12:31:42.347 +02:00 [INF] Executed action backend.Controllers.AttendanceController.GetStudentsForSchedule (backend) in 820.605ms
2025-05-25 12:31:42.347 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.GetStudentsForSchedule (backend)'
2025-05-25 12:31:42.351 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/attendance/students/5 - 200 null application/json; charset=utf-8 898.1447ms
2025-05-25 12:31:55.150 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-25 12:31:55.155 +02:00 [INF] CORS policy execution successful.
2025-05-25 12:31:55.156 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 6.3795ms
2025-05-25 12:31:55.158 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-25 12:31:55.167 +02:00 [INF] CORS policy execution successful.
2025-05-25 12:31:55.171 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - null null
2025-05-25 12:31:55.172 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 12:31:55.173 +02:00 [INF] CORS policy execution successful.
2025-05-25 12:31:55.174 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - 204 null null 2.3294ms
2025-05-25 12:31:55.177 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - null null
2025-05-25 12:31:55.178 +02:00 [INF] CORS policy execution successful.
2025-05-25 12:31:55.188 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-25 12:31:55.189 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-25 12:31:55.206 +02:00 [INF] Route matched with {action = "GetTodayLessons", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTodayLessons() on controller backend.Controllers.AttendanceController (backend).
2025-05-25 12:31:55.259 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-25 12:31:55.295 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__teacherId_0='?' (DbType = Int32), @__today_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id] AS [ScheduleId], [s0].[Name] AS [SubjectName], [c].[Name] AS [ClassName], [s].[StartTime]
FROM [Schedules] AS [s]
INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
WHERE [s].[TeacherId] = @__teacherId_0 AND [s].[DayOfWeek] = @__today_1
ORDER BY [s].[StartTime]
2025-05-25 12:31:55.297 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.LessonForAttendanceDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 12:31:55.308 +02:00 [INF] Executed action backend.Controllers.AttendanceController.GetTodayLessons (backend) in 101.776ms
2025-05-25 12:31:55.309 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-25 12:31:55.310 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - 200 null application/json; charset=utf-8 132.3514ms
2025-05-25 12:31:55.350 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-25 12:31:55.381 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-25 12:31:55.402 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-25 12:31:55.402 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-25 12:31:55.406 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 217.7066ms
2025-05-25 12:31:55.407 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 12:31:55.407 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 249.3506ms
2025-05-25 12:32:18.255 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/students/5 - null null
2025-05-25 12:32:18.258 +02:00 [INF] CORS policy execution successful.
2025-05-25 12:32:18.259 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/students/5 - 204 null null 5.3162ms
2025-05-25 12:32:18.262 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/attendance/students/5 - null null
2025-05-25 12:32:18.267 +02:00 [INF] CORS policy execution successful.
2025-05-25 12:32:18.288 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.GetStudentsForSchedule (backend)'
2025-05-25 12:32:18.293 +02:00 [INF] Route matched with {action = "GetStudentsForSchedule", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentsForSchedule(Int32) on controller backend.Controllers.AttendanceController (backend).
2025-05-25 12:32:18.349 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__scheduleId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[ClassId], [s].[CreatedAt], [s].[DayOfWeek], [s].[StartTime], [s].[SubjectId], [s].[TeacherId], [s].[UpdatedAt], [c].[Id], [c].[CreatedAt], [c].[HomeroomTeacherId], [c].[Name], [c].[UpdatedAt]
FROM [Schedules] AS [s]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
WHERE [s].[Id] = @__scheduleId_0
2025-05-25 12:32:18.366 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__scheduleId_1='?' (DbType = Int32), @__today_2='?' (DbType = DateTime2), @__schedule_ClassId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id] AS [StudentId], [s].[FirstName] + N' ' + [s].[LastName] AS [FullName], COALESCE((
    SELECT TOP(1) [a].[Status]
    FROM [Attendances] AS [a]
    WHERE [a].[ScheduleId] = @__scheduleId_1 AND [a].[StudentId] = [s].[Id] AND [a].[Date] = @__today_2), 0) AS [Status]
FROM [Students] AS [s]
WHERE [s].[ClassId] = @__schedule_ClassId_0
2025-05-25 12:32:18.366 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.StudentForAttendanceDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 12:32:18.366 +02:00 [INF] Executed action backend.Controllers.AttendanceController.GetStudentsForSchedule (backend) in 73.4416ms
2025-05-25 12:32:18.366 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.GetStudentsForSchedule (backend)'
2025-05-25 12:32:18.367 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/attendance/students/5 - 200 null application/json; charset=utf-8 104.6116ms
2025-05-25 12:53:24.145 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-25 12:53:24.155 +02:00 [INF] CORS policy execution successful.
2025-05-25 12:53:24.155 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - null null
2025-05-25 12:53:24.156 +02:00 [INF] CORS policy execution successful.
2025-05-25 12:53:24.156 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 11.3938ms
2025-05-25 12:53:24.156 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - 204 null null 1.2452ms
2025-05-25 12:53:24.158 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - null null
2025-05-25 12:53:24.158 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-25 12:53:24.159 +02:00 [INF] CORS policy execution successful.
2025-05-25 12:53:24.159 +02:00 [INF] CORS policy execution successful.
2025-05-25 12:53:24.185 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-25 12:53:24.188 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 12:53:24.211 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-25 12:53:24.214 +02:00 [INF] Route matched with {action = "GetTodayLessons", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTodayLessons() on controller backend.Controllers.AttendanceController (backend).
2025-05-25 12:53:24.378 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-25 12:53:24.403 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-25 12:53:24.424 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-25 12:53:24.425 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-25 12:53:24.425 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 210.5661ms
2025-05-25 12:53:24.425 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 12:53:24.425 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 266.688ms
2025-05-25 12:53:24.470 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-25 12:53:24.485 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__teacherId_0='?' (DbType = Int32), @__today_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id] AS [ScheduleId], [s0].[Name] AS [SubjectName], [c].[Name] AS [ClassName], [s].[StartTime]
FROM [Schedules] AS [s]
INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
WHERE [s].[TeacherId] = @__teacherId_0 AND [s].[DayOfWeek] = @__today_1
ORDER BY [s].[StartTime]
2025-05-25 12:53:24.485 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.LessonForAttendanceDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 12:53:24.486 +02:00 [INF] Executed action backend.Controllers.AttendanceController.GetTodayLessons (backend) in 271.4802ms
2025-05-25 12:53:24.486 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-25 12:53:24.486 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - 200 null application/json; charset=utf-8 327.6783ms
2025-05-25 12:53:25.786 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/students/5 - null null
2025-05-25 12:53:25.787 +02:00 [INF] CORS policy execution successful.
2025-05-25 12:53:25.787 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/students/5 - 204 null null 0.8558ms
2025-05-25 12:53:25.789 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/attendance/students/5 - null null
2025-05-25 12:53:25.789 +02:00 [INF] CORS policy execution successful.
2025-05-25 12:53:25.790 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.GetStudentsForSchedule (backend)'
2025-05-25 12:53:25.790 +02:00 [INF] Route matched with {action = "GetStudentsForSchedule", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentsForSchedule(Int32) on controller backend.Controllers.AttendanceController (backend).
2025-05-25 12:53:25.806 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__scheduleId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[ClassId], [s].[CreatedAt], [s].[DayOfWeek], [s].[StartTime], [s].[SubjectId], [s].[TeacherId], [s].[UpdatedAt], [c].[Id], [c].[CreatedAt], [c].[HomeroomTeacherId], [c].[Name], [c].[UpdatedAt]
FROM [Schedules] AS [s]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
WHERE [s].[Id] = @__scheduleId_0
2025-05-25 12:53:25.823 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__scheduleId_1='?' (DbType = Int32), @__today_2='?' (DbType = DateTime2), @__schedule_ClassId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id] AS [StudentId], [s].[FirstName] + N' ' + [s].[LastName] AS [FullName], COALESCE((
    SELECT TOP(1) [a].[Status]
    FROM [Attendances] AS [a]
    WHERE [a].[ScheduleId] = @__scheduleId_1 AND [a].[StudentId] = [s].[Id] AND [a].[Date] = @__today_2), 0) AS [Status]
FROM [Students] AS [s]
WHERE [s].[ClassId] = @__schedule_ClassId_0
2025-05-25 12:53:25.824 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.StudentForAttendanceDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 12:53:25.825 +02:00 [INF] Executed action backend.Controllers.AttendanceController.GetStudentsForSchedule (backend) in 35.3966ms
2025-05-25 12:53:25.826 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.GetStudentsForSchedule (backend)'
2025-05-25 12:53:25.826 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/attendance/students/5 - 200 null application/json; charset=utf-8 37.3101ms
2025-05-25 12:56:09.936 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-25 12:56:09.941 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - null null
2025-05-25 12:56:09.942 +02:00 [INF] CORS policy execution successful.
2025-05-25 12:56:09.942 +02:00 [INF] CORS policy execution successful.
2025-05-25 12:56:09.943 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 6.6226ms
2025-05-25 12:56:09.944 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - 204 null null 2.4319ms
2025-05-25 12:56:09.948 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - null null
2025-05-25 12:56:09.948 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-25 12:56:09.949 +02:00 [INF] CORS policy execution successful.
2025-05-25 12:56:09.950 +02:00 [INF] CORS policy execution successful.
2025-05-25 12:56:09.963 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-25 12:56:09.964 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 12:56:09.965 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-25 12:56:09.965 +02:00 [INF] Route matched with {action = "GetTodayLessons", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTodayLessons() on controller backend.Controllers.AttendanceController (backend).
2025-05-25 12:56:10.031 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-25 12:56:10.035 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-25 12:56:10.064 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[@__teacherId_0='?' (DbType = Int32), @__today_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id] AS [ScheduleId], [s0].[Name] AS [SubjectName], [c].[Name] AS [ClassName], [s].[StartTime]
FROM [Schedules] AS [s]
INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
WHERE [s].[TeacherId] = @__teacherId_0 AND [s].[DayOfWeek] = @__today_1
ORDER BY [s].[StartTime]
2025-05-25 12:56:10.065 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.LessonForAttendanceDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 12:56:10.066 +02:00 [INF] Executed action backend.Controllers.AttendanceController.GetTodayLessons (backend) in 100.3526ms
2025-05-25 12:56:10.066 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-25 12:56:10.066 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - 200 null application/json; charset=utf-8 117.7995ms
2025-05-25 12:56:10.080 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-25 12:56:10.098 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-25 12:56:10.099 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-25 12:56:10.102 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 136.7072ms
2025-05-25 12:56:10.102 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 12:56:10.103 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 154.0713ms
2025-05-25 13:00:31.334 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/students/5 - null null
2025-05-25 13:00:31.336 +02:00 [INF] CORS policy execution successful.
2025-05-25 13:00:31.336 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/students/5 - 204 null null 3.0808ms
2025-05-25 13:00:31.339 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/attendance/students/5 - null null
2025-05-25 13:00:31.340 +02:00 [INF] CORS policy execution successful.
2025-05-25 13:00:31.344 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.GetStudentsForSchedule (backend)'
2025-05-25 13:00:31.345 +02:00 [INF] Route matched with {action = "GetStudentsForSchedule", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentsForSchedule(Int32) on controller backend.Controllers.AttendanceController (backend).
2025-05-25 13:00:31.384 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__scheduleId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[ClassId], [s].[CreatedAt], [s].[DayOfWeek], [s].[StartTime], [s].[SubjectId], [s].[TeacherId], [s].[UpdatedAt], [c].[Id], [c].[CreatedAt], [c].[HomeroomTeacherId], [c].[Name], [c].[UpdatedAt]
FROM [Schedules] AS [s]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
WHERE [s].[Id] = @__scheduleId_0
2025-05-25 13:00:31.402 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__scheduleId_1='?' (DbType = Int32), @__today_2='?' (DbType = DateTime2), @__schedule_ClassId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id] AS [StudentId], [s].[FirstName] + N' ' + [s].[LastName] AS [FullName], COALESCE((
    SELECT TOP(1) [a].[Status]
    FROM [Attendances] AS [a]
    WHERE [a].[ScheduleId] = @__scheduleId_1 AND [a].[StudentId] = [s].[Id] AND [a].[Date] = @__today_2), 0) AS [Status]
FROM [Students] AS [s]
WHERE [s].[ClassId] = @__schedule_ClassId_0
2025-05-25 13:00:31.403 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.StudentForAttendanceDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 13:00:31.404 +02:00 [INF] Executed action backend.Controllers.AttendanceController.GetStudentsForSchedule (backend) in 58.2835ms
2025-05-25 13:00:31.404 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.GetStudentsForSchedule (backend)'
2025-05-25 13:00:31.404 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/attendance/students/5 - 200 null application/json; charset=utf-8 64.9555ms
2025-05-25 13:00:33.752 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/attendance/students/5 - null null
2025-05-25 13:00:33.753 +02:00 [INF] CORS policy execution successful.
2025-05-25 13:00:33.753 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.GetStudentsForSchedule (backend)'
2025-05-25 13:00:33.753 +02:00 [INF] Route matched with {action = "GetStudentsForSchedule", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentsForSchedule(Int32) on controller backend.Controllers.AttendanceController (backend).
2025-05-25 13:00:33.769 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__scheduleId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[ClassId], [s].[CreatedAt], [s].[DayOfWeek], [s].[StartTime], [s].[SubjectId], [s].[TeacherId], [s].[UpdatedAt], [c].[Id], [c].[CreatedAt], [c].[HomeroomTeacherId], [c].[Name], [c].[UpdatedAt]
FROM [Schedules] AS [s]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
WHERE [s].[Id] = @__scheduleId_0
2025-05-25 13:00:33.784 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__scheduleId_1='?' (DbType = Int32), @__today_2='?' (DbType = DateTime2), @__schedule_ClassId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id] AS [StudentId], [s].[FirstName] + N' ' + [s].[LastName] AS [FullName], COALESCE((
    SELECT TOP(1) [a].[Status]
    FROM [Attendances] AS [a]
    WHERE [a].[ScheduleId] = @__scheduleId_1 AND [a].[StudentId] = [s].[Id] AND [a].[Date] = @__today_2), 0) AS [Status]
FROM [Students] AS [s]
WHERE [s].[ClassId] = @__schedule_ClassId_0
2025-05-25 13:00:33.785 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.StudentForAttendanceDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 13:00:33.785 +02:00 [INF] Executed action backend.Controllers.AttendanceController.GetStudentsForSchedule (backend) in 31.9298ms
2025-05-25 13:00:33.785 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.GetStudentsForSchedule (backend)'
2025-05-25 13:00:33.786 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/attendance/students/5 - 200 null application/json; charset=utf-8 33.42ms
2025-05-25 13:00:39.834 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-25 13:00:39.834 +02:00 [INF] CORS policy execution successful.
2025-05-25 13:00:39.835 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 0.6978ms
2025-05-25 13:00:39.845 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-25 13:00:39.846 +02:00 [INF] CORS policy execution successful.
2025-05-25 13:00:39.846 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 13:00:39.847 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-25 13:00:39.855 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - null null
2025-05-25 13:00:39.856 +02:00 [INF] CORS policy execution successful.
2025-05-25 13:00:39.856 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - 204 null null 0.3923ms
2025-05-25 13:00:39.857 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - null null
2025-05-25 13:00:39.858 +02:00 [INF] CORS policy execution successful.
2025-05-25 13:00:39.858 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-25 13:00:39.859 +02:00 [INF] Route matched with {action = "GetTodayLessons", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTodayLessons() on controller backend.Controllers.AttendanceController (backend).
2025-05-25 13:00:39.880 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-25 13:00:39.882 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-25 13:00:39.896 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__teacherId_0='?' (DbType = Int32), @__today_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id] AS [ScheduleId], [s0].[Name] AS [SubjectName], [c].[Name] AS [ClassName], [s].[StartTime]
FROM [Schedules] AS [s]
INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
WHERE [s].[TeacherId] = @__teacherId_0 AND [s].[DayOfWeek] = @__today_1
ORDER BY [s].[StartTime]
2025-05-25 13:00:39.897 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.LessonForAttendanceDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 13:00:39.898 +02:00 [INF] Executed action backend.Controllers.AttendanceController.GetTodayLessons (backend) in 38.9242ms
2025-05-25 13:00:39.898 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-25 13:00:39.898 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - 200 null application/json; charset=utf-8 40.8303ms
2025-05-25 13:00:39.911 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-25 13:00:39.927 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-25 13:00:39.931 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-25 13:00:39.937 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 90.3499ms
2025-05-25 13:00:39.938 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 13:00:39.940 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 94.708ms
2025-05-25 13:01:03.651 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - null null
2025-05-25 13:01:03.651 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-25 13:01:03.657 +02:00 [INF] CORS policy execution successful.
2025-05-25 13:01:03.657 +02:00 [INF] CORS policy execution successful.
2025-05-25 13:01:03.696 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - 204 null null 45.7107ms
2025-05-25 13:01:03.701 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 45.2895ms
2025-05-25 13:01:03.702 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - null null
2025-05-25 13:01:03.703 +02:00 [INF] CORS policy execution successful.
2025-05-25 13:01:03.709 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-25 13:01:03.709 +02:00 [INF] CORS policy execution successful.
2025-05-25 13:01:03.710 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 13:01:03.711 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-25 13:01:03.712 +02:00 [INF] Route matched with {action = "GetTodayLessons", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTodayLessons() on controller backend.Controllers.AttendanceController (backend).
2025-05-25 13:01:03.712 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-25 13:01:03.749 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-25 13:01:03.749 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-25 13:01:03.767 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-25 13:01:03.768 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__teacherId_0='?' (DbType = Int32), @__today_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id] AS [ScheduleId], [s0].[Name] AS [SubjectName], [c].[Name] AS [ClassName], [s].[StartTime]
FROM [Schedules] AS [s]
INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
WHERE [s].[TeacherId] = @__teacherId_0 AND [s].[DayOfWeek] = @__today_1
ORDER BY [s].[StartTime]
2025-05-25 13:01:03.768 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.LessonForAttendanceDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 13:01:03.768 +02:00 [INF] Executed action backend.Controllers.AttendanceController.GetTodayLessons (backend) in 56.4692ms
2025-05-25 13:01:03.769 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-25 13:01:03.769 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - 200 null application/json; charset=utf-8 66.922ms
2025-05-25 13:01:03.782 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-25 13:01:03.783 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-25 13:01:03.789 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 77.4276ms
2025-05-25 13:01:03.791 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 13:01:03.791 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 82.512ms
2025-05-25 13:02:09.988 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-25 13:02:09.988 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - null null
2025-05-25 13:02:09.991 +02:00 [INF] CORS policy execution successful.
2025-05-25 13:02:09.991 +02:00 [INF] CORS policy execution successful.
2025-05-25 13:02:09.992 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - 204 null null 4.2842ms
2025-05-25 13:02:09.992 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 4.2833ms
2025-05-25 13:02:09.994 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-25 13:02:09.994 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - null null
2025-05-25 13:02:09.995 +02:00 [INF] CORS policy execution successful.
2025-05-25 13:02:09.995 +02:00 [INF] CORS policy execution successful.
2025-05-25 13:02:09.997 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-25 13:02:09.997 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 13:02:09.997 +02:00 [INF] Route matched with {action = "GetTodayLessons", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTodayLessons() on controller backend.Controllers.AttendanceController (backend).
2025-05-25 13:02:09.997 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-25 13:02:10.056 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-25 13:02:10.056 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-25 13:02:10.080 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-25 13:02:10.084 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__teacherId_0='?' (DbType = Int32), @__today_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id] AS [ScheduleId], [s0].[Name] AS [SubjectName], [c].[Name] AS [ClassName], [s].[StartTime]
FROM [Schedules] AS [s]
INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
WHERE [s].[TeacherId] = @__teacherId_0 AND [s].[DayOfWeek] = @__today_1
ORDER BY [s].[StartTime]
2025-05-25 13:02:10.086 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.LessonForAttendanceDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 13:02:10.086 +02:00 [INF] Executed action backend.Controllers.AttendanceController.GetTodayLessons (backend) in 88.7217ms
2025-05-25 13:02:10.086 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-25 13:02:10.087 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - 200 null application/json; charset=utf-8 92.8979ms
2025-05-25 13:02:10.100 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-25 13:02:10.106 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-25 13:02:10.112 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 114.0863ms
2025-05-25 13:02:10.114 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 13:02:10.114 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 120.4115ms
2025-05-25 13:03:36.591 +02:00 [INF] Application is shutting down...
2025-05-25 13:03:47.167 +02:00 [INF] Application is starting
2025-05-25 13:03:47.244 +02:00 [INF] User profile is available. Using '/Users/pawelstaniul/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-05-25 13:03:47.282 +02:00 [WRN] The WebRootPath was not found: /Users/pawelstaniul/Desktop/Programy/school-logbook/backend/wwwroot. Static files may be unavailable.
2025-05-25 13:03:47.300 +02:00 [INF] Now listening on: http://localhost:5234
2025-05-25 13:03:47.301 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-25 13:03:47.302 +02:00 [INF] Hosting environment: Development
2025-05-25 13:03:47.302 +02:00 [INF] Content root path: /Users/pawelstaniul/Desktop/Programy/school-logbook/backend
2025-05-25 13:03:47.642 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/swagger/index.html - null null
2025-05-25 13:03:47.679 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/swagger/index.html - 200 null text/html;charset=utf-8 38.2707ms
2025-05-25 13:03:47.972 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/swagger/v1/swagger.json - null null
2025-05-25 13:03:48.024 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 52.7271ms
2025-05-25 13:03:53.840 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - null null
2025-05-25 13:03:53.840 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-25 13:03:53.864 +02:00 [WRN] Failed to determine the https port for redirect.
2025-05-25 13:03:53.910 +02:00 [INF] CORS policy execution successful.
2025-05-25 13:03:53.911 +02:00 [INF] CORS policy execution successful.
2025-05-25 13:03:53.918 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 78.1157ms
2025-05-25 13:03:53.944 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-25 13:03:53.945 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - 204 null null 103.6515ms
2025-05-25 13:03:53.976 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - null null
2025-05-25 13:03:54.016 +02:00 [INF] CORS policy execution successful.
2025-05-25 13:03:54.017 +02:00 [INF] CORS policy execution successful.
2025-05-25 13:03:54.123 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 13:03:54.124 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-25 13:03:54.136 +02:00 [INF] Route matched with {action = "GetTodayLessons", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTodayLessons() on controller backend.Controllers.AttendanceController (backend).
2025-05-25 13:03:54.136 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-25 13:04:06.730 +02:00 [INF] Executed DbCommand (36ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-25 13:04:06.774 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-25 13:04:06.789 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__teacherId_0='?' (DbType = Int32), @__today_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id] AS [ScheduleId], [s0].[Name] AS [SubjectName], [c].[Name] AS [ClassName], [s].[StartTime]
FROM [Schedules] AS [s]
INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
WHERE [s].[TeacherId] = @__teacherId_0 AND [s].[DayOfWeek] = @__today_1
ORDER BY [s].[StartTime]
2025-05-25 13:04:06.795 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-25 13:04:06.795 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.LessonForAttendanceDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 13:04:06.802 +02:00 [INF] Executed action backend.Controllers.AttendanceController.GetTodayLessons (backend) in 12665.3747ms
2025-05-25 13:04:06.802 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-25 13:04:06.806 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - 200 null application/json; charset=utf-8 12830.7227ms
2025-05-25 13:04:06.813 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-25 13:04:06.815 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-25 13:04:06.823 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 12687.4471ms
2025-05-25 13:04:06.824 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 13:04:06.825 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 12881.8027ms
2025-05-25 13:04:32.931 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-25 13:04:32.997 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - null null
2025-05-25 13:04:33.002 +02:00 [INF] CORS policy execution successful.
2025-05-25 13:04:33.002 +02:00 [INF] CORS policy execution successful.
2025-05-25 13:04:33.010 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 78.5462ms
2025-05-25 13:04:33.011 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - 204 null null 39.683ms
2025-05-25 13:04:33.041 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - null null
2025-05-25 13:04:33.044 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-25 13:04:33.045 +02:00 [INF] CORS policy execution successful.
2025-05-25 13:04:33.045 +02:00 [INF] CORS policy execution successful.
2025-05-25 13:04:33.051 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 13:04:33.053 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-25 13:04:33.055 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-25 13:04:33.056 +02:00 [INF] Route matched with {action = "GetTodayLessons", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTodayLessons() on controller backend.Controllers.AttendanceController (backend).
2025-05-25 13:04:37.312 +02:00 [INF] Executed DbCommand (93ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-25 13:04:37.312 +02:00 [INF] Executed DbCommand (93ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-25 13:04:37.554 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[@__teacherId_0='?' (DbType = Int32), @__today_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id] AS [ScheduleId], [s0].[Name] AS [SubjectName], [c].[Name] AS [ClassName], [s].[StartTime]
FROM [Schedules] AS [s]
INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
WHERE [s].[TeacherId] = @__teacherId_0 AND [s].[DayOfWeek] = @__today_1
ORDER BY [s].[StartTime]
2025-05-25 13:04:37.554 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-25 13:04:37.555 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.LessonForAttendanceDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 13:04:37.728 +02:00 [INF] Executed action backend.Controllers.AttendanceController.GetTodayLessons (backend) in 4671.8966ms
2025-05-25 13:04:37.728 +02:00 [INF] Executed DbCommand (172ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-25 13:04:37.728 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-25 13:04:37.728 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-25 13:04:37.728 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - 200 null application/json; charset=utf-8 4687.1444ms
2025-05-25 13:04:37.729 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 4675.9436ms
2025-05-25 13:04:37.729 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 13:04:37.729 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 4685.2052ms
2025-05-25 13:10:32.476 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/students/5 - null null
2025-05-25 13:10:32.479 +02:00 [INF] CORS policy execution successful.
2025-05-25 13:10:32.480 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/students/5 - 204 null null 4.6958ms
2025-05-25 13:10:32.482 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/attendance/students/5 - null null
2025-05-25 13:10:32.484 +02:00 [INF] CORS policy execution successful.
2025-05-25 13:10:32.490 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.GetStudentsForSchedule (backend)'
2025-05-25 13:10:32.516 +02:00 [INF] Route matched with {action = "GetStudentsForSchedule", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentsForSchedule(Int32) on controller backend.Controllers.AttendanceController (backend).
2025-05-25 13:10:32.927 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__scheduleId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[ClassId], [s].[CreatedAt], [s].[DayOfWeek], [s].[StartTime], [s].[SubjectId], [s].[TeacherId], [s].[UpdatedAt], [c].[Id], [c].[CreatedAt], [c].[HomeroomTeacherId], [c].[Name], [c].[UpdatedAt]
FROM [Schedules] AS [s]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
WHERE [s].[Id] = @__scheduleId_0
2025-05-25 13:10:33.004 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__scheduleId_1='?' (DbType = Int32), @__today_2='?' (DbType = DateTime2), @__schedule_ClassId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id] AS [StudentId], [s].[FirstName] + N' ' + [s].[LastName] AS [FullName], COALESCE((
    SELECT TOP(1) [a].[Status]
    FROM [Attendances] AS [a]
    WHERE [a].[ScheduleId] = @__scheduleId_1 AND [a].[StudentId] = [s].[Id] AND [a].[Date] = @__today_2), 0) AS [Status]
FROM [Students] AS [s]
WHERE [s].[ClassId] = @__schedule_ClassId_0
2025-05-25 13:10:33.005 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.StudentForAttendanceDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 13:10:33.011 +02:00 [INF] Executed action backend.Controllers.AttendanceController.GetStudentsForSchedule (backend) in 493.984ms
2025-05-25 13:10:33.011 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.GetStudentsForSchedule (backend)'
2025-05-25 13:10:33.011 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/attendance/students/5 - 200 null application/json; charset=utf-8 528.9746ms
2025-05-25 13:18:44.144 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-25 13:18:44.146 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - null null
2025-05-25 13:18:44.186 +02:00 [INF] CORS policy execution successful.
2025-05-25 13:18:44.186 +02:00 [INF] CORS policy execution successful.
2025-05-25 13:18:44.193 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 49.9295ms
2025-05-25 13:18:44.193 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - 204 null null 47.5167ms
2025-05-25 13:18:44.217 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-25 13:18:44.219 +02:00 [INF] CORS policy execution successful.
2025-05-25 13:18:44.221 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - null null
2025-05-25 13:18:44.246 +02:00 [INF] CORS policy execution successful.
2025-05-25 13:18:44.248 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 13:18:44.248 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-25 13:18:44.250 +02:00 [INF] Route matched with {action = "GetTodayLessons", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTodayLessons() on controller backend.Controllers.AttendanceController (backend).
2025-05-25 13:18:44.250 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-25 13:18:48.332 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-25 13:18:48.347 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-25 13:18:48.362 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-25 13:18:48.363 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-25 13:18:48.363 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 4113.736ms
2025-05-25 13:18:48.364 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 13:18:48.364 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 4146.5184ms
2025-05-25 13:18:48.423 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-25 13:18:48.437 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__teacherId_0='?' (DbType = Int32), @__today_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id] AS [ScheduleId], [s0].[Name] AS [SubjectName], [c].[Name] AS [ClassName], [s].[StartTime]
FROM [Schedules] AS [s]
INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
WHERE [s].[TeacherId] = @__teacherId_0 AND [s].[DayOfWeek] = @__today_1
ORDER BY [s].[StartTime]
2025-05-25 13:18:48.438 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.LessonForAttendanceDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 13:18:48.438 +02:00 [INF] Executed action backend.Controllers.AttendanceController.GetTodayLessons (backend) in 4188.6005ms
2025-05-25 13:18:48.438 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-25 13:18:48.439 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - 200 null application/json; charset=utf-8 4217.8977ms
2025-05-25 13:18:49.940 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/students/5 - null null
2025-05-25 13:18:49.941 +02:00 [INF] CORS policy execution successful.
2025-05-25 13:18:49.942 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/students/5 - 204 null null 1.3424ms
2025-05-25 13:18:49.943 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/attendance/students/5 - null null
2025-05-25 13:18:49.944 +02:00 [INF] CORS policy execution successful.
2025-05-25 13:18:49.945 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.GetStudentsForSchedule (backend)'
2025-05-25 13:18:49.946 +02:00 [INF] Route matched with {action = "GetStudentsForSchedule", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentsForSchedule(Int32) on controller backend.Controllers.AttendanceController (backend).
2025-05-25 13:18:49.966 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__scheduleId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[ClassId], [s].[CreatedAt], [s].[DayOfWeek], [s].[StartTime], [s].[SubjectId], [s].[TeacherId], [s].[UpdatedAt], [c].[Id], [c].[CreatedAt], [c].[HomeroomTeacherId], [c].[Name], [c].[UpdatedAt]
FROM [Schedules] AS [s]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
WHERE [s].[Id] = @__scheduleId_0
2025-05-25 13:18:49.983 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__scheduleId_1='?' (DbType = Int32), @__today_2='?' (DbType = DateTime2), @__schedule_ClassId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id] AS [StudentId], [s].[FirstName] + N' ' + [s].[LastName] AS [FullName], COALESCE((
    SELECT TOP(1) [a].[Status]
    FROM [Attendances] AS [a]
    WHERE [a].[ScheduleId] = @__scheduleId_1 AND [a].[StudentId] = [s].[Id] AND [a].[Date] = @__today_2), 0) AS [Status]
FROM [Students] AS [s]
WHERE [s].[ClassId] = @__schedule_ClassId_0
2025-05-25 13:18:49.983 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.StudentForAttendanceDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 13:18:49.983 +02:00 [INF] Executed action backend.Controllers.AttendanceController.GetStudentsForSchedule (backend) in 37.6013ms
2025-05-25 13:18:49.984 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.GetStudentsForSchedule (backend)'
2025-05-25 13:18:49.984 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/attendance/students/5 - 200 null application/json; charset=utf-8 40.8267ms
2025-05-25 13:19:02.916 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-25 13:19:02.918 +02:00 [INF] CORS policy execution successful.
2025-05-25 13:19:02.934 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 17.4236ms
2025-05-25 13:19:02.935 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-25 13:19:02.937 +02:00 [INF] CORS policy execution successful.
2025-05-25 13:19:02.940 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 13:19:02.941 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-25 13:19:02.979 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - null null
2025-05-25 13:19:02.982 +02:00 [INF] CORS policy execution successful.
2025-05-25 13:19:02.984 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - 204 null null 4.8249ms
2025-05-25 13:19:03.048 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - null null
2025-05-25 13:19:03.049 +02:00 [INF] CORS policy execution successful.
2025-05-25 13:19:03.050 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-25 13:19:03.050 +02:00 [INF] Route matched with {action = "GetTodayLessons", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTodayLessons() on controller backend.Controllers.AttendanceController (backend).
2025-05-25 13:19:03.174 +02:00 [INF] Executed DbCommand (70ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-25 13:19:03.174 +02:00 [INF] Executed DbCommand (71ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-25 13:19:03.333 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[@__teacherId_0='?' (DbType = Int32), @__today_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id] AS [ScheduleId], [s0].[Name] AS [SubjectName], [c].[Name] AS [ClassName], [s].[StartTime]
FROM [Schedules] AS [s]
INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
WHERE [s].[TeacherId] = @__teacherId_0 AND [s].[DayOfWeek] = @__today_1
ORDER BY [s].[StartTime]
2025-05-25 13:19:03.333 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-25 13:19:03.333 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.LessonForAttendanceDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 13:19:03.334 +02:00 [INF] Executed action backend.Controllers.AttendanceController.GetTodayLessons (backend) in 283.6367ms
2025-05-25 13:19:03.334 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-25 13:19:03.334 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - 200 null application/json; charset=utf-8 313.3967ms
2025-05-25 13:19:03.349 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-25 13:19:03.349 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-25 13:19:03.349 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 407.8939ms
2025-05-25 13:19:03.349 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 13:19:03.349 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 414.6172ms
2025-05-25 13:19:04.526 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/students/5 - null null
2025-05-25 13:19:04.529 +02:00 [INF] CORS policy execution successful.
2025-05-25 13:19:04.530 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/students/5 - 204 null null 3.9106ms
2025-05-25 13:19:04.533 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/attendance/students/5 - null null
2025-05-25 13:19:04.534 +02:00 [INF] CORS policy execution successful.
2025-05-25 13:19:04.536 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.GetStudentsForSchedule (backend)'
2025-05-25 13:19:04.538 +02:00 [INF] Route matched with {action = "GetStudentsForSchedule", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentsForSchedule(Int32) on controller backend.Controllers.AttendanceController (backend).
2025-05-25 13:19:04.556 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__scheduleId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[ClassId], [s].[CreatedAt], [s].[DayOfWeek], [s].[StartTime], [s].[SubjectId], [s].[TeacherId], [s].[UpdatedAt], [c].[Id], [c].[CreatedAt], [c].[HomeroomTeacherId], [c].[Name], [c].[UpdatedAt]
FROM [Schedules] AS [s]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
WHERE [s].[Id] = @__scheduleId_0
2025-05-25 13:19:04.574 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__scheduleId_1='?' (DbType = Int32), @__today_2='?' (DbType = DateTime2), @__schedule_ClassId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id] AS [StudentId], [s].[FirstName] + N' ' + [s].[LastName] AS [FullName], COALESCE((
    SELECT TOP(1) [a].[Status]
    FROM [Attendances] AS [a]
    WHERE [a].[ScheduleId] = @__scheduleId_1 AND [a].[StudentId] = [s].[Id] AND [a].[Date] = @__today_2), 0) AS [Status]
FROM [Students] AS [s]
WHERE [s].[ClassId] = @__schedule_ClassId_0
2025-05-25 13:19:04.575 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.StudentForAttendanceDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 13:19:04.575 +02:00 [INF] Executed action backend.Controllers.AttendanceController.GetStudentsForSchedule (backend) in 37.295ms
2025-05-25 13:19:04.575 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.GetStudentsForSchedule (backend)'
2025-05-25 13:19:04.575 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/attendance/students/5 - 200 null application/json; charset=utf-8 42.4345ms
2025-05-25 13:19:09.774 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-25 13:19:09.774 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - null null
2025-05-25 13:19:09.779 +02:00 [INF] CORS policy execution successful.
2025-05-25 13:19:09.779 +02:00 [INF] CORS policy execution successful.
2025-05-25 13:19:09.780 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 6.5995ms
2025-05-25 13:19:09.781 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - 204 null null 5.7534ms
2025-05-25 13:19:09.846 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-25 13:19:09.846 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - null null
2025-05-25 13:19:09.848 +02:00 [INF] CORS policy execution successful.
2025-05-25 13:19:09.848 +02:00 [INF] CORS policy execution successful.
2025-05-25 13:19:09.850 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 13:19:09.851 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-25 13:19:09.851 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-25 13:19:09.851 +02:00 [INF] Route matched with {action = "GetTodayLessons", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTodayLessons() on controller backend.Controllers.AttendanceController (backend).
2025-05-25 13:19:09.968 +02:00 [INF] Executed DbCommand (81ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-25 13:19:09.968 +02:00 [INF] Executed DbCommand (104ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-25 13:19:09.992 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__teacherId_0='?' (DbType = Int32), @__today_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id] AS [ScheduleId], [s0].[Name] AS [SubjectName], [c].[Name] AS [ClassName], [s].[StartTime]
FROM [Schedules] AS [s]
INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
WHERE [s].[TeacherId] = @__teacherId_0 AND [s].[DayOfWeek] = @__today_1
ORDER BY [s].[StartTime]
2025-05-25 13:19:09.992 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.LessonForAttendanceDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 13:19:09.993 +02:00 [INF] Executed action backend.Controllers.AttendanceController.GetTodayLessons (backend) in 141.9445ms
2025-05-25 13:19:09.993 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-25 13:19:09.994 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - 200 null application/json; charset=utf-8 147.4188ms
2025-05-25 13:19:09.998 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-25 13:19:10.014 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-25 13:19:10.014 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-25 13:19:10.014 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 163.5789ms
2025-05-25 13:19:10.015 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 13:19:10.015 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 169.0792ms
2025-05-25 13:19:11.378 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/students/5 - null null
2025-05-25 13:19:11.379 +02:00 [INF] CORS policy execution successful.
2025-05-25 13:19:11.379 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/students/5 - 204 null null 0.9396ms
2025-05-25 13:19:11.381 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/attendance/students/5 - null null
2025-05-25 13:19:11.381 +02:00 [INF] CORS policy execution successful.
2025-05-25 13:19:11.382 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.GetStudentsForSchedule (backend)'
2025-05-25 13:19:11.382 +02:00 [INF] Route matched with {action = "GetStudentsForSchedule", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentsForSchedule(Int32) on controller backend.Controllers.AttendanceController (backend).
2025-05-25 13:19:11.399 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__scheduleId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[ClassId], [s].[CreatedAt], [s].[DayOfWeek], [s].[StartTime], [s].[SubjectId], [s].[TeacherId], [s].[UpdatedAt], [c].[Id], [c].[CreatedAt], [c].[HomeroomTeacherId], [c].[Name], [c].[UpdatedAt]
FROM [Schedules] AS [s]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
WHERE [s].[Id] = @__scheduleId_0
2025-05-25 13:19:11.415 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__scheduleId_1='?' (DbType = Int32), @__today_2='?' (DbType = DateTime2), @__schedule_ClassId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id] AS [StudentId], [s].[FirstName] + N' ' + [s].[LastName] AS [FullName], COALESCE((
    SELECT TOP(1) [a].[Status]
    FROM [Attendances] AS [a]
    WHERE [a].[ScheduleId] = @__scheduleId_1 AND [a].[StudentId] = [s].[Id] AND [a].[Date] = @__today_2), 0) AS [Status]
FROM [Students] AS [s]
WHERE [s].[ClassId] = @__schedule_ClassId_0
2025-05-25 13:19:11.415 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.StudentForAttendanceDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 13:19:11.416 +02:00 [INF] Executed action backend.Controllers.AttendanceController.GetStudentsForSchedule (backend) in 33.2413ms
2025-05-25 13:19:11.416 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.GetStudentsForSchedule (backend)'
2025-05-25 13:19:11.416 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/attendance/students/5 - 200 null application/json; charset=utf-8 35.5813ms
2025-05-25 13:19:32.536 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/teacher/d2f5cf82-b1bb-44b9-8171-f8f7fbb1a6f6 - null null
2025-05-25 13:19:32.545 +02:00 [INF] CORS policy execution successful.
2025-05-25 13:19:32.546 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/teacher/d2f5cf82-b1bb-44b9-8171-f8f7fbb1a6f6 - 204 null null 11.2825ms
2025-05-25 13:19:32.571 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/teacher/d2f5cf82-b1bb-44b9-8171-f8f7fbb1a6f6 - null null
2025-05-25 13:19:32.573 +02:00 [INF] CORS policy execution successful.
2025-05-25 13:19:32.575 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetScheduleForTeacher (backend)'
2025-05-25 13:19:32.583 +02:00 [INF] Route matched with {action = "GetScheduleForTeacher", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetScheduleForTeacher(System.String) on controller backend.Controllers.ScheduleController (backend).
2025-05-25 13:19:32.613 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__userId_0
2025-05-25 13:19:32.635 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__teacher_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[DayOfWeek], [s].[StartTime], [c].[Name] AS [ClassName], [s0].[Name] AS [SubjectName]
FROM [Schedules] AS [s]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
WHERE [s].[TeacherId] = @__teacher_Id_0
ORDER BY [s].[DayOfWeek], [s].[StartTime]
2025-05-25 13:19:32.637 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.TeacherScheduleEntryDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 13:19:32.643 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetScheduleForTeacher (backend) in 60.4455ms
2025-05-25 13:19:32.643 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetScheduleForTeacher (backend)'
2025-05-25 13:19:32.643 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/teacher/d2f5cf82-b1bb-44b9-8171-f8f7fbb1a6f6 - 200 null application/json; charset=utf-8 72.8972ms
2025-05-25 13:19:35.848 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - null null
2025-05-25 13:19:35.848 +02:00 [INF] CORS policy execution successful.
2025-05-25 13:19:35.848 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - 204 null null 0.4442ms
2025-05-25 13:19:35.850 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - null null
2025-05-25 13:19:35.851 +02:00 [INF] CORS policy execution successful.
2025-05-25 13:19:35.853 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-25 13:19:35.853 +02:00 [INF] Route matched with {action = "GetTodayLessons", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTodayLessons() on controller backend.Controllers.AttendanceController (backend).
2025-05-25 13:19:35.878 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-25 13:19:35.894 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__teacherId_0='?' (DbType = Int32), @__today_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id] AS [ScheduleId], [s0].[Name] AS [SubjectName], [c].[Name] AS [ClassName], [s].[StartTime]
FROM [Schedules] AS [s]
INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
WHERE [s].[TeacherId] = @__teacherId_0 AND [s].[DayOfWeek] = @__today_1
ORDER BY [s].[StartTime]
2025-05-25 13:19:35.894 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.LessonForAttendanceDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 13:19:35.895 +02:00 [INF] Executed action backend.Controllers.AttendanceController.GetTodayLessons (backend) in 41.6737ms
2025-05-25 13:19:35.895 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-25 13:19:35.895 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - 200 null application/json; charset=utf-8 45.729ms
2025-05-25 13:58:20.021 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/auth/login - null null
2025-05-25 13:58:20.046 +02:00 [INF] CORS policy execution successful.
2025-05-25 13:58:20.047 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/auth/login - 204 null null 26.4283ms
2025-05-25 13:58:20.101 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5234/api/auth/login - application/json 54
2025-05-25 13:58:20.108 +02:00 [INF] CORS policy execution successful.
2025-05-25 13:58:20.110 +02:00 [INF] Executing endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-05-25 13:58:20.153 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(backend.DTOs.Login) on controller backend.Controllers.AuthController (backend).
2025-05-25 13:58:20.478 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-05-25 13:58:20.609 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-05-25 13:58:20.624 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-25 13:58:20.642 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-25 13:58:20.663 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-25 13:58:20.680 +02:00 [INF] AuthenticationScheme: Identity.Application signed in.
2025-05-25 13:58:20.696 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-05-25 13:58:20.702 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.Threading.Tasks.Task`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-25 13:58:20.715 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-25 13:58:20.738 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-05-25 13:58:20.817 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@p20='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p21='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32), @p18='?' (DbType = Boolean), @p19='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [AdminId] = @p1, [ConcurrencyStamp] = @p2, [DateAdded] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastSuccessfulLogin] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [SecurityStamp] = @p15, [StudentId] = @p16, [TeacherId] = @p17, [TwoFactorEnabled] = @p18, [UserName] = @p19
OUTPUT 1
WHERE [Id] = @p20 AND [ConcurrencyStamp] = @p21;
2025-05-25 13:58:20.833 +02:00 [INF] Executed action backend.Controllers.AuthController.Login (backend) in 679.5615ms
2025-05-25 13:58:20.833 +02:00 [INF] Executed endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-05-25 13:58:20.834 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5234/api/auth/login - 200 null application/json; charset=utf-8 732.9506ms
2025-05-25 13:58:20.840 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-25 13:58:20.840 +02:00 [INF] CORS policy execution successful.
2025-05-25 13:58:20.840 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 0.6818ms
2025-05-25 13:58:20.842 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-25 13:58:20.842 +02:00 [INF] CORS policy execution successful.
2025-05-25 13:58:20.843 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 13:58:20.844 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-25 13:58:20.856 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/teacher/d2f5cf82-b1bb-44b9-8171-f8f7fbb1a6f6 - null null
2025-05-25 13:58:20.856 +02:00 [INF] CORS policy execution successful.
2025-05-25 13:58:20.856 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/teacher/d2f5cf82-b1bb-44b9-8171-f8f7fbb1a6f6 - 204 null null 0.3978ms
2025-05-25 13:58:20.858 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/teacher/d2f5cf82-b1bb-44b9-8171-f8f7fbb1a6f6 - null null
2025-05-25 13:58:20.859 +02:00 [INF] CORS policy execution successful.
2025-05-25 13:58:20.861 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-25 13:58:20.861 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetScheduleForTeacher (backend)'
2025-05-25 13:58:20.865 +02:00 [INF] Route matched with {action = "GetScheduleForTeacher", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetScheduleForTeacher(System.String) on controller backend.Controllers.ScheduleController (backend).
2025-05-25 13:58:20.922 +02:00 [INF] Executed DbCommand (56ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-25 13:58:21.023 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-25 13:58:21.024 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-25 13:58:21.025 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 180.9281ms
2025-05-25 13:58:21.025 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 13:58:21.025 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 182.76ms
2025-05-25 13:58:21.104 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__userId_0
2025-05-25 13:58:21.119 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__teacher_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[DayOfWeek], [s].[StartTime], [c].[Name] AS [ClassName], [s0].[Name] AS [SubjectName]
FROM [Schedules] AS [s]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
WHERE [s].[TeacherId] = @__teacher_Id_0
ORDER BY [s].[DayOfWeek], [s].[StartTime]
2025-05-25 13:58:21.119 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.TeacherScheduleEntryDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 13:58:21.119 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetScheduleForTeacher (backend) in 253.989ms
2025-05-25 13:58:21.119 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetScheduleForTeacher (backend)'
2025-05-25 13:58:21.120 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/teacher/d2f5cf82-b1bb-44b9-8171-f8f7fbb1a6f6 - 200 null application/json; charset=utf-8 261.3477ms
2025-05-25 13:58:23.647 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - null null
2025-05-25 13:58:23.651 +02:00 [INF] CORS policy execution successful.
2025-05-25 13:58:23.653 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - 204 null null 6.6775ms
2025-05-25 13:58:23.655 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - null null
2025-05-25 13:58:23.678 +02:00 [INF] CORS policy execution successful.
2025-05-25 13:58:23.683 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-25 13:58:23.685 +02:00 [INF] Route matched with {action = "GetTodayLessons", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTodayLessons() on controller backend.Controllers.AttendanceController (backend).
2025-05-25 13:58:23.713 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-25 13:58:23.728 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__teacherId_0='?' (DbType = Int32), @__today_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id] AS [ScheduleId], [s0].[Name] AS [SubjectName], [c].[Name] AS [ClassName], [s].[StartTime]
FROM [Schedules] AS [s]
INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
WHERE [s].[TeacherId] = @__teacherId_0 AND [s].[DayOfWeek] = @__today_1
ORDER BY [s].[StartTime]
2025-05-25 13:58:23.728 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.LessonForAttendanceDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 13:58:23.729 +02:00 [INF] Executed action backend.Controllers.AttendanceController.GetTodayLessons (backend) in 43.7097ms
2025-05-25 13:58:23.729 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-25 13:58:23.729 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - 200 null application/json; charset=utf-8 73.7573ms
2025-05-25 13:58:37.096 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/students/5 - null null
2025-05-25 13:58:37.098 +02:00 [INF] CORS policy execution successful.
2025-05-25 13:58:37.099 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/students/5 - 204 null null 2.6347ms
2025-05-25 13:58:37.101 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/attendance/students/5 - null null
2025-05-25 13:58:37.101 +02:00 [INF] CORS policy execution successful.
2025-05-25 13:58:37.102 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.GetStudentsForSchedule (backend)'
2025-05-25 13:58:37.102 +02:00 [INF] Route matched with {action = "GetStudentsForSchedule", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentsForSchedule(Int32) on controller backend.Controllers.AttendanceController (backend).
2025-05-25 13:58:37.125 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@__scheduleId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[ClassId], [s].[CreatedAt], [s].[DayOfWeek], [s].[StartTime], [s].[SubjectId], [s].[TeacherId], [s].[UpdatedAt], [c].[Id], [c].[CreatedAt], [c].[HomeroomTeacherId], [c].[Name], [c].[UpdatedAt]
FROM [Schedules] AS [s]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
WHERE [s].[Id] = @__scheduleId_0
2025-05-25 13:58:37.141 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__scheduleId_1='?' (DbType = Int32), @__today_2='?' (DbType = DateTime2), @__schedule_ClassId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id] AS [StudentId], [s].[FirstName] + N' ' + [s].[LastName] AS [FullName], COALESCE((
    SELECT TOP(1) [a].[Status]
    FROM [Attendances] AS [a]
    WHERE [a].[ScheduleId] = @__scheduleId_1 AND [a].[StudentId] = [s].[Id] AND [a].[Date] = @__today_2), 0) AS [Status]
FROM [Students] AS [s]
WHERE [s].[ClassId] = @__schedule_ClassId_0
2025-05-25 13:58:37.142 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.StudentForAttendanceDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 13:58:37.142 +02:00 [INF] Executed action backend.Controllers.AttendanceController.GetStudentsForSchedule (backend) in 40.5041ms
2025-05-25 13:58:37.143 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.GetStudentsForSchedule (backend)'
2025-05-25 13:58:37.143 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/attendance/students/5 - 200 null application/json; charset=utf-8 42.1489ms
2025-05-25 14:01:22.986 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/students/5 - null null
2025-05-25 14:01:22.991 +02:00 [INF] CORS policy execution successful.
2025-05-25 14:01:22.992 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/students/5 - 204 null null 6.2155ms
2025-05-25 14:01:23.018 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/attendance/students/5 - null null
2025-05-25 14:01:23.018 +02:00 [INF] CORS policy execution successful.
2025-05-25 14:01:23.021 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.GetStudentsForSchedule (backend)'
2025-05-25 14:01:23.022 +02:00 [INF] Route matched with {action = "GetStudentsForSchedule", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentsForSchedule(Int32) on controller backend.Controllers.AttendanceController (backend).
2025-05-25 14:01:23.048 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__scheduleId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[ClassId], [s].[CreatedAt], [s].[DayOfWeek], [s].[StartTime], [s].[SubjectId], [s].[TeacherId], [s].[UpdatedAt], [c].[Id], [c].[CreatedAt], [c].[HomeroomTeacherId], [c].[Name], [c].[UpdatedAt]
FROM [Schedules] AS [s]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
WHERE [s].[Id] = @__scheduleId_0
2025-05-25 14:01:23.066 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__scheduleId_1='?' (DbType = Int32), @__today_2='?' (DbType = DateTime2), @__schedule_ClassId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id] AS [StudentId], [s].[FirstName] + N' ' + [s].[LastName] AS [FullName], COALESCE((
    SELECT TOP(1) [a].[Status]
    FROM [Attendances] AS [a]
    WHERE [a].[ScheduleId] = @__scheduleId_1 AND [a].[StudentId] = [s].[Id] AND [a].[Date] = @__today_2), 0) AS [Status]
FROM [Students] AS [s]
WHERE [s].[ClassId] = @__schedule_ClassId_0
2025-05-25 14:01:23.067 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.StudentForAttendanceDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 14:01:23.067 +02:00 [INF] Executed action backend.Controllers.AttendanceController.GetStudentsForSchedule (backend) in 44.8323ms
2025-05-25 14:01:23.068 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.GetStudentsForSchedule (backend)'
2025-05-25 14:01:23.068 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/attendance/students/5 - 200 null application/json; charset=utf-8 50.4314ms
2025-05-25 14:02:20.867 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/students/5 - null null
2025-05-25 14:02:20.869 +02:00 [INF] CORS policy execution successful.
2025-05-25 14:02:20.870 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/students/5 - 204 null null 3.2539ms
2025-05-25 14:02:20.921 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/attendance/students/5 - null null
2025-05-25 14:02:20.949 +02:00 [INF] CORS policy execution successful.
2025-05-25 14:02:20.953 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.GetStudentsForSchedule (backend)'
2025-05-25 14:02:20.954 +02:00 [INF] Route matched with {action = "GetStudentsForSchedule", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentsForSchedule(Int32) on controller backend.Controllers.AttendanceController (backend).
2025-05-25 14:02:20.979 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__scheduleId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[ClassId], [s].[CreatedAt], [s].[DayOfWeek], [s].[StartTime], [s].[SubjectId], [s].[TeacherId], [s].[UpdatedAt], [c].[Id], [c].[CreatedAt], [c].[HomeroomTeacherId], [c].[Name], [c].[UpdatedAt]
FROM [Schedules] AS [s]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
WHERE [s].[Id] = @__scheduleId_0
2025-05-25 14:02:20.996 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__scheduleId_1='?' (DbType = Int32), @__today_2='?' (DbType = DateTime2), @__schedule_ClassId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id] AS [StudentId], [s].[FirstName] + N' ' + [s].[LastName] AS [FullName], COALESCE((
    SELECT TOP(1) [a].[Status]
    FROM [Attendances] AS [a]
    WHERE [a].[ScheduleId] = @__scheduleId_1 AND [a].[StudentId] = [s].[Id] AND [a].[Date] = @__today_2), 0) AS [Status]
FROM [Students] AS [s]
WHERE [s].[ClassId] = @__schedule_ClassId_0
2025-05-25 14:02:20.997 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.StudentForAttendanceDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 14:02:20.999 +02:00 [INF] Executed action backend.Controllers.AttendanceController.GetStudentsForSchedule (backend) in 44.4776ms
2025-05-25 14:02:20.999 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.GetStudentsForSchedule (backend)'
2025-05-25 14:02:21.000 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/attendance/students/5 - 200 null application/json; charset=utf-8 78.3885ms
2025-05-25 14:02:25.765 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/attendance/students/5 - null null
2025-05-25 14:02:25.784 +02:00 [INF] CORS policy execution successful.
2025-05-25 14:02:25.803 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.GetStudentsForSchedule (backend)'
2025-05-25 14:02:25.804 +02:00 [INF] Route matched with {action = "GetStudentsForSchedule", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentsForSchedule(Int32) on controller backend.Controllers.AttendanceController (backend).
2025-05-25 14:02:25.831 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__scheduleId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[ClassId], [s].[CreatedAt], [s].[DayOfWeek], [s].[StartTime], [s].[SubjectId], [s].[TeacherId], [s].[UpdatedAt], [c].[Id], [c].[CreatedAt], [c].[HomeroomTeacherId], [c].[Name], [c].[UpdatedAt]
FROM [Schedules] AS [s]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
WHERE [s].[Id] = @__scheduleId_0
2025-05-25 14:02:25.854 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__scheduleId_1='?' (DbType = Int32), @__today_2='?' (DbType = DateTime2), @__schedule_ClassId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id] AS [StudentId], [s].[FirstName] + N' ' + [s].[LastName] AS [FullName], COALESCE((
    SELECT TOP(1) [a].[Status]
    FROM [Attendances] AS [a]
    WHERE [a].[ScheduleId] = @__scheduleId_1 AND [a].[StudentId] = [s].[Id] AND [a].[Date] = @__today_2), 0) AS [Status]
FROM [Students] AS [s]
WHERE [s].[ClassId] = @__schedule_ClassId_0
2025-05-25 14:02:25.854 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.StudentForAttendanceDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 14:02:25.855 +02:00 [INF] Executed action backend.Controllers.AttendanceController.GetStudentsForSchedule (backend) in 50.7521ms
2025-05-25 14:02:25.855 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.GetStudentsForSchedule (backend)'
2025-05-25 14:02:25.855 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/attendance/students/5 - 200 null application/json; charset=utf-8 92.0247ms
2025-05-25 14:03:11.905 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/students/5 - null null
2025-05-25 14:03:11.908 +02:00 [INF] CORS policy execution successful.
2025-05-25 14:03:11.909 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/students/5 - 204 null null 3.8221ms
2025-05-25 14:03:11.911 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/attendance/students/5 - null null
2025-05-25 14:03:11.912 +02:00 [INF] CORS policy execution successful.
2025-05-25 14:03:11.916 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.GetStudentsForSchedule (backend)'
2025-05-25 14:03:11.917 +02:00 [INF] Route matched with {action = "GetStudentsForSchedule", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentsForSchedule(Int32) on controller backend.Controllers.AttendanceController (backend).
2025-05-25 14:03:11.954 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__scheduleId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[ClassId], [s].[CreatedAt], [s].[DayOfWeek], [s].[StartTime], [s].[SubjectId], [s].[TeacherId], [s].[UpdatedAt], [c].[Id], [c].[CreatedAt], [c].[HomeroomTeacherId], [c].[Name], [c].[UpdatedAt]
FROM [Schedules] AS [s]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
WHERE [s].[Id] = @__scheduleId_0
2025-05-25 14:03:11.983 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[@__scheduleId_1='?' (DbType = Int32), @__today_2='?' (DbType = DateTime2), @__schedule_ClassId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id] AS [StudentId], [s].[FirstName] + N' ' + [s].[LastName] AS [FullName], COALESCE((
    SELECT TOP(1) [a].[Status]
    FROM [Attendances] AS [a]
    WHERE [a].[ScheduleId] = @__scheduleId_1 AND [a].[StudentId] = [s].[Id] AND [a].[Date] = @__today_2), 0) AS [Status]
FROM [Students] AS [s]
WHERE [s].[ClassId] = @__schedule_ClassId_0
2025-05-25 14:03:11.984 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.StudentForAttendanceDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 14:03:12.041 +02:00 [INF] Executed action backend.Controllers.AttendanceController.GetStudentsForSchedule (backend) in 95.9064ms
2025-05-25 14:03:12.042 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.GetStudentsForSchedule (backend)'
2025-05-25 14:03:12.043 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/attendance/students/5 - 200 null application/json; charset=utf-8 131.3304ms
2025-05-25 14:12:55.313 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-25 14:12:55.315 +02:00 [INF] CORS policy execution successful.
2025-05-25 14:12:55.317 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 4.4832ms
2025-05-25 14:12:55.325 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-25 14:12:55.326 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - null null
2025-05-25 14:12:55.326 +02:00 [INF] CORS policy execution successful.
2025-05-25 14:12:55.326 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - 204 null null 0.1576ms
2025-05-25 14:12:55.355 +02:00 [INF] CORS policy execution successful.
2025-05-25 14:12:55.408 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - null null
2025-05-25 14:12:55.408 +02:00 [INF] CORS policy execution successful.
2025-05-25 14:12:55.413 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 14:12:55.413 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-25 14:12:55.416 +02:00 [INF] Route matched with {action = "GetTodayLessons", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTodayLessons() on controller backend.Controllers.AttendanceController (backend).
2025-05-25 14:12:55.416 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-25 14:12:56.061 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-25 14:12:56.093 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-25 14:12:56.125 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-25 14:12:56.126 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-25 14:12:56.126 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 710.0767ms
2025-05-25 14:12:56.126 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 14:12:56.126 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 801.4485ms
2025-05-25 14:12:56.222 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-25 14:12:56.252 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[@__teacherId_0='?' (DbType = Int32), @__today_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id] AS [ScheduleId], [s0].[Name] AS [SubjectName], [c].[Name] AS [ClassName], [s].[StartTime]
FROM [Schedules] AS [s]
INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
WHERE [s].[TeacherId] = @__teacherId_0 AND [s].[DayOfWeek] = @__today_1
ORDER BY [s].[StartTime]
2025-05-25 14:12:56.252 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.LessonForAttendanceDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 14:12:56.252 +02:00 [INF] Executed action backend.Controllers.AttendanceController.GetTodayLessons (backend) in 836.2978ms
2025-05-25 14:12:56.253 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-25 14:12:56.253 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - 200 null application/json; charset=utf-8 844.9911ms
2025-05-25 14:13:11.439 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/students/5 - null null
2025-05-25 14:13:11.442 +02:00 [INF] CORS policy execution successful.
2025-05-25 14:13:11.443 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/students/5 - 204 null null 3.3054ms
2025-05-25 14:13:11.466 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/attendance/students/5 - null null
2025-05-25 14:13:11.467 +02:00 [INF] CORS policy execution successful.
2025-05-25 14:13:11.468 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.GetStudentsForSchedule (backend)'
2025-05-25 14:13:11.469 +02:00 [INF] Route matched with {action = "GetStudentsForSchedule", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentsForSchedule(Int32) on controller backend.Controllers.AttendanceController (backend).
2025-05-25 14:13:11.511 +02:00 [INF] Executed DbCommand (37ms) [Parameters=[@__scheduleId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[ClassId], [s].[CreatedAt], [s].[DayOfWeek], [s].[StartTime], [s].[SubjectId], [s].[TeacherId], [s].[UpdatedAt], [c].[Id], [c].[CreatedAt], [c].[HomeroomTeacherId], [c].[Name], [c].[UpdatedAt]
FROM [Schedules] AS [s]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
WHERE [s].[Id] = @__scheduleId_0
2025-05-25 14:13:11.543 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[@__scheduleId_1='?' (DbType = Int32), @__today_2='?' (DbType = DateTime2), @__schedule_ClassId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id] AS [StudentId], [s].[FirstName] + N' ' + [s].[LastName] AS [FullName], COALESCE((
    SELECT TOP(1) [a].[Status]
    FROM [Attendances] AS [a]
    WHERE [a].[ScheduleId] = @__scheduleId_1 AND [a].[StudentId] = [s].[Id] AND [a].[Date] = @__today_2), 0) AS [Status]
FROM [Students] AS [s]
WHERE [s].[ClassId] = @__schedule_ClassId_0
2025-05-25 14:13:11.543 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.StudentForAttendanceDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 14:13:11.544 +02:00 [INF] Executed action backend.Controllers.AttendanceController.GetStudentsForSchedule (backend) in 75.1715ms
2025-05-25 14:13:11.544 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.GetStudentsForSchedule (backend)'
2025-05-25 14:13:11.545 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/attendance/students/5 - 200 null application/json; charset=utf-8 78.5121ms
2025-05-25 14:16:33.976 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/save/undefined - null null
2025-05-25 14:16:33.986 +02:00 [INF] CORS policy execution successful.
2025-05-25 14:16:33.988 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/save/undefined - 204 null null 11.6907ms
2025-05-25 14:16:34.042 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5234/api/attendance/save/undefined - application/json 79
2025-05-25 14:16:34.072 +02:00 [INF] CORS policy execution successful.
2025-05-25 14:16:34.081 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5234/api/attendance/save/undefined - 404 0 null 42.3101ms
2025-05-25 14:16:34.085 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://localhost:5234/api/attendance/save/undefined, Response status code: 404
2025-05-25 14:16:39.304 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/students/5 - null null
2025-05-25 14:16:39.304 +02:00 [INF] CORS policy execution successful.
2025-05-25 14:16:39.304 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/students/5 - 204 null null 0.3753ms
2025-05-25 14:16:39.306 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/attendance/students/5 - null null
2025-05-25 14:16:39.306 +02:00 [INF] CORS policy execution successful.
2025-05-25 14:16:39.307 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.GetStudentsForSchedule (backend)'
2025-05-25 14:16:39.309 +02:00 [INF] Route matched with {action = "GetStudentsForSchedule", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentsForSchedule(Int32) on controller backend.Controllers.AttendanceController (backend).
2025-05-25 14:16:39.354 +02:00 [INF] Executed DbCommand (37ms) [Parameters=[@__scheduleId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[ClassId], [s].[CreatedAt], [s].[DayOfWeek], [s].[StartTime], [s].[SubjectId], [s].[TeacherId], [s].[UpdatedAt], [c].[Id], [c].[CreatedAt], [c].[HomeroomTeacherId], [c].[Name], [c].[UpdatedAt]
FROM [Schedules] AS [s]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
WHERE [s].[Id] = @__scheduleId_0
2025-05-25 14:16:39.386 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[@__scheduleId_1='?' (DbType = Int32), @__today_2='?' (DbType = DateTime2), @__schedule_ClassId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id] AS [StudentId], [s].[FirstName] + N' ' + [s].[LastName] AS [FullName], COALESCE((
    SELECT TOP(1) [a].[Status]
    FROM [Attendances] AS [a]
    WHERE [a].[ScheduleId] = @__scheduleId_1 AND [a].[StudentId] = [s].[Id] AND [a].[Date] = @__today_2), 0) AS [Status]
FROM [Students] AS [s]
WHERE [s].[ClassId] = @__schedule_ClassId_0
2025-05-25 14:16:39.387 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.StudentForAttendanceDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 14:16:39.388 +02:00 [INF] Executed action backend.Controllers.AttendanceController.GetStudentsForSchedule (backend) in 79.0156ms
2025-05-25 14:16:39.388 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.GetStudentsForSchedule (backend)'
2025-05-25 14:16:39.389 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/attendance/students/5 - 200 null application/json; charset=utf-8 82.7823ms
2025-05-25 14:16:55.680 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-25 14:16:55.672 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - null null
2025-05-25 14:16:55.706 +02:00 [INF] CORS policy execution successful.
2025-05-25 14:16:55.707 +02:00 [INF] CORS policy execution successful.
2025-05-25 14:16:55.707 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - 204 null null 38.1215ms
2025-05-25 14:16:55.707 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 38.1399ms
2025-05-25 14:16:55.762 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - null null
2025-05-25 14:16:55.769 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-25 14:16:55.769 +02:00 [INF] CORS policy execution successful.
2025-05-25 14:16:55.769 +02:00 [INF] CORS policy execution successful.
2025-05-25 14:16:55.801 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-25 14:16:55.801 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 14:16:55.801 +02:00 [INF] Route matched with {action = "GetTodayLessons", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTodayLessons() on controller backend.Controllers.AttendanceController (backend).
2025-05-25 14:16:55.802 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-25 14:16:55.925 +02:00 [INF] Executed DbCommand (73ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-25 14:16:55.925 +02:00 [INF] Executed DbCommand (97ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-25 14:16:56.144 +02:00 [INF] Executed DbCommand (98ms) [Parameters=[@__teacherId_0='?' (DbType = Int32), @__today_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id] AS [ScheduleId], [s0].[Name] AS [SubjectName], [c].[Name] AS [ClassName], [s].[StartTime]
FROM [Schedules] AS [s]
INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
WHERE [s].[TeacherId] = @__teacherId_0 AND [s].[DayOfWeek] = @__today_1
ORDER BY [s].[StartTime]
2025-05-25 14:16:56.170 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.LessonForAttendanceDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 14:16:56.173 +02:00 [INF] Executed action backend.Controllers.AttendanceController.GetTodayLessons (backend) in 371.147ms
2025-05-25 14:16:56.173 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-25 14:16:56.174 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - 200 null application/json; charset=utf-8 411.6187ms
2025-05-25 14:16:56.175 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-25 14:16:56.207 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-25 14:16:56.207 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-25 14:16:56.207 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 405.577ms
2025-05-25 14:16:56.207 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 14:16:56.208 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 438.386ms
2025-05-25 14:16:57.357 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/students/5 - null null
2025-05-25 14:16:57.357 +02:00 [INF] CORS policy execution successful.
2025-05-25 14:16:57.358 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/students/5 - 204 null null 0.604ms
2025-05-25 14:16:57.359 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/attendance/students/5 - null null
2025-05-25 14:16:57.359 +02:00 [INF] CORS policy execution successful.
2025-05-25 14:16:57.360 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.GetStudentsForSchedule (backend)'
2025-05-25 14:16:57.361 +02:00 [INF] Route matched with {action = "GetStudentsForSchedule", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentsForSchedule(Int32) on controller backend.Controllers.AttendanceController (backend).
2025-05-25 14:16:57.394 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[@__scheduleId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[ClassId], [s].[CreatedAt], [s].[DayOfWeek], [s].[StartTime], [s].[SubjectId], [s].[TeacherId], [s].[UpdatedAt], [c].[Id], [c].[CreatedAt], [c].[HomeroomTeacherId], [c].[Name], [c].[UpdatedAt]
FROM [Schedules] AS [s]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
WHERE [s].[Id] = @__scheduleId_0
2025-05-25 14:16:57.425 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[@__scheduleId_1='?' (DbType = Int32), @__today_2='?' (DbType = DateTime2), @__schedule_ClassId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id] AS [StudentId], [s].[FirstName] + N' ' + [s].[LastName] AS [FullName], COALESCE((
    SELECT TOP(1) [a].[Status]
    FROM [Attendances] AS [a]
    WHERE [a].[ScheduleId] = @__scheduleId_1 AND [a].[StudentId] = [s].[Id] AND [a].[Date] = @__today_2), 0) AS [Status]
FROM [Students] AS [s]
WHERE [s].[ClassId] = @__schedule_ClassId_0
2025-05-25 14:16:57.426 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.StudentForAttendanceDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 14:16:57.426 +02:00 [INF] Executed action backend.Controllers.AttendanceController.GetStudentsForSchedule (backend) in 65.1197ms
2025-05-25 14:16:57.426 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.GetStudentsForSchedule (backend)'
2025-05-25 14:16:57.426 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/attendance/students/5 - 200 null application/json; charset=utf-8 67.3875ms
2025-05-25 15:06:09.377 +02:00 [INF] Application is starting
2025-05-25 15:06:09.439 +02:00 [INF] User profile is available. Using '/Users/pawelstaniul/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-05-25 15:06:09.476 +02:00 [WRN] The WebRootPath was not found: /Users/pawelstaniul/Desktop/Programy/school-logbook/backend/wwwroot. Static files may be unavailable.
2025-05-25 15:06:09.491 +02:00 [INF] Now listening on: http://localhost:5234
2025-05-25 15:06:09.492 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-25 15:06:09.493 +02:00 [INF] Hosting environment: Development
2025-05-25 15:06:09.493 +02:00 [INF] Content root path: /Users/pawelstaniul/Desktop/Programy/school-logbook/backend
2025-05-25 15:06:09.816 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/swagger/index.html - null null
2025-05-25 15:06:09.857 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/swagger/index.html - 200 null text/html;charset=utf-8 41.8211ms
2025-05-25 15:06:10.215 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/swagger/v1/swagger.json - null null
2025-05-25 15:06:10.266 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 50.3313ms
2025-05-25 15:06:35.580 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-25 15:06:35.580 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - null null
2025-05-25 15:06:35.589 +02:00 [WRN] Failed to determine the https port for redirect.
2025-05-25 15:06:35.658 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:06:35.662 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:06:35.666 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 86.5492ms
2025-05-25 15:06:35.684 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - 204 null null 104.6764ms
2025-05-25 15:06:35.686 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - null null
2025-05-25 15:06:35.687 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-25 15:06:35.691 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:06:35.693 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:06:35.784 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 15:06:35.785 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-25 15:06:35.823 +02:00 [INF] Route matched with {action = "GetTodayLessons", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTodayLessons() on controller backend.Controllers.AttendanceController (backend).
2025-05-25 15:06:35.823 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-25 15:06:36.659 +02:00 [INF] Executed DbCommand (37ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-25 15:06:36.706 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-25 15:06:36.731 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-25 15:06:36.735 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-25 15:06:36.742 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 917.6598ms
2025-05-25 15:06:36.743 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 15:06:36.746 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 1059.8695ms
2025-05-25 15:06:36.798 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-25 15:06:36.842 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[@__teacherId_0='?' (DbType = Int32), @__today_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id] AS [ScheduleId], [s0].[Name] AS [SubjectName], [c].[Name] AS [ClassName], [s].[StartTime]
FROM [Schedules] AS [s]
INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
WHERE [s].[TeacherId] = @__teacherId_0 AND [s].[DayOfWeek] = @__today_1
ORDER BY [s].[StartTime]
2025-05-25 15:06:36.844 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.LessonForAttendanceDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 15:06:36.848 +02:00 [INF] Executed action backend.Controllers.AttendanceController.GetTodayLessons (backend) in 1024.7483ms
2025-05-25 15:06:36.848 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-25 15:06:36.849 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - 200 null application/json; charset=utf-8 1162.1448ms
2025-05-25 15:06:37.748 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/students/5 - null null
2025-05-25 15:06:37.751 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:06:37.751 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/students/5 - 204 null null 3.5771ms
2025-05-25 15:06:37.753 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/attendance/students/5 - null null
2025-05-25 15:06:37.753 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:06:37.757 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.GetStudentsForSchedule (backend)'
2025-05-25 15:06:37.768 +02:00 [INF] Route matched with {action = "GetStudentsForSchedule", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentsForSchedule(Int32) on controller backend.Controllers.AttendanceController (backend).
2025-05-25 15:06:37.842 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[@__scheduleId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[ClassId], [s].[CreatedAt], [s].[DayOfWeek], [s].[StartTime], [s].[SubjectId], [s].[TeacherId], [s].[UpdatedAt], [c].[Id], [c].[CreatedAt], [c].[HomeroomTeacherId], [c].[Name], [c].[UpdatedAt]
FROM [Schedules] AS [s]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
WHERE [s].[Id] = @__scheduleId_0
2025-05-25 15:06:37.927 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[@__scheduleId_1='?' (DbType = Int32), @__today_2='?' (DbType = DateTime2), @__schedule_ClassId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id] AS [StudentId], [s].[FirstName] + N' ' + [s].[LastName] AS [FullName], COALESCE((
    SELECT TOP(1) [a].[Status]
    FROM [Attendances] AS [a]
    WHERE [a].[ScheduleId] = @__scheduleId_1 AND [a].[StudentId] = [s].[Id] AND [a].[Date] = @__today_2), 0) AS [Status]
FROM [Students] AS [s]
WHERE [s].[ClassId] = @__schedule_ClassId_0
2025-05-25 15:06:37.928 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.StudentForAttendanceDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 15:06:37.931 +02:00 [INF] Executed action backend.Controllers.AttendanceController.GetStudentsForSchedule (backend) in 162.7374ms
2025-05-25 15:06:37.931 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.GetStudentsForSchedule (backend)'
2025-05-25 15:06:37.931 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/attendance/students/5 - 200 null application/json; charset=utf-8 177.8275ms
2025-05-25 15:06:45.768 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/save/undefined - null null
2025-05-25 15:06:45.769 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:06:45.769 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/save/undefined - 204 null null 1.8061ms
2025-05-25 15:06:45.772 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5234/api/attendance/save/undefined - application/json 69
2025-05-25 15:06:45.772 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:06:45.774 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.SaveAttendance (backend)'
2025-05-25 15:06:45.782 +02:00 [INF] Route matched with {action = "SaveAttendance", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveAttendance(Int32, System.Collections.Generic.List`1[backend.DTOs.AttendanceCreateDto]) on controller backend.Controllers.AttendanceController (backend).
2025-05-25 15:06:45.809 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-05-25 15:06:45.819 +02:00 [INF] Executed action backend.Controllers.AttendanceController.SaveAttendance (backend) in 36.9794ms
2025-05-25 15:06:45.819 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.SaveAttendance (backend)'
2025-05-25 15:06:45.819 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5234/api/attendance/save/undefined - 400 null application/problem+json; charset=utf-8 47.8881ms
2025-05-25 15:07:50.186 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/save/undefined - null null
2025-05-25 15:07:50.187 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:07:50.188 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/save/undefined - 204 null null 2.048ms
2025-05-25 15:07:50.189 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5234/api/attendance/save/undefined - application/json 69
2025-05-25 15:07:50.190 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:07:50.192 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.SaveAttendance (backend)'
2025-05-25 15:07:50.193 +02:00 [INF] Route matched with {action = "SaveAttendance", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveAttendance(Int32, System.Collections.Generic.List`1[backend.DTOs.AttendanceCreateDto]) on controller backend.Controllers.AttendanceController (backend).
2025-05-25 15:07:50.217 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-05-25 15:07:50.217 +02:00 [INF] Executed action backend.Controllers.AttendanceController.SaveAttendance (backend) in 24.243ms
2025-05-25 15:07:50.217 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.SaveAttendance (backend)'
2025-05-25 15:07:50.218 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5234/api/attendance/save/undefined - 400 null application/problem+json; charset=utf-8 28.3072ms
2025-05-25 15:11:15.328 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - null null
2025-05-25 15:11:15.328 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-25 15:11:15.340 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:11:15.340 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:11:15.341 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 13.9588ms
2025-05-25 15:11:15.341 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - 204 null null 13.6415ms
2025-05-25 15:11:15.399 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - null null
2025-05-25 15:11:15.401 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-25 15:11:15.401 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:11:15.401 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:11:15.403 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-25 15:11:15.404 +02:00 [INF] Route matched with {action = "GetTodayLessons", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTodayLessons() on controller backend.Controllers.AttendanceController (backend).
2025-05-25 15:11:15.409 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 15:11:15.411 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-25 15:11:15.691 +02:00 [INF] Executed DbCommand (159ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-25 15:11:15.747 +02:00 [INF] Executed DbCommand (266ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-25 15:11:15.801 +02:00 [INF] Executed DbCommand (51ms) [Parameters=[@__teacherId_0='?' (DbType = Int32), @__today_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id] AS [ScheduleId], [s0].[Name] AS [SubjectName], [c].[Name] AS [ClassName], [s].[StartTime]
FROM [Schedules] AS [s]
INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
WHERE [s].[TeacherId] = @__teacherId_0 AND [s].[DayOfWeek] = @__today_1
ORDER BY [s].[StartTime]
2025-05-25 15:11:15.804 +02:00 [INF] Executed DbCommand (54ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-25 15:11:15.804 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.LessonForAttendanceDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 15:11:15.805 +02:00 [INF] Executed action backend.Controllers.AttendanceController.GetTodayLessons (backend) in 400.9433ms
2025-05-25 15:11:15.806 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-25 15:11:15.806 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - 200 null application/json; charset=utf-8 406.3316ms
2025-05-25 15:11:15.833 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-25 15:11:15.834 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-25 15:11:15.834 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 423.2134ms
2025-05-25 15:11:15.834 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 15:11:15.835 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 434.3128ms
2025-05-25 15:11:18.297 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/students/5 - null null
2025-05-25 15:11:18.299 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:11:18.300 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/students/5 - 204 null null 3.5985ms
2025-05-25 15:11:18.302 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/attendance/students/5 - null null
2025-05-25 15:11:18.303 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:11:18.304 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.GetStudentsForSchedule (backend)'
2025-05-25 15:11:18.304 +02:00 [INF] Route matched with {action = "GetStudentsForSchedule", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentsForSchedule(Int32) on controller backend.Controllers.AttendanceController (backend).
2025-05-25 15:11:18.327 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__scheduleId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[ClassId], [s].[CreatedAt], [s].[DayOfWeek], [s].[StartTime], [s].[SubjectId], [s].[TeacherId], [s].[UpdatedAt], [c].[Id], [c].[CreatedAt], [c].[HomeroomTeacherId], [c].[Name], [c].[UpdatedAt]
FROM [Schedules] AS [s]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
WHERE [s].[Id] = @__scheduleId_0
2025-05-25 15:11:18.346 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__scheduleId_1='?' (DbType = Int32), @__today_2='?' (DbType = DateTime2), @__schedule_ClassId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id] AS [StudentId], [s].[FirstName] + N' ' + [s].[LastName] AS [FullName], COALESCE((
    SELECT TOP(1) [a].[Status]
    FROM [Attendances] AS [a]
    WHERE [a].[ScheduleId] = @__scheduleId_1 AND [a].[StudentId] = [s].[Id] AND [a].[Date] = @__today_2), 0) AS [Status]
FROM [Students] AS [s]
WHERE [s].[ClassId] = @__schedule_ClassId_0
2025-05-25 15:11:18.346 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.StudentForAttendanceDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 15:11:18.347 +02:00 [INF] Executed action backend.Controllers.AttendanceController.GetStudentsForSchedule (backend) in 42.1684ms
2025-05-25 15:11:18.347 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.GetStudentsForSchedule (backend)'
2025-05-25 15:11:18.348 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/attendance/students/5 - 200 null application/json; charset=utf-8 45.4131ms
2025-05-25 15:11:44.803 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-25 15:11:44.803 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - null null
2025-05-25 15:11:44.805 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:11:44.805 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:11:44.806 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 3.115ms
2025-05-25 15:11:44.828 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - 204 null null 3.1545ms
2025-05-25 15:11:44.828 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - null null
2025-05-25 15:11:44.849 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:11:44.849 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-25 15:11:44.850 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:11:44.852 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-25 15:11:44.852 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 15:11:44.853 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-25 15:11:44.853 +02:00 [INF] Route matched with {action = "GetTodayLessons", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTodayLessons() on controller backend.Controllers.AttendanceController (backend).
2025-05-25 15:11:44.875 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-25 15:11:44.896 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__teacherId_0='?' (DbType = Int32), @__today_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id] AS [ScheduleId], [s0].[Name] AS [SubjectName], [c].[Name] AS [ClassName], [s].[StartTime]
FROM [Schedules] AS [s]
INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
WHERE [s].[TeacherId] = @__teacherId_0 AND [s].[DayOfWeek] = @__today_1
ORDER BY [s].[StartTime]
2025-05-25 15:11:44.897 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.LessonForAttendanceDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 15:11:44.897 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-25 15:11:44.898 +02:00 [INF] Executed action backend.Controllers.AttendanceController.GetTodayLessons (backend) in 44.6952ms
2025-05-25 15:11:44.898 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-25 15:11:44.898 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - 200 null application/json; charset=utf-8 69.2267ms
2025-05-25 15:11:44.928 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-25 15:11:44.960 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-25 15:11:44.960 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-25 15:11:44.960 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 107.2841ms
2025-05-25 15:11:44.960 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 15:11:44.960 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 110.7692ms
2025-05-25 15:11:46.288 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/students/5 - null null
2025-05-25 15:11:46.292 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:11:46.300 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/students/5 - 204 null null 10.205ms
2025-05-25 15:11:46.302 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/attendance/students/5 - null null
2025-05-25 15:11:46.303 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:11:46.306 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.GetStudentsForSchedule (backend)'
2025-05-25 15:11:46.307 +02:00 [INF] Route matched with {action = "GetStudentsForSchedule", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentsForSchedule(Int32) on controller backend.Controllers.AttendanceController (backend).
2025-05-25 15:11:46.345 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[@__scheduleId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[ClassId], [s].[CreatedAt], [s].[DayOfWeek], [s].[StartTime], [s].[SubjectId], [s].[TeacherId], [s].[UpdatedAt], [c].[Id], [c].[CreatedAt], [c].[HomeroomTeacherId], [c].[Name], [c].[UpdatedAt]
FROM [Schedules] AS [s]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
WHERE [s].[Id] = @__scheduleId_0
2025-05-25 15:11:46.377 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[@__scheduleId_1='?' (DbType = Int32), @__today_2='?' (DbType = DateTime2), @__schedule_ClassId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id] AS [StudentId], [s].[FirstName] + N' ' + [s].[LastName] AS [FullName], COALESCE((
    SELECT TOP(1) [a].[Status]
    FROM [Attendances] AS [a]
    WHERE [a].[ScheduleId] = @__scheduleId_1 AND [a].[StudentId] = [s].[Id] AND [a].[Date] = @__today_2), 0) AS [Status]
FROM [Students] AS [s]
WHERE [s].[ClassId] = @__schedule_ClassId_0
2025-05-25 15:11:46.378 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.StudentForAttendanceDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 15:11:46.379 +02:00 [INF] Executed action backend.Controllers.AttendanceController.GetStudentsForSchedule (backend) in 71.9063ms
2025-05-25 15:11:46.379 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.GetStudentsForSchedule (backend)'
2025-05-25 15:11:46.379 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/attendance/students/5 - 200 null application/json; charset=utf-8 77.6684ms
2025-05-25 15:11:52.690 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/save/5 - null null
2025-05-25 15:11:52.691 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:11:52.692 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/save/5 - 204 null null 1.2885ms
2025-05-25 15:11:52.693 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5234/api/attendance/save/5 - application/json 69
2025-05-25 15:11:52.693 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:11:52.694 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.SaveAttendance (backend)'
2025-05-25 15:11:52.694 +02:00 [INF] Route matched with {action = "SaveAttendance", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveAttendance(Int32, System.Collections.Generic.List`1[backend.DTOs.AttendanceCreateDto]) on controller backend.Controllers.AttendanceController (backend).
2025-05-25 15:11:52.697 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-05-25 15:11:52.697 +02:00 [INF] Executed action backend.Controllers.AttendanceController.SaveAttendance (backend) in 3.097ms
2025-05-25 15:11:52.697 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.SaveAttendance (backend)'
2025-05-25 15:11:52.697 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5234/api/attendance/save/5 - 400 null application/problem+json; charset=utf-8 4.708ms
2025-05-25 15:14:03.556 +02:00 [INF] Application is starting
2025-05-25 15:14:03.616 +02:00 [INF] User profile is available. Using '/Users/pawelstaniul/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-05-25 15:14:03.653 +02:00 [WRN] The WebRootPath was not found: /Users/pawelstaniul/Desktop/Programy/school-logbook/backend/wwwroot. Static files may be unavailable.
2025-05-25 15:14:03.672 +02:00 [INF] Now listening on: http://localhost:5234
2025-05-25 15:14:03.673 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-25 15:14:03.673 +02:00 [INF] Hosting environment: Development
2025-05-25 15:14:03.673 +02:00 [INF] Content root path: /Users/pawelstaniul/Desktop/Programy/school-logbook/backend
2025-05-25 15:14:03.951 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/swagger/index.html - null null
2025-05-25 15:14:04.006 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/swagger/index.html - 200 null text/html;charset=utf-8 55.6811ms
2025-05-25 15:14:04.393 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/swagger/v1/swagger.json - null null
2025-05-25 15:14:04.450 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 56.3053ms
2025-05-25 15:14:09.917 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/save/5 - null null
2025-05-25 15:14:09.925 +02:00 [WRN] Failed to determine the https port for redirect.
2025-05-25 15:14:09.951 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:14:09.953 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/save/5 - 204 null null 36.1795ms
2025-05-25 15:14:09.956 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5234/api/attendance/save/5 - application/json 69
2025-05-25 15:14:09.957 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:14:10.024 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.SaveAttendance (backend)'
2025-05-25 15:14:10.038 +02:00 [INF] Route matched with {action = "SaveAttendance", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveAttendance(Int32, System.Collections.Generic.List`1[backend.DTOs.AttendanceCreateDto]) on controller backend.Controllers.AttendanceController (backend).
2025-05-25 15:14:10.124 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-05-25 15:14:10.131 +02:00 [INF] Executed action backend.Controllers.AttendanceController.SaveAttendance (backend) in 91.8348ms
2025-05-25 15:14:10.131 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.SaveAttendance (backend)'
2025-05-25 15:14:10.132 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5234/api/attendance/save/5 - 400 null application/problem+json; charset=utf-8 176.2497ms
2025-05-25 15:17:00.529 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-25 15:17:00.531 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - null null
2025-05-25 15:17:00.611 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:17:00.611 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:17:00.614 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 85.2763ms
2025-05-25 15:17:00.615 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - 204 null null 83.8973ms
2025-05-25 15:17:00.627 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-25 15:17:00.626 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - null null
2025-05-25 15:17:00.666 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:17:00.666 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:17:00.672 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 15:17:00.675 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-25 15:17:00.686 +02:00 [INF] Route matched with {action = "GetTodayLessons", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTodayLessons() on controller backend.Controllers.AttendanceController (backend).
2025-05-25 15:17:00.686 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-25 15:17:01.593 +02:00 [INF] Executed DbCommand (51ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-25 15:17:01.665 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[@__teacherId_0='?' (DbType = Int32), @__today_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id] AS [ScheduleId], [s0].[Name] AS [SubjectName], [c].[Name] AS [ClassName], [s].[StartTime]
FROM [Schedules] AS [s]
INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
WHERE [s].[TeacherId] = @__teacherId_0 AND [s].[DayOfWeek] = @__today_1
ORDER BY [s].[StartTime]
2025-05-25 15:17:01.668 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.LessonForAttendanceDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 15:17:01.672 +02:00 [INF] Executed action backend.Controllers.AttendanceController.GetTodayLessons (backend) in 986.5629ms
2025-05-25 15:17:01.673 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-25 15:17:01.676 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - 200 null application/json; charset=utf-8 1052.276ms
2025-05-25 15:17:01.709 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-25 15:17:01.749 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-25 15:17:01.784 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-25 15:17:01.785 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-25 15:17:01.789 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 1103.2847ms
2025-05-25 15:17:01.789 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 15:17:01.790 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 1163.8292ms
2025-05-25 15:17:02.881 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/students/5 - null null
2025-05-25 15:17:02.882 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:17:02.882 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/students/5 - 204 null null 0.931ms
2025-05-25 15:17:02.883 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/attendance/students/5 - null null
2025-05-25 15:17:02.885 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:17:02.889 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.GetStudentsForSchedule (backend)'
2025-05-25 15:17:02.906 +02:00 [INF] Route matched with {action = "GetStudentsForSchedule", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentsForSchedule(Int32) on controller backend.Controllers.AttendanceController (backend).
2025-05-25 15:17:03.000 +02:00 [INF] Executed DbCommand (36ms) [Parameters=[@__scheduleId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[ClassId], [s].[CreatedAt], [s].[DayOfWeek], [s].[StartTime], [s].[SubjectId], [s].[TeacherId], [s].[UpdatedAt], [c].[Id], [c].[CreatedAt], [c].[HomeroomTeacherId], [c].[Name], [c].[UpdatedAt]
FROM [Schedules] AS [s]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
WHERE [s].[Id] = @__scheduleId_0
2025-05-25 15:17:03.083 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__scheduleId_1='?' (DbType = Int32), @__today_2='?' (DbType = DateTime2), @__schedule_ClassId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id] AS [StudentId], [s].[FirstName] + N' ' + [s].[LastName] AS [FullName], COALESCE((
    SELECT TOP(1) [a].[Status]
    FROM [Attendances] AS [a]
    WHERE [a].[ScheduleId] = @__scheduleId_1 AND [a].[StudentId] = [s].[Id] AND [a].[Date] = @__today_2), 0) AS [Status]
FROM [Students] AS [s]
WHERE [s].[ClassId] = @__schedule_ClassId_0
2025-05-25 15:17:03.083 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.StudentForAttendanceDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 15:17:03.085 +02:00 [INF] Executed action backend.Controllers.AttendanceController.GetStudentsForSchedule (backend) in 178.2787ms
2025-05-25 15:17:03.085 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.GetStudentsForSchedule (backend)'
2025-05-25 15:17:03.085 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/attendance/students/5 - 200 null application/json; charset=utf-8 201.5892ms
2025-05-25 15:17:09.305 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/save/5 - null null
2025-05-25 15:17:09.307 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:17:09.308 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/save/5 - 204 null null 2.5124ms
2025-05-25 15:17:09.309 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5234/api/attendance/save/5 - application/json 64
2025-05-25 15:17:09.310 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:17:09.311 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.SaveAttendance (backend)'
2025-05-25 15:17:09.311 +02:00 [INF] Route matched with {action = "SaveAttendance", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveAttendance(Int32, System.Collections.Generic.List`1[backend.DTOs.AttendanceCreateDto]) on controller backend.Controllers.AttendanceController (backend).
2025-05-25 15:17:09.314 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-05-25 15:17:09.315 +02:00 [INF] Executed action backend.Controllers.AttendanceController.SaveAttendance (backend) in 3.4717ms
2025-05-25 15:17:09.315 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.SaveAttendance (backend)'
2025-05-25 15:17:09.315 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5234/api/attendance/save/5 - 400 null application/problem+json; charset=utf-8 6.3966ms
2025-05-25 15:19:37.208 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-25 15:19:37.215 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:19:37.216 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 8.6034ms
2025-05-25 15:19:37.238 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-25 15:19:37.239 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - null null
2025-05-25 15:19:37.239 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:19:37.241 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - 204 null null 2.1905ms
2025-05-25 15:19:37.247 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:19:37.300 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - null null
2025-05-25 15:19:37.301 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:19:37.330 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 15:19:37.330 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-25 15:19:37.331 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-25 15:19:37.331 +02:00 [INF] Route matched with {action = "GetTodayLessons", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTodayLessons() on controller backend.Controllers.AttendanceController (backend).
2025-05-25 15:19:37.386 +02:00 [INF] Executed DbCommand (45ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-25 15:19:37.386 +02:00 [INF] Executed DbCommand (45ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-25 15:19:37.444 +02:00 [INF] Executed DbCommand (56ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-25 15:19:37.444 +02:00 [INF] Executed DbCommand (56ms) [Parameters=[@__teacherId_0='?' (DbType = Int32), @__today_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id] AS [ScheduleId], [s0].[Name] AS [SubjectName], [c].[Name] AS [ClassName], [s].[StartTime]
FROM [Schedules] AS [s]
INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
WHERE [s].[TeacherId] = @__teacherId_0 AND [s].[DayOfWeek] = @__today_1
ORDER BY [s].[StartTime]
2025-05-25 15:19:37.445 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.LessonForAttendanceDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 15:19:37.445 +02:00 [INF] Executed action backend.Controllers.AttendanceController.GetTodayLessons (backend) in 114.6584ms
2025-05-25 15:19:37.446 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-25 15:19:37.446 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - 200 null application/json; charset=utf-8 145.6483ms
2025-05-25 15:19:37.474 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-25 15:19:37.475 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-25 15:19:37.475 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 144.3435ms
2025-05-25 15:19:37.475 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 15:19:37.476 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 237.3259ms
2025-05-25 15:19:39.148 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/students/5 - null null
2025-05-25 15:19:39.149 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:19:39.149 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/students/5 - 204 null null 0.9312ms
2025-05-25 15:19:39.151 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/attendance/students/5 - null null
2025-05-25 15:19:39.152 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:19:39.153 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.GetStudentsForSchedule (backend)'
2025-05-25 15:19:39.153 +02:00 [INF] Route matched with {action = "GetStudentsForSchedule", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentsForSchedule(Int32) on controller backend.Controllers.AttendanceController (backend).
2025-05-25 15:19:39.186 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__scheduleId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[ClassId], [s].[CreatedAt], [s].[DayOfWeek], [s].[StartTime], [s].[SubjectId], [s].[TeacherId], [s].[UpdatedAt], [c].[Id], [c].[CreatedAt], [c].[HomeroomTeacherId], [c].[Name], [c].[UpdatedAt]
FROM [Schedules] AS [s]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
WHERE [s].[Id] = @__scheduleId_0
2025-05-25 15:19:39.216 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__scheduleId_1='?' (DbType = Int32), @__today_2='?' (DbType = DateTime2), @__schedule_ClassId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id] AS [StudentId], [s].[FirstName] + N' ' + [s].[LastName] AS [FullName], COALESCE((
    SELECT TOP(1) [a].[Status]
    FROM [Attendances] AS [a]
    WHERE [a].[ScheduleId] = @__scheduleId_1 AND [a].[StudentId] = [s].[Id] AND [a].[Date] = @__today_2), 0) AS [Status]
FROM [Students] AS [s]
WHERE [s].[ClassId] = @__schedule_ClassId_0
2025-05-25 15:19:39.240 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.StudentForAttendanceDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 15:19:39.241 +02:00 [INF] Executed action backend.Controllers.AttendanceController.GetStudentsForSchedule (backend) in 87.2359ms
2025-05-25 15:19:39.241 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.GetStudentsForSchedule (backend)'
2025-05-25 15:19:39.241 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/attendance/students/5 - 200 null application/json; charset=utf-8 89.7927ms
2025-05-25 15:19:44.080 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/save/5 - null null
2025-05-25 15:19:44.081 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:19:44.081 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/save/5 - 204 null null 0.7858ms
2025-05-25 15:19:44.084 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5234/api/attendance/save/5 - application/json 69
2025-05-25 15:19:44.084 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:19:44.085 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.SaveAttendance (backend)'
2025-05-25 15:19:44.086 +02:00 [INF] Route matched with {action = "SaveAttendance", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveAttendance(Int32, System.Collections.Generic.List`1[backend.DTOs.AttendanceCreateDto]) on controller backend.Controllers.AttendanceController (backend).
2025-05-25 15:19:44.089 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-05-25 15:19:44.090 +02:00 [INF] Executed action backend.Controllers.AttendanceController.SaveAttendance (backend) in 3.9871ms
2025-05-25 15:19:44.090 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.SaveAttendance (backend)'
2025-05-25 15:19:44.090 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5234/api/attendance/save/5 - 400 null application/problem+json; charset=utf-8 6.1978ms
2025-05-25 15:20:23.062 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - null null
2025-05-25 15:20:23.063 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-25 15:20:23.065 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:20:23.065 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:20:23.066 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - 204 null null 3.0602ms
2025-05-25 15:20:23.066 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 2.4772ms
2025-05-25 15:20:23.069 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-25 15:20:23.069 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - null null
2025-05-25 15:20:23.093 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:20:23.093 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:20:23.098 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-25 15:20:23.098 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 15:20:23.099 +02:00 [INF] Route matched with {action = "GetTodayLessons", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTodayLessons() on controller backend.Controllers.AttendanceController (backend).
2025-05-25 15:20:23.099 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-25 15:20:23.164 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-25 15:20:23.220 +02:00 [INF] Executed DbCommand (54ms) [Parameters=[@__teacherId_0='?' (DbType = Int32), @__today_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id] AS [ScheduleId], [s0].[Name] AS [SubjectName], [c].[Name] AS [ClassName], [s].[StartTime]
FROM [Schedules] AS [s]
INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
WHERE [s].[TeacherId] = @__teacherId_0 AND [s].[DayOfWeek] = @__today_1
ORDER BY [s].[StartTime]
2025-05-25 15:20:23.221 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.LessonForAttendanceDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 15:20:23.271 +02:00 [INF] Executed DbCommand (50ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-25 15:20:23.321 +02:00 [INF] Executed action backend.Controllers.AttendanceController.GetTodayLessons (backend) in 196.8147ms
2025-05-25 15:20:23.411 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-25 15:20:23.412 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - 200 null application/json; charset=utf-8 343.1065ms
2025-05-25 15:20:23.440 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-25 15:20:23.471 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-25 15:20:23.471 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-25 15:20:23.471 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 371.8486ms
2025-05-25 15:20:23.471 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 15:20:23.472 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 403.1262ms
2025-05-25 15:20:25.589 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/students/5 - null null
2025-05-25 15:20:25.594 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:20:25.596 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/students/5 - 204 null null 7.0044ms
2025-05-25 15:20:25.599 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/attendance/students/5 - null null
2025-05-25 15:20:25.601 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:20:25.606 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.GetStudentsForSchedule (backend)'
2025-05-25 15:20:25.608 +02:00 [INF] Route matched with {action = "GetStudentsForSchedule", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentsForSchedule(Int32) on controller backend.Controllers.AttendanceController (backend).
2025-05-25 15:20:25.649 +02:00 [INF] Executed DbCommand (34ms) [Parameters=[@__scheduleId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[ClassId], [s].[CreatedAt], [s].[DayOfWeek], [s].[StartTime], [s].[SubjectId], [s].[TeacherId], [s].[UpdatedAt], [c].[Id], [c].[CreatedAt], [c].[HomeroomTeacherId], [c].[Name], [c].[UpdatedAt]
FROM [Schedules] AS [s]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
WHERE [s].[Id] = @__scheduleId_0
2025-05-25 15:20:25.680 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__scheduleId_1='?' (DbType = Int32), @__today_2='?' (DbType = DateTime2), @__schedule_ClassId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id] AS [StudentId], [s].[FirstName] + N' ' + [s].[LastName] AS [FullName], COALESCE((
    SELECT TOP(1) [a].[Status]
    FROM [Attendances] AS [a]
    WHERE [a].[ScheduleId] = @__scheduleId_1 AND [a].[StudentId] = [s].[Id] AND [a].[Date] = @__today_2), 0) AS [Status]
FROM [Students] AS [s]
WHERE [s].[ClassId] = @__schedule_ClassId_0
2025-05-25 15:20:25.681 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.StudentForAttendanceDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 15:20:25.681 +02:00 [INF] Executed action backend.Controllers.AttendanceController.GetStudentsForSchedule (backend) in 73.3832ms
2025-05-25 15:20:25.682 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.GetStudentsForSchedule (backend)'
2025-05-25 15:20:25.682 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/attendance/students/5 - 200 null application/json; charset=utf-8 83.3857ms
2025-05-25 15:20:29.990 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/save/5 - null null
2025-05-25 15:20:29.991 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:20:29.991 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/save/5 - 204 null null 1.1449ms
2025-05-25 15:20:29.993 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5234/api/attendance/save/5 - application/json 112
2025-05-25 15:20:29.994 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:20:29.994 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.SaveAttendance (backend)'
2025-05-25 15:20:29.995 +02:00 [INF] Route matched with {action = "SaveAttendance", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveAttendance(Int32, System.Collections.Generic.List`1[backend.DTOs.AttendanceCreateDto]) on controller backend.Controllers.AttendanceController (backend).
2025-05-25 15:20:30.000 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-05-25 15:20:30.000 +02:00 [INF] Executed action backend.Controllers.AttendanceController.SaveAttendance (backend) in 4.8175ms
2025-05-25 15:20:30.001 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.SaveAttendance (backend)'
2025-05-25 15:20:30.001 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5234/api/attendance/save/5 - 400 null application/problem+json; charset=utf-8 7.8573ms
2025-05-25 15:22:00.866 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - null null
2025-05-25 15:22:00.866 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-25 15:22:00.895 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:22:00.895 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:22:00.896 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - 204 null null 30.2408ms
2025-05-25 15:22:00.896 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 30.4372ms
2025-05-25 15:22:00.923 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-25 15:22:00.923 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - null null
2025-05-25 15:22:00.928 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:22:00.928 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:22:00.954 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-25 15:22:00.954 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 15:22:00.955 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-25 15:22:00.955 +02:00 [INF] Route matched with {action = "GetTodayLessons", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTodayLessons() on controller backend.Controllers.AttendanceController (backend).
2025-05-25 15:22:01.182 +02:00 [INF] Executed DbCommand (199ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-25 15:22:01.183 +02:00 [INF] Executed DbCommand (173ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-25 15:22:01.360 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-25 15:22:01.384 +02:00 [INF] Executed DbCommand (53ms) [Parameters=[@__teacherId_0='?' (DbType = Int32), @__today_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id] AS [ScheduleId], [s0].[Name] AS [SubjectName], [c].[Name] AS [ClassName], [s].[StartTime]
FROM [Schedules] AS [s]
INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
WHERE [s].[TeacherId] = @__teacherId_0 AND [s].[DayOfWeek] = @__today_1
ORDER BY [s].[StartTime]
2025-05-25 15:22:01.385 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.LessonForAttendanceDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 15:22:01.385 +02:00 [INF] Executed action backend.Controllers.AttendanceController.GetTodayLessons (backend) in 430.413ms
2025-05-25 15:22:01.385 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-25 15:22:01.385 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - 200 null application/json; charset=utf-8 462.6078ms
2025-05-25 15:22:01.389 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-25 15:22:01.390 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-25 15:22:01.390 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 435.0977ms
2025-05-25 15:22:01.390 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 15:22:01.390 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 467.4876ms
2025-05-25 15:22:02.969 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/students/5 - null null
2025-05-25 15:22:02.972 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:22:02.973 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/students/5 - 204 null null 3.9178ms
2025-05-25 15:22:02.975 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/attendance/students/5 - null null
2025-05-25 15:22:02.976 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:22:02.980 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.GetStudentsForSchedule (backend)'
2025-05-25 15:22:02.981 +02:00 [INF] Route matched with {action = "GetStudentsForSchedule", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentsForSchedule(Int32) on controller backend.Controllers.AttendanceController (backend).
2025-05-25 15:22:03.060 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__scheduleId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[ClassId], [s].[CreatedAt], [s].[DayOfWeek], [s].[StartTime], [s].[SubjectId], [s].[TeacherId], [s].[UpdatedAt], [c].[Id], [c].[CreatedAt], [c].[HomeroomTeacherId], [c].[Name], [c].[UpdatedAt]
FROM [Schedules] AS [s]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
WHERE [s].[Id] = @__scheduleId_0
2025-05-25 15:22:03.089 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__scheduleId_1='?' (DbType = Int32), @__today_2='?' (DbType = DateTime2), @__schedule_ClassId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id] AS [StudentId], [s].[FirstName] + N' ' + [s].[LastName] AS [FullName], COALESCE((
    SELECT TOP(1) [a].[Status]
    FROM [Attendances] AS [a]
    WHERE [a].[ScheduleId] = @__scheduleId_1 AND [a].[StudentId] = [s].[Id] AND [a].[Date] = @__today_2), 0) AS [Status]
FROM [Students] AS [s]
WHERE [s].[ClassId] = @__schedule_ClassId_0
2025-05-25 15:22:03.090 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.StudentForAttendanceDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 15:22:03.091 +02:00 [INF] Executed action backend.Controllers.AttendanceController.GetStudentsForSchedule (backend) in 109.0369ms
2025-05-25 15:22:03.091 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.GetStudentsForSchedule (backend)'
2025-05-25 15:22:03.091 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/attendance/students/5 - 200 null application/json; charset=utf-8 116.0331ms
2025-05-25 15:22:09.082 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/save/5 - null null
2025-05-25 15:22:09.083 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:22:09.083 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/save/5 - 204 null null 1.6059ms
2025-05-25 15:22:09.086 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5234/api/attendance/save/5 - application/json 112
2025-05-25 15:22:09.086 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:22:09.086 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.SaveAttendance (backend)'
2025-05-25 15:22:09.087 +02:00 [INF] Route matched with {action = "SaveAttendance", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveAttendance(Int32, System.Collections.Generic.List`1[backend.DTOs.AttendanceCreateDto]) on controller backend.Controllers.AttendanceController (backend).
2025-05-25 15:22:09.090 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-05-25 15:22:09.090 +02:00 [INF] Executed action backend.Controllers.AttendanceController.SaveAttendance (backend) in 3.4935ms
2025-05-25 15:22:09.090 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.SaveAttendance (backend)'
2025-05-25 15:22:09.091 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5234/api/attendance/save/5 - 400 null application/problem+json; charset=utf-8 5.0594ms
2025-05-25 15:22:57.328 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - null null
2025-05-25 15:22:57.328 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-25 15:22:57.332 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:22:57.332 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:22:57.333 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 5.335ms
2025-05-25 15:22:57.334 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - 204 null null 5.3251ms
2025-05-25 15:22:57.422 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - null null
2025-05-25 15:22:57.422 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-25 15:22:57.471 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:22:57.473 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:22:57.474 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 15:22:57.474 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-25 15:22:57.475 +02:00 [INF] Route matched with {action = "GetTodayLessons", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTodayLessons() on controller backend.Controllers.AttendanceController (backend).
2025-05-25 15:22:57.475 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-25 15:22:57.652 +02:00 [INF] Executed DbCommand (73ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-25 15:22:57.652 +02:00 [INF] Executed DbCommand (73ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-25 15:22:57.684 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[@__teacherId_0='?' (DbType = Int32), @__today_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id] AS [ScheduleId], [s0].[Name] AS [SubjectName], [c].[Name] AS [ClassName], [s].[StartTime]
FROM [Schedules] AS [s]
INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
WHERE [s].[TeacherId] = @__teacherId_0 AND [s].[DayOfWeek] = @__today_1
ORDER BY [s].[StartTime]
2025-05-25 15:22:57.686 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.LessonForAttendanceDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 15:22:57.687 +02:00 [INF] Executed DbCommand (32ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-25 15:22:57.689 +02:00 [INF] Executed action backend.Controllers.AttendanceController.GetTodayLessons (backend) in 213.9572ms
2025-05-25 15:22:57.689 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-25 15:22:57.689 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - 200 null application/json; charset=utf-8 267.4719ms
2025-05-25 15:22:57.718 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-25 15:22:57.718 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-25 15:22:57.718 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 243.6132ms
2025-05-25 15:22:57.719 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 15:22:57.719 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 297.6004ms
2025-05-25 15:22:58.662 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/students/5 - null null
2025-05-25 15:22:58.663 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:22:58.663 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/students/5 - 204 null null 0.4518ms
2025-05-25 15:22:58.665 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/attendance/students/5 - null null
2025-05-25 15:22:58.665 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:22:58.666 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.GetStudentsForSchedule (backend)'
2025-05-25 15:22:58.666 +02:00 [INF] Route matched with {action = "GetStudentsForSchedule", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentsForSchedule(Int32) on controller backend.Controllers.AttendanceController (backend).
2025-05-25 15:22:58.700 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[@__scheduleId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[ClassId], [s].[CreatedAt], [s].[DayOfWeek], [s].[StartTime], [s].[SubjectId], [s].[TeacherId], [s].[UpdatedAt], [c].[Id], [c].[CreatedAt], [c].[HomeroomTeacherId], [c].[Name], [c].[UpdatedAt]
FROM [Schedules] AS [s]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
WHERE [s].[Id] = @__scheduleId_0
2025-05-25 15:22:58.737 +02:00 [INF] Executed DbCommand (34ms) [Parameters=[@__scheduleId_1='?' (DbType = Int32), @__today_2='?' (DbType = DateTime2), @__schedule_ClassId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id] AS [StudentId], [s].[FirstName] + N' ' + [s].[LastName] AS [FullName], COALESCE((
    SELECT TOP(1) [a].[Status]
    FROM [Attendances] AS [a]
    WHERE [a].[ScheduleId] = @__scheduleId_1 AND [a].[StudentId] = [s].[Id] AND [a].[Date] = @__today_2), 0) AS [Status]
FROM [Students] AS [s]
WHERE [s].[ClassId] = @__schedule_ClassId_0
2025-05-25 15:22:58.737 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.StudentForAttendanceDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 15:22:58.737 +02:00 [INF] Executed action backend.Controllers.AttendanceController.GetStudentsForSchedule (backend) in 71.2497ms
2025-05-25 15:22:58.737 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.GetStudentsForSchedule (backend)'
2025-05-25 15:22:58.738 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/attendance/students/5 - 200 null application/json; charset=utf-8 73.0417ms
2025-05-25 15:23:04.490 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/save/5 - null null
2025-05-25 15:23:04.490 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:23:04.491 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/save/5 - 204 null null 0.437ms
2025-05-25 15:23:04.492 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5234/api/attendance/save/5 - application/json 89
2025-05-25 15:23:04.492 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:23:04.493 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.SaveAttendance (backend)'
2025-05-25 15:23:04.493 +02:00 [INF] Route matched with {action = "SaveAttendance", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveAttendance(Int32, System.Collections.Generic.List`1[backend.DTOs.AttendanceCreateDto]) on controller backend.Controllers.AttendanceController (backend).
2025-05-25 15:23:04.496 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-05-25 15:23:04.496 +02:00 [INF] Executed action backend.Controllers.AttendanceController.SaveAttendance (backend) in 3.0722ms
2025-05-25 15:23:04.496 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.SaveAttendance (backend)'
2025-05-25 15:23:04.496 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5234/api/attendance/save/5 - 400 null application/problem+json; charset=utf-8 4.5955ms
2025-05-25 15:26:33.575 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/save/5 - null null
2025-05-25 15:26:33.600 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:26:33.601 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/save/5 - 204 null null 27.4536ms
2025-05-25 15:26:33.603 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5234/api/attendance/save/5 - application/json 83
2025-05-25 15:26:33.655 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:26:33.659 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.SaveAttendance (backend)'
2025-05-25 15:26:33.660 +02:00 [INF] Route matched with {action = "SaveAttendance", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveAttendance(Int32, System.Collections.Generic.List`1[backend.DTOs.AttendanceCreateDto]) on controller backend.Controllers.AttendanceController (backend).
2025-05-25 15:26:50.413 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__scheduleId_0='?' (DbType = Int32), @__today_1='?' (DbType = Date)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comment], [a].[Date], [a].[ModifiedByUserId], [a].[ScheduleId], [a].[Status], [a].[StudentId]
FROM [Attendances] AS [a]
WHERE [a].[ScheduleId] = @__scheduleId_0 AND CAST([a].[Date] AS date) = @__today_1
2025-05-25 15:27:00.261 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (Size = 4000), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (Size = 4000), @p13='?' (DbType = DateTime2), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Attendances] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, 0),
(@p6, @p7, @p8, @p9, @p10, @p11, 1),
(@p12, @p13, @p14, @p15, @p16, @p17, 2)) AS i ([Comment], [Date], [ModifiedByUserId], [ScheduleId], [Status], [StudentId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Comment], [Date], [ModifiedByUserId], [ScheduleId], [Status], [StudentId])
VALUES (i.[Comment], i.[Date], i.[ModifiedByUserId], i.[ScheduleId], i.[Status], i.[StudentId])
OUTPUT INSERTED.[Id], i._Position;
2025-05-25 15:27:00.277 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-25 15:27:00.280 +02:00 [INF] Executed action backend.Controllers.AttendanceController.SaveAttendance (backend) in 26620.6404ms
2025-05-25 15:27:00.280 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.SaveAttendance (backend)'
2025-05-25 15:27:00.281 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5234/api/attendance/save/5 - 200 null application/json; charset=utf-8 26678.0819ms
2025-05-25 15:27:04.306 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/students/5 - null null
2025-05-25 15:27:04.309 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:27:04.311 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/students/5 - 204 null null 4.5563ms
2025-05-25 15:27:04.314 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/attendance/students/5 - null null
2025-05-25 15:27:04.320 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:27:04.323 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.GetStudentsForSchedule (backend)'
2025-05-25 15:27:04.324 +02:00 [INF] Route matched with {action = "GetStudentsForSchedule", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentsForSchedule(Int32) on controller backend.Controllers.AttendanceController (backend).
2025-05-25 15:27:04.357 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__scheduleId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[ClassId], [s].[CreatedAt], [s].[DayOfWeek], [s].[StartTime], [s].[SubjectId], [s].[TeacherId], [s].[UpdatedAt], [c].[Id], [c].[CreatedAt], [c].[HomeroomTeacherId], [c].[Name], [c].[UpdatedAt]
FROM [Schedules] AS [s]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
WHERE [s].[Id] = @__scheduleId_0
2025-05-25 15:27:04.386 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[@__scheduleId_1='?' (DbType = Int32), @__today_2='?' (DbType = DateTime2), @__schedule_ClassId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id] AS [StudentId], [s].[FirstName] + N' ' + [s].[LastName] AS [FullName], COALESCE((
    SELECT TOP(1) [a].[Status]
    FROM [Attendances] AS [a]
    WHERE [a].[ScheduleId] = @__scheduleId_1 AND [a].[StudentId] = [s].[Id] AND [a].[Date] = @__today_2), 0) AS [Status]
FROM [Students] AS [s]
WHERE [s].[ClassId] = @__schedule_ClassId_0
2025-05-25 15:27:04.387 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.StudentForAttendanceDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 15:27:04.387 +02:00 [INF] Executed action backend.Controllers.AttendanceController.GetStudentsForSchedule (backend) in 62.8525ms
2025-05-25 15:27:04.387 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.GetStudentsForSchedule (backend)'
2025-05-25 15:27:04.387 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/attendance/students/5 - 200 null application/json; charset=utf-8 73.0212ms
2025-05-25 15:34:17.453 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - null null
2025-05-25 15:34:17.453 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-25 15:34:17.458 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:34:17.458 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:34:17.458 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - 204 null null 5.1407ms
2025-05-25 15:34:17.458 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 5.1411ms
2025-05-25 15:34:17.469 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - null null
2025-05-25 15:34:17.470 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-25 15:34:17.496 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:34:17.496 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:34:17.517 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-25 15:34:17.517 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 15:34:17.520 +02:00 [INF] Route matched with {action = "GetTodayLessons", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTodayLessons() on controller backend.Controllers.AttendanceController (backend).
2025-05-25 15:34:17.520 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-25 15:34:17.997 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-25 15:34:18.012 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__teacherId_0='?' (DbType = Int32), @__today_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id] AS [ScheduleId], [s0].[Name] AS [SubjectName], [c].[Name] AS [ClassName], [s].[StartTime]
FROM [Schedules] AS [s]
INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
WHERE [s].[TeacherId] = @__teacherId_0 AND [s].[DayOfWeek] = @__today_1
ORDER BY [s].[StartTime]
2025-05-25 15:34:18.014 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.LessonForAttendanceDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 15:34:18.017 +02:00 [INF] Executed action backend.Controllers.AttendanceController.GetTodayLessons (backend) in 496.6866ms
2025-05-25 15:34:18.017 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-25 15:34:18.017 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - 200 null application/json; charset=utf-8 547.5133ms
2025-05-25 15:34:18.082 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-25 15:34:18.098 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-25 15:34:18.113 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-25 15:34:18.114 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-25 15:34:18.114 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 594.1403ms
2025-05-25 15:34:18.114 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 15:34:18.115 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 645.0954ms
2025-05-25 15:34:19.219 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/students/5 - null null
2025-05-25 15:34:19.219 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:34:19.219 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/students/5 - 204 null null 0.4742ms
2025-05-25 15:34:19.220 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/attendance/students/5 - null null
2025-05-25 15:34:19.221 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:34:19.221 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.GetStudentsForSchedule (backend)'
2025-05-25 15:34:19.221 +02:00 [INF] Route matched with {action = "GetStudentsForSchedule", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentsForSchedule(Int32) on controller backend.Controllers.AttendanceController (backend).
2025-05-25 15:34:19.241 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__scheduleId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[ClassId], [s].[CreatedAt], [s].[DayOfWeek], [s].[StartTime], [s].[SubjectId], [s].[TeacherId], [s].[UpdatedAt], [c].[Id], [c].[CreatedAt], [c].[HomeroomTeacherId], [c].[Name], [c].[UpdatedAt]
FROM [Schedules] AS [s]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
WHERE [s].[Id] = @__scheduleId_0
2025-05-25 15:34:19.258 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__scheduleId_1='?' (DbType = Int32), @__today_2='?' (DbType = DateTime2), @__schedule_ClassId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id] AS [StudentId], [s].[FirstName] + N' ' + [s].[LastName] AS [FullName], COALESCE((
    SELECT TOP(1) [a].[Status]
    FROM [Attendances] AS [a]
    WHERE [a].[ScheduleId] = @__scheduleId_1 AND [a].[StudentId] = [s].[Id] AND [a].[Date] = @__today_2), 0) AS [Status]
FROM [Students] AS [s]
WHERE [s].[ClassId] = @__schedule_ClassId_0
2025-05-25 15:34:19.258 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.StudentForAttendanceDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 15:34:19.258 +02:00 [INF] Executed action backend.Controllers.AttendanceController.GetStudentsForSchedule (backend) in 36.9149ms
2025-05-25 15:34:19.259 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.GetStudentsForSchedule (backend)'
2025-05-25 15:34:19.259 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/attendance/students/5 - 200 null application/json; charset=utf-8 38.4957ms
2025-05-25 15:38:47.444 +02:00 [INF] Application is starting
2025-05-25 15:38:47.593 +02:00 [INF] User profile is available. Using '/Users/pawelstaniul/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-05-25 15:38:47.632 +02:00 [WRN] The WebRootPath was not found: /Users/pawelstaniul/Desktop/Programy/school-logbook/backend/wwwroot. Static files may be unavailable.
2025-05-25 15:38:47.672 +02:00 [INF] Now listening on: http://localhost:5234
2025-05-25 15:38:47.674 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-25 15:38:47.674 +02:00 [INF] Hosting environment: Development
2025-05-25 15:38:47.674 +02:00 [INF] Content root path: /Users/pawelstaniul/Desktop/Programy/school-logbook/backend
2025-05-25 15:38:47.927 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/swagger/index.html - null null
2025-05-25 15:38:47.971 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/swagger/index.html - 200 null text/html;charset=utf-8 44.414ms
2025-05-25 15:38:48.469 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/swagger/v1/swagger.json - null null
2025-05-25 15:38:48.529 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 60.95ms
2025-05-25 15:38:53.534 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - null null
2025-05-25 15:38:53.534 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-25 15:38:53.546 +02:00 [WRN] Failed to determine the https port for redirect.
2025-05-25 15:38:53.634 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:38:53.637 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:38:53.648 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 113.9872ms
2025-05-25 15:38:53.650 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-25 15:38:53.652 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - 204 null null 117.9182ms
2025-05-25 15:38:53.653 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - null null
2025-05-25 15:38:53.656 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:38:53.659 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:38:53.861 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 15:38:53.862 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-25 15:38:53.873 +02:00 [INF] Route matched with {action = "GetTodayLessons", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTodayLessons() on controller backend.Controllers.AttendanceController (backend).
2025-05-25 15:38:53.873 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-25 15:38:54.807 +02:00 [INF] Executed DbCommand (36ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-25 15:38:54.854 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-25 15:38:54.855 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-25 15:38:54.879 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-25 15:38:54.882 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__teacherId_0='?' (DbType = Int32), @__today_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id] AS [ScheduleId], [s0].[Name] AS [SubjectName], [c].[Name] AS [ClassName], [s].[StartTime]
FROM [Schedules] AS [s]
INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
WHERE [s].[TeacherId] = @__teacherId_0 AND [s].[DayOfWeek] = @__today_1
ORDER BY [s].[StartTime]
2025-05-25 15:38:54.885 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-25 15:38:54.885 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.LessonForAttendanceDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 15:38:54.893 +02:00 [INF] Executed action backend.Controllers.AttendanceController.GetTodayLessons (backend) in 1017.7212ms
2025-05-25 15:38:54.893 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 1017.6848ms
2025-05-25 15:38:54.893 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-25 15:38:54.893 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 15:38:54.902 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - 200 null application/json; charset=utf-8 1249.0727ms
2025-05-25 15:38:54.902 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 1252.2951ms
2025-05-25 15:38:55.620 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/students/5 - null null
2025-05-25 15:38:55.623 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:38:55.623 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/students/5 - 204 null null 3.803ms
2025-05-25 15:38:55.625 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/attendance/students/5 - null null
2025-05-25 15:38:55.626 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:38:55.632 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.GetStudentsForSchedule (backend)'
2025-05-25 15:38:55.645 +02:00 [INF] Route matched with {action = "GetStudentsForSchedule", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentsForSchedule(Int32) on controller backend.Controllers.AttendanceController (backend).
2025-05-25 15:38:55.724 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@__scheduleId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[ClassId], [s].[CreatedAt], [s].[DayOfWeek], [s].[StartTime], [s].[SubjectId], [s].[TeacherId], [s].[UpdatedAt], [c].[Id], [c].[CreatedAt], [c].[HomeroomTeacherId], [c].[Name], [c].[UpdatedAt]
FROM [Schedules] AS [s]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
WHERE [s].[Id] = @__scheduleId_0
2025-05-25 15:38:55.802 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__scheduleId_1='?' (DbType = Int32), @__today_2='?' (DbType = DateTime2), @__schedule_ClassId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id] AS [StudentId], [s].[FirstName] + N' ' + [s].[LastName] AS [FullName], COALESCE((
    SELECT TOP(1) [a].[Status]
    FROM [Attendances] AS [a]
    WHERE [a].[ScheduleId] = @__scheduleId_1 AND [a].[StudentId] = [s].[Id] AND CONVERT(date, [a].[Date]) = @__today_2), 0) AS [Status]
FROM [Students] AS [s]
WHERE [s].[ClassId] = @__schedule_ClassId_0
2025-05-25 15:38:55.803 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.StudentForAttendanceDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 15:38:55.806 +02:00 [INF] Executed action backend.Controllers.AttendanceController.GetStudentsForSchedule (backend) in 160.0523ms
2025-05-25 15:38:55.806 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.GetStudentsForSchedule (backend)'
2025-05-25 15:38:55.806 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/attendance/students/5 - 200 null application/json; charset=utf-8 180.8342ms
2025-05-25 15:39:11.270 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/save/5 - null null
2025-05-25 15:39:11.271 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:39:11.272 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/save/5 - 204 null null 2.0985ms
2025-05-25 15:39:11.275 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5234/api/attendance/save/5 - application/json 83
2025-05-25 15:39:11.277 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:39:11.279 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.SaveAttendance (backend)'
2025-05-25 15:39:11.286 +02:00 [INF] Route matched with {action = "SaveAttendance", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveAttendance(Int32, System.Collections.Generic.List`1[backend.DTOs.AttendanceCreateDto]) on controller backend.Controllers.AttendanceController (backend).
2025-05-25 15:39:14.221 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__scheduleId_0='?' (DbType = Int32), @__today_1='?' (DbType = Date)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comment], [a].[Date], [a].[ModifiedByUserId], [a].[ScheduleId], [a].[Status], [a].[StudentId]
FROM [Attendances] AS [a]
WHERE [a].[ScheduleId] = @__scheduleId_0 AND CAST([a].[Date] AS date) = @__today_1
2025-05-25 15:39:14.311 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Attendances]
OUTPUT 1
WHERE [Id] = @p0;
DELETE FROM [Attendances]
OUTPUT 1
WHERE [Id] = @p1;
DELETE FROM [Attendances]
OUTPUT 1
WHERE [Id] = @p2;
2025-05-25 15:39:14.373 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (Size = 4000), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (Size = 4000), @p13='?' (DbType = DateTime2), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Attendances] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, 0),
(@p6, @p7, @p8, @p9, @p10, @p11, 1),
(@p12, @p13, @p14, @p15, @p16, @p17, 2)) AS i ([Comment], [Date], [ModifiedByUserId], [ScheduleId], [Status], [StudentId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Comment], [Date], [ModifiedByUserId], [ScheduleId], [Status], [StudentId])
VALUES (i.[Comment], i.[Date], i.[ModifiedByUserId], i.[ScheduleId], i.[Status], i.[StudentId])
OUTPUT INSERTED.[Id], i._Position;
2025-05-25 15:39:14.381 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-25 15:39:14.383 +02:00 [INF] Executed action backend.Controllers.AttendanceController.SaveAttendance (backend) in 3097.0807ms
2025-05-25 15:39:14.383 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.SaveAttendance (backend)'
2025-05-25 15:39:14.383 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5234/api/attendance/save/5 - 200 null application/json; charset=utf-8 3108.2318ms
2025-05-25 15:39:16.985 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/students/5 - null null
2025-05-25 15:39:16.986 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:39:16.987 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/students/5 - 204 null null 2.3914ms
2025-05-25 15:39:16.991 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/attendance/students/5 - null null
2025-05-25 15:39:16.994 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:39:16.995 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.GetStudentsForSchedule (backend)'
2025-05-25 15:39:16.996 +02:00 [INF] Route matched with {action = "GetStudentsForSchedule", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentsForSchedule(Int32) on controller backend.Controllers.AttendanceController (backend).
2025-05-25 15:39:17.022 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@__scheduleId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[ClassId], [s].[CreatedAt], [s].[DayOfWeek], [s].[StartTime], [s].[SubjectId], [s].[TeacherId], [s].[UpdatedAt], [c].[Id], [c].[CreatedAt], [c].[HomeroomTeacherId], [c].[Name], [c].[UpdatedAt]
FROM [Schedules] AS [s]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
WHERE [s].[Id] = @__scheduleId_0
2025-05-25 15:39:17.040 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__scheduleId_1='?' (DbType = Int32), @__today_2='?' (DbType = DateTime2), @__schedule_ClassId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id] AS [StudentId], [s].[FirstName] + N' ' + [s].[LastName] AS [FullName], COALESCE((
    SELECT TOP(1) [a].[Status]
    FROM [Attendances] AS [a]
    WHERE [a].[ScheduleId] = @__scheduleId_1 AND [a].[StudentId] = [s].[Id] AND CONVERT(date, [a].[Date]) = @__today_2), 0) AS [Status]
FROM [Students] AS [s]
WHERE [s].[ClassId] = @__schedule_ClassId_0
2025-05-25 15:39:17.041 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.StudentForAttendanceDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 15:39:17.041 +02:00 [INF] Executed action backend.Controllers.AttendanceController.GetStudentsForSchedule (backend) in 45.1151ms
2025-05-25 15:39:17.042 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.GetStudentsForSchedule (backend)'
2025-05-25 15:39:17.042 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/attendance/students/5 - 200 null application/json; charset=utf-8 53.5222ms
2025-05-25 15:40:03.939 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/teacher/d2f5cf82-b1bb-44b9-8171-f8f7fbb1a6f6 - null null
2025-05-25 15:40:03.941 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:40:03.942 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/teacher/d2f5cf82-b1bb-44b9-8171-f8f7fbb1a6f6 - 204 null null 3.0472ms
2025-05-25 15:40:04.017 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/teacher/d2f5cf82-b1bb-44b9-8171-f8f7fbb1a6f6 - null null
2025-05-25 15:40:04.022 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:40:04.026 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetScheduleForTeacher (backend)'
2025-05-25 15:40:04.042 +02:00 [INF] Route matched with {action = "GetScheduleForTeacher", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetScheduleForTeacher(System.String) on controller backend.Controllers.ScheduleController (backend).
2025-05-25 15:40:04.082 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__userId_0
2025-05-25 15:40:04.103 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__teacher_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[DayOfWeek], [s].[StartTime], [c].[Name] AS [ClassName], [s0].[Name] AS [SubjectName]
FROM [Schedules] AS [s]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
WHERE [s].[TeacherId] = @__teacher_Id_0
ORDER BY [s].[DayOfWeek], [s].[StartTime]
2025-05-25 15:40:04.104 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.TeacherScheduleEntryDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 15:40:04.109 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetScheduleForTeacher (backend) in 66.8306ms
2025-05-25 15:40:04.109 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetScheduleForTeacher (backend)'
2025-05-25 15:40:04.109 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/teacher/d2f5cf82-b1bb-44b9-8171-f8f7fbb1a6f6 - 200 null application/json; charset=utf-8 91.694ms
2025-05-25 15:40:09.225 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - null null
2025-05-25 15:40:09.225 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:40:09.227 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - 204 null null 2.3613ms
2025-05-25 15:40:09.234 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - null null
2025-05-25 15:40:09.235 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:40:09.236 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-25 15:40:09.237 +02:00 [INF] Route matched with {action = "GetTodayLessons", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTodayLessons() on controller backend.Controllers.AttendanceController (backend).
2025-05-25 15:40:09.257 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-25 15:40:09.272 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__teacherId_0='?' (DbType = Int32), @__today_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id] AS [ScheduleId], [s0].[Name] AS [SubjectName], [c].[Name] AS [ClassName], [s].[StartTime]
FROM [Schedules] AS [s]
INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
WHERE [s].[TeacherId] = @__teacherId_0 AND [s].[DayOfWeek] = @__today_1
ORDER BY [s].[StartTime]
2025-05-25 15:40:09.273 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.LessonForAttendanceDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 15:40:09.273 +02:00 [INF] Executed action backend.Controllers.AttendanceController.GetTodayLessons (backend) in 35.8602ms
2025-05-25 15:40:09.273 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-25 15:40:09.273 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - 200 null application/json; charset=utf-8 39.02ms
2025-05-25 15:40:35.138 +02:00 [INF] Application is starting
2025-05-25 15:40:35.175 +02:00 [INF] User profile is available. Using '/Users/pawelstaniul/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-05-25 15:40:35.201 +02:00 [WRN] The WebRootPath was not found: /Users/pawelstaniul/Desktop/Programy/school-logbook/backend/wwwroot. Static files may be unavailable.
2025-05-25 15:40:35.207 +02:00 [INF] Now listening on: http://localhost:5234
2025-05-25 15:40:35.209 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-25 15:40:35.209 +02:00 [INF] Hosting environment: Development
2025-05-25 15:40:35.209 +02:00 [INF] Content root path: /Users/pawelstaniul/Desktop/Programy/school-logbook/backend
2025-05-25 15:40:35.612 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/swagger/index.html - null null
2025-05-25 15:40:35.659 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/swagger/index.html - 200 null text/html;charset=utf-8 47.4111ms
2025-05-25 15:40:35.685 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/_framework/aspnetcore-browser-refresh.js - null null
2025-05-25 15:40:35.688 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/_framework/aspnetcore-browser-refresh.js - 200 13732 application/javascript; charset=utf-8 2.21ms
2025-05-25 15:40:35.720 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/swagger/v1/swagger.json - null null
2025-05-25 15:40:35.786 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 65.3339ms
2025-05-25 15:40:44.731 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-25 15:40:44.743 +02:00 [WRN] Failed to determine the https port for redirect.
2025-05-25 15:40:44.752 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - null null
2025-05-25 15:40:44.841 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:40:44.841 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:40:44.845 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 111.4486ms
2025-05-25 15:40:44.847 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - 204 null null 94.8698ms
2025-05-25 15:40:44.851 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-25 15:40:44.851 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - null null
2025-05-25 15:40:44.854 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:40:44.854 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:40:44.977 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 15:40:44.979 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-25 15:40:45.003 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-25 15:40:45.003 +02:00 [INF] Route matched with {action = "GetTodayLessons", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTodayLessons() on controller backend.Controllers.AttendanceController (backend).
2025-05-25 15:40:45.889 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-25 15:40:45.935 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-25 15:40:45.939 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-25 15:40:45.960 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-25 15:40:45.964 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-25 15:40:45.965 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__teacherId_0='?' (DbType = Int32), @__today_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id] AS [ScheduleId], [s0].[Name] AS [SubjectName], [c].[Name] AS [ClassName], [s].[StartTime]
FROM [Schedules] AS [s]
INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
WHERE [s].[TeacherId] = @__teacherId_0 AND [s].[DayOfWeek] = @__today_1
ORDER BY [s].[StartTime]
2025-05-25 15:40:45.966 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.LessonForAttendanceDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 15:40:45.971 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 965.9421ms
2025-05-25 15:40:45.971 +02:00 [INF] Executed action backend.Controllers.AttendanceController.GetTodayLessons (backend) in 965.8281ms
2025-05-25 15:40:45.971 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-25 15:40:45.971 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 15:40:45.974 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - 200 null application/json; charset=utf-8 1122.7289ms
2025-05-25 15:40:45.974 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 1122.8665ms
2025-05-25 15:43:00.579 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-25 15:43:00.585 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:43:00.595 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 12.9798ms
2025-05-25 15:43:00.597 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-25 15:43:00.609 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:43:00.613 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - null null
2025-05-25 15:43:00.613 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:43:00.614 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - 204 null null 0.7164ms
2025-05-25 15:43:00.622 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - null null
2025-05-25 15:43:00.623 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 15:43:00.624 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:43:00.636 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-25 15:43:00.655 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-25 15:43:00.655 +02:00 [INF] Route matched with {action = "GetTodayLessons", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTodayLessons() on controller backend.Controllers.AttendanceController (backend).
2025-05-25 15:43:00.805 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-25 15:43:00.805 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-25 15:43:00.826 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-25 15:43:00.847 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-25 15:43:00.870 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-25 15:43:00.882 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 220.1201ms
2025-05-25 15:43:00.882 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 15:43:00.882 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 284.7827ms
2025-05-25 15:43:00.906 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__teacherId_0='?' (DbType = Int32), @__today_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s0].[Name], [c].[Name], [s].[StartTime]
FROM [Schedules] AS [s]
INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
WHERE [s].[TeacherId] = @__teacherId_0 AND [s].[DayOfWeek] = @__today_1
ORDER BY [s].[StartTime]
2025-05-25 15:43:00.908 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.LessonForAttendanceDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 15:43:00.910 +02:00 [INF] Executed action backend.Controllers.AttendanceController.GetTodayLessons (backend) in 254.649ms
2025-05-25 15:43:00.910 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-25 15:43:00.911 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.TypeLoadException: Could not load type '<GetSubjectsPaged>d__5' from assembly 'backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null' due to value type mismatch.
   at System.Signature.GetSignature(Void* pCorSig, Int32 cCorSig, RuntimeFieldHandleInternal fieldHandle, IRuntimeMethodInfo methodHandle, RuntimeType declaringType)
   at System.Reflection.RuntimeMethodInfo.<get_Signature>g__LazyCreateSignature|25_0()
   at System.Reflection.RuntimeMethodInfo.FetchNonReturnParameters()
   at System.Reflection.RuntimePropertyInfo.GetIndexParametersNoCopy()
   at System.Reflection.RuntimePropertyInfo.GetIndexParameters()
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.AddMembersDeclaredBySuperType(JsonTypeInfo typeInfo, Type currentType, Boolean constructorHasSetsRequiredMembersAttribute, PropertyHierarchyResolutionState& state)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.PopulateProperties(JsonTypeInfo typeInfo)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.CreateTypeInfoCore(Type type, JsonConverter converter, JsonSerializerOptions options)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.GetTypeInfo(Type type, JsonSerializerOptions options)
   at System.Text.Json.JsonSerializerOptions.GetTypeInfoNoCaching(Type type)
   at System.Text.Json.JsonSerializerOptions.CachingContext.CreateCacheEntry(Type type, CachingContext context)
--- End of stack trace from previous location ---
   at System.Text.Json.JsonSerializerOptions.GetTypeInfoInternal(Type type, Boolean ensureConfigured, Nullable`1 ensureNotNull, Boolean resolveIfMutable, Boolean fallBackToNearestAncestorType)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo.Configure()
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo.<EnsureConfigured>g__ConfigureSynchronized|172_0()
   at System.Text.Json.JsonSerializerOptions.GetTypeInfoInternal(Type type, Boolean ensureConfigured, Nullable`1 ensureNotNull, Boolean resolveIfMutable, Boolean fallBackToNearestAncestorType)
   at System.Text.Json.JsonSerializerOptions.GetTypeInfo(Type type)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-05-25 15:43:00.931 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - 500 null text/plain; charset=utf-8 309.4905ms
2025-05-25 15:43:03.231 +02:00 [INF] Application is shutting down...
2025-05-25 15:43:10.425 +02:00 [INF] Application is starting
2025-05-25 15:43:10.466 +02:00 [INF] User profile is available. Using '/Users/pawelstaniul/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-05-25 15:43:10.503 +02:00 [WRN] The WebRootPath was not found: /Users/pawelstaniul/Desktop/Programy/school-logbook/backend/wwwroot. Static files may be unavailable.
2025-05-25 15:43:10.510 +02:00 [INF] Now listening on: http://localhost:5234
2025-05-25 15:43:10.512 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-25 15:43:10.512 +02:00 [INF] Hosting environment: Development
2025-05-25 15:43:10.512 +02:00 [INF] Content root path: /Users/pawelstaniul/Desktop/Programy/school-logbook/backend
2025-05-25 15:43:10.835 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/swagger/index.html - null null
2025-05-25 15:43:10.879 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/swagger/index.html - 200 null text/html;charset=utf-8 43.8814ms
2025-05-25 15:43:11.311 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/_framework/aspnetcore-browser-refresh.js - null null
2025-05-25 15:43:11.313 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/_framework/aspnetcore-browser-refresh.js - 200 13732 application/javascript; charset=utf-8 1.4576ms
2025-05-25 15:43:11.341 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/swagger/v1/swagger.json - null null
2025-05-25 15:43:11.400 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 59.1927ms
2025-05-25 15:43:17.300 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-25 15:43:17.309 +02:00 [WRN] Failed to determine the https port for redirect.
2025-05-25 15:43:17.312 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - null null
2025-05-25 15:43:17.375 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:43:17.375 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:43:17.376 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 75.9305ms
2025-05-25 15:43:17.377 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - 204 null null 65.0194ms
2025-05-25 15:43:17.380 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - null null
2025-05-25 15:43:17.380 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-25 15:43:17.403 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:43:17.403 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:43:17.484 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 15:43:17.485 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-25 15:43:17.510 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-25 15:43:17.510 +02:00 [INF] Route matched with {action = "GetTodayLessons", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTodayLessons() on controller backend.Controllers.AttendanceController (backend).
2025-05-25 15:43:18.371 +02:00 [INF] Executed DbCommand (48ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-25 15:43:18.431 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-25 15:43:18.472 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-25 15:43:18.477 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-25 15:43:18.484 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 972.08ms
2025-05-25 15:43:18.484 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 15:43:18.488 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 1108.3727ms
2025-05-25 15:43:18.498 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-25 15:43:18.544 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[@__teacherId_0='?' (DbType = Int32), @__today_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s0].[Name], [c].[Name], [s].[StartTime]
FROM [Schedules] AS [s]
INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
WHERE [s].[TeacherId] = @__teacherId_0 AND [s].[DayOfWeek] = @__today_1
ORDER BY [s].[StartTime]
2025-05-25 15:43:18.545 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.LessonForAttendanceDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 15:43:18.546 +02:00 [INF] Executed action backend.Controllers.AttendanceController.GetTodayLessons (backend) in 1036.1652ms
2025-05-25 15:43:18.547 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-25 15:43:18.547 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - 200 null application/json; charset=utf-8 1167.276ms
2025-05-25 15:43:19.567 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/students/5 - null null
2025-05-25 15:43:19.569 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:43:19.570 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/students/5 - 204 null null 2.9446ms
2025-05-25 15:43:19.571 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/attendance/students/5 - null null
2025-05-25 15:43:19.571 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:43:19.577 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.GetStudentsForSchedule (backend)'
2025-05-25 15:43:19.592 +02:00 [INF] Route matched with {action = "GetStudentsForSchedule", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentsForSchedule(Int32) on controller backend.Controllers.AttendanceController (backend).
2025-05-25 15:43:19.765 +02:00 [INF] Executed DbCommand (32ms) [Parameters=[@__scheduleId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[ClassId], [s].[CreatedAt], [s].[DayOfWeek], [s].[StartTime], [s].[SubjectId], [s].[TeacherId], [s].[UpdatedAt], [c].[Id], [c].[CreatedAt], [c].[HomeroomTeacherId], [c].[Name], [c].[UpdatedAt]
FROM [Schedules] AS [s]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
WHERE [s].[Id] = @__scheduleId_0
2025-05-25 15:43:19.855 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[@__scheduleId_1='?' (DbType = Int32), @__today_2='?' (DbType = DateTime2), @__schedule_ClassId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id] AS [StudentId], [s].[FirstName] + N' ' + [s].[LastName] AS [FullName], COALESCE((
    SELECT TOP(1) [a].[Status]
    FROM [Attendances] AS [a]
    WHERE [a].[ScheduleId] = @__scheduleId_1 AND [a].[StudentId] = [s].[Id] AND CONVERT(date, [a].[Date]) = @__today_2), 0) AS [Status]
FROM [Students] AS [s]
WHERE [s].[ClassId] = @__schedule_ClassId_0
2025-05-25 15:43:19.855 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.StudentForAttendanceDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 15:43:19.858 +02:00 [INF] Executed action backend.Controllers.AttendanceController.GetStudentsForSchedule (backend) in 266.1ms
2025-05-25 15:43:19.858 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.GetStudentsForSchedule (backend)'
2025-05-25 15:43:19.858 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/attendance/students/5 - 200 null application/json; charset=utf-8 287.2067ms
2025-05-25 15:43:22.683 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/attendance/students/5 - null null
2025-05-25 15:43:22.684 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:43:22.686 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.GetStudentsForSchedule (backend)'
2025-05-25 15:43:22.686 +02:00 [INF] Route matched with {action = "GetStudentsForSchedule", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentsForSchedule(Int32) on controller backend.Controllers.AttendanceController (backend).
2025-05-25 15:43:22.733 +02:00 [INF] Executed DbCommand (35ms) [Parameters=[@__scheduleId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[ClassId], [s].[CreatedAt], [s].[DayOfWeek], [s].[StartTime], [s].[SubjectId], [s].[TeacherId], [s].[UpdatedAt], [c].[Id], [c].[CreatedAt], [c].[HomeroomTeacherId], [c].[Name], [c].[UpdatedAt]
FROM [Schedules] AS [s]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
WHERE [s].[Id] = @__scheduleId_0
2025-05-25 15:43:22.765 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[@__scheduleId_1='?' (DbType = Int32), @__today_2='?' (DbType = DateTime2), @__schedule_ClassId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id] AS [StudentId], [s].[FirstName] + N' ' + [s].[LastName] AS [FullName], COALESCE((
    SELECT TOP(1) [a].[Status]
    FROM [Attendances] AS [a]
    WHERE [a].[ScheduleId] = @__scheduleId_1 AND [a].[StudentId] = [s].[Id] AND CONVERT(date, [a].[Date]) = @__today_2), 0) AS [Status]
FROM [Students] AS [s]
WHERE [s].[ClassId] = @__schedule_ClassId_0
2025-05-25 15:43:22.766 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.StudentForAttendanceDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 15:43:22.766 +02:00 [INF] Executed action backend.Controllers.AttendanceController.GetStudentsForSchedule (backend) in 80.3328ms
2025-05-25 15:43:22.766 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.GetStudentsForSchedule (backend)'
2025-05-25 15:43:22.767 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/attendance/students/5 - 200 null application/json; charset=utf-8 83.3308ms
2025-05-25 15:43:56.367 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/students/5 - null null
2025-05-25 15:43:56.368 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:43:56.369 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/students/5 - 204 null null 2.0577ms
2025-05-25 15:43:56.370 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/attendance/students/5 - null null
2025-05-25 15:43:56.370 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:43:56.371 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.GetStudentsForSchedule (backend)'
2025-05-25 15:43:56.372 +02:00 [INF] Route matched with {action = "GetStudentsForSchedule", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentsForSchedule(Int32) on controller backend.Controllers.AttendanceController (backend).
2025-05-25 15:43:56.417 +02:00 [INF] Executed DbCommand (38ms) [Parameters=[@__scheduleId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[ClassId], [s].[CreatedAt], [s].[DayOfWeek], [s].[StartTime], [s].[SubjectId], [s].[TeacherId], [s].[UpdatedAt], [c].[Id], [c].[CreatedAt], [c].[HomeroomTeacherId], [c].[Name], [c].[UpdatedAt]
FROM [Schedules] AS [s]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
WHERE [s].[Id] = @__scheduleId_0
2025-05-25 15:43:56.451 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__scheduleId_1='?' (DbType = Int32), @__today_2='?' (DbType = DateTime2), @__schedule_ClassId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id] AS [StudentId], [s].[FirstName] + N' ' + [s].[LastName] AS [FullName], COALESCE((
    SELECT TOP(1) [a].[Status]
    FROM [Attendances] AS [a]
    WHERE [a].[ScheduleId] = @__scheduleId_1 AND [a].[StudentId] = [s].[Id] AND CONVERT(date, [a].[Date]) = @__today_2), 0) AS [Status]
FROM [Students] AS [s]
WHERE [s].[ClassId] = @__schedule_ClassId_0
2025-05-25 15:43:56.451 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.StudentForAttendanceDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 15:43:56.452 +02:00 [INF] Executed action backend.Controllers.AttendanceController.GetStudentsForSchedule (backend) in 79.7982ms
2025-05-25 15:43:56.452 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.GetStudentsForSchedule (backend)'
2025-05-25 15:43:56.452 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/attendance/students/5 - 200 null application/json; charset=utf-8 82.4915ms
2025-05-25 15:44:03.351 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/save/5 - null null
2025-05-25 15:44:03.351 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:44:03.351 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/save/5 - 204 null null 0.5957ms
2025-05-25 15:44:03.353 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5234/api/attendance/save/5 - application/json 83
2025-05-25 15:44:03.354 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:44:03.354 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.SaveAttendance (backend)'
2025-05-25 15:44:03.362 +02:00 [INF] Route matched with {action = "SaveAttendance", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveAttendance(Int32, System.Collections.Generic.List`1[backend.DTOs.AttendanceCreateDto]) on controller backend.Controllers.AttendanceController (backend).
2025-05-25 15:44:03.425 +02:00 [INF] Executed DbCommand (35ms) [Parameters=[@__scheduleId_0='?' (DbType = Int32), @__today_1='?' (DbType = Date)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comment], [a].[Date], [a].[ModifiedByUserId], [a].[ScheduleId], [a].[Status], [a].[StudentId]
FROM [Attendances] AS [a]
WHERE [a].[ScheduleId] = @__scheduleId_0 AND CAST([a].[Date] AS date) = @__today_1
2025-05-25 15:44:03.548 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Attendances]
OUTPUT 1
WHERE [Id] = @p0;
DELETE FROM [Attendances]
OUTPUT 1
WHERE [Id] = @p1;
DELETE FROM [Attendances]
OUTPUT 1
WHERE [Id] = @p2;
2025-05-25 15:44:03.637 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (Size = 4000), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (Size = 4000), @p13='?' (DbType = DateTime2), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Attendances] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, 0),
(@p6, @p7, @p8, @p9, @p10, @p11, 1),
(@p12, @p13, @p14, @p15, @p16, @p17, 2)) AS i ([Comment], [Date], [ModifiedByUserId], [ScheduleId], [Status], [StudentId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Comment], [Date], [ModifiedByUserId], [ScheduleId], [Status], [StudentId])
VALUES (i.[Comment], i.[Date], i.[ModifiedByUserId], i.[ScheduleId], i.[Status], i.[StudentId])
OUTPUT INSERTED.[Id], i._Position;
2025-05-25 15:44:03.645 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-25 15:44:03.646 +02:00 [INF] Executed action backend.Controllers.AttendanceController.SaveAttendance (backend) in 284.3772ms
2025-05-25 15:44:03.646 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.SaveAttendance (backend)'
2025-05-25 15:44:03.647 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5234/api/attendance/save/5 - 200 null application/json; charset=utf-8 293.1488ms
2025-05-25 15:45:01.991 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/students/5 - null null
2025-05-25 15:45:01.994 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:45:01.995 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/students/5 - 204 null null 4.0065ms
2025-05-25 15:45:01.996 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/attendance/students/5 - null null
2025-05-25 15:45:01.997 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:45:02.000 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.GetStudentsForSchedule (backend)'
2025-05-25 15:45:02.006 +02:00 [INF] Route matched with {action = "GetStudentsForSchedule", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentsForSchedule(Int32) on controller backend.Controllers.AttendanceController (backend).
2025-05-25 15:45:02.058 +02:00 [INF] Executed DbCommand (36ms) [Parameters=[@__scheduleId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[ClassId], [s].[CreatedAt], [s].[DayOfWeek], [s].[StartTime], [s].[SubjectId], [s].[TeacherId], [s].[UpdatedAt], [c].[Id], [c].[CreatedAt], [c].[HomeroomTeacherId], [c].[Name], [c].[UpdatedAt]
FROM [Schedules] AS [s]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
WHERE [s].[Id] = @__scheduleId_0
2025-05-25 15:45:02.088 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__scheduleId_1='?' (DbType = Int32), @__today_2='?' (DbType = DateTime2), @__schedule_ClassId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id] AS [StudentId], [s].[FirstName] + N' ' + [s].[LastName] AS [FullName], COALESCE((
    SELECT TOP(1) [a].[Status]
    FROM [Attendances] AS [a]
    WHERE [a].[ScheduleId] = @__scheduleId_1 AND [a].[StudentId] = [s].[Id] AND CONVERT(date, [a].[Date]) = @__today_2), 0) AS [Status]
FROM [Students] AS [s]
WHERE [s].[ClassId] = @__schedule_ClassId_0
2025-05-25 15:45:02.089 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.StudentForAttendanceDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 15:45:02.089 +02:00 [INF] Executed action backend.Controllers.AttendanceController.GetStudentsForSchedule (backend) in 83.2584ms
2025-05-25 15:45:02.089 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.GetStudentsForSchedule (backend)'
2025-05-25 15:45:02.090 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/attendance/students/5 - 200 null application/json; charset=utf-8 93.1689ms
2025-05-25 15:48:20.907 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-25 15:48:20.910 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:48:20.912 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 9.1402ms
2025-05-25 15:48:20.912 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - null null
2025-05-25 15:48:20.913 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-25 15:48:20.916 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:48:20.918 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - 204 null null 5.3765ms
2025-05-25 15:48:20.918 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:48:20.933 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - null null
2025-05-25 15:48:20.944 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:48:20.961 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-25 15:48:20.961 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 15:48:20.972 +02:00 [INF] Route matched with {action = "GetTodayLessons", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTodayLessons() on controller backend.Controllers.AttendanceController (backend).
2025-05-25 15:48:20.973 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-25 15:48:21.023 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-25 15:48:21.023 +02:00 [INF] Executed DbCommand (33ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-25 15:48:21.066 +02:00 [INF] Executed DbCommand (34ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-25 15:48:21.097 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-25 15:48:21.100 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-25 15:48:21.111 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 137.998ms
2025-05-25 15:48:21.111 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 15:48:21.112 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 198.4879ms
2025-05-25 15:48:21.128 +02:00 [INF] Executed DbCommand (40ms) [Parameters=[@__teacherId_0='?' (DbType = Int32), @__today_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s0].[Name], [c].[Name], [s].[StartTime], CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Attendances] AS [a]
        WHERE [a].[ScheduleId] = [s].[Id] AND CONVERT(date, [a].[Date]) = CONVERT(date, GETDATE())) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
FROM [Schedules] AS [s]
INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
WHERE [s].[TeacherId] = @__teacherId_0 AND [s].[DayOfWeek] = @__today_1
ORDER BY [s].[StartTime]
2025-05-25 15:48:21.130 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.LessonForAttendanceDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 15:48:21.133 +02:00 [INF] Executed action backend.Controllers.AttendanceController.GetTodayLessons (backend) in 159.8646ms
2025-05-25 15:48:21.133 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-25 15:48:21.134 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - 200 null application/json; charset=utf-8 200.9963ms
2025-05-25 15:49:56.840 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-25 15:49:56.858 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:49:56.860 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - null null
2025-05-25 15:49:56.861 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:49:56.861 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 21.9102ms
2025-05-25 15:49:56.862 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - 204 null null 2.3187ms
2025-05-25 15:49:56.873 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - null null
2025-05-25 15:49:56.873 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-25 15:49:56.875 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:49:56.876 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:49:56.901 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 15:49:56.901 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-25 15:49:56.902 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-25 15:49:56.902 +02:00 [INF] Route matched with {action = "GetTodayLessons", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTodayLessons() on controller backend.Controllers.AttendanceController (backend).
2025-05-25 15:49:57.096 +02:00 [INF] Executed DbCommand (72ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-25 15:49:57.097 +02:00 [INF] Executed DbCommand (72ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-25 15:49:57.128 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-25 15:49:57.130 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[@__teacherId_0='?' (DbType = Int32), @__today_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s0].[Name], [c].[Name], [s].[StartTime], CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Attendances] AS [a]
        WHERE [a].[ScheduleId] = [s].[Id] AND CONVERT(date, [a].[Date]) = CONVERT(date, GETDATE())) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
FROM [Schedules] AS [s]
INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
WHERE [s].[TeacherId] = @__teacherId_0 AND [s].[DayOfWeek] = @__today_1
ORDER BY [s].[StartTime]
2025-05-25 15:49:57.132 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.LessonForAttendanceDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 15:49:57.134 +02:00 [INF] Executed action backend.Controllers.AttendanceController.GetTodayLessons (backend) in 231.353ms
2025-05-25 15:49:57.134 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-25 15:49:57.134 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - 200 null application/json; charset=utf-8 261.581ms
2025-05-25 15:49:57.163 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-25 15:49:57.163 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-25 15:49:57.164 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 262.1291ms
2025-05-25 15:49:57.164 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 15:49:57.164 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 291.7584ms
2025-05-25 15:51:46.616 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-25 15:51:46.616 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - null null
2025-05-25 15:51:46.626 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:51:46.626 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:51:46.627 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - 204 null null 23.6858ms
2025-05-25 15:51:46.627 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 23.6442ms
2025-05-25 15:51:46.641 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - null null
2025-05-25 15:51:46.641 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-25 15:51:46.646 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:51:46.656 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:51:46.660 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-25 15:51:46.660 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 15:51:46.660 +02:00 [INF] Route matched with {action = "GetTodayLessons", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTodayLessons() on controller backend.Controllers.AttendanceController (backend).
2025-05-25 15:51:46.660 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-25 15:51:46.697 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-25 15:51:46.697 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-25 15:51:46.729 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[@__teacherId_0='?' (DbType = Int32), @__today_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s0].[Name], [c].[Name], [s].[StartTime], CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Attendances] AS [a]
        WHERE [a].[ScheduleId] = [s].[Id] AND CONVERT(date, [a].[Date]) = CONVERT(date, GETDATE())) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
FROM [Schedules] AS [s]
INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
WHERE [s].[TeacherId] = @__teacherId_0 AND [s].[DayOfWeek] = @__today_1
ORDER BY [s].[StartTime]
2025-05-25 15:51:46.729 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-25 15:51:46.767 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.LessonForAttendanceDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 15:51:46.769 +02:00 [INF] Executed action backend.Controllers.AttendanceController.GetTodayLessons (backend) in 108.2152ms
2025-05-25 15:51:46.769 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-25 15:51:46.769 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - 200 null application/json; charset=utf-8 128.0772ms
2025-05-25 15:51:46.779 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-25 15:51:46.780 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-25 15:51:46.781 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 120.5883ms
2025-05-25 15:51:46.781 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 15:51:46.781 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 140.1478ms
2025-05-25 15:52:13.376 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-25 15:52:13.378 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:52:13.378 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 2.8717ms
2025-05-25 15:52:13.381 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-25 15:52:13.382 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:52:13.386 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - null null
2025-05-25 15:52:13.386 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:52:13.390 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - 204 null null 0.4151ms
2025-05-25 15:52:13.397 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - null null
2025-05-25 15:52:13.426 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:52:13.429 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 15:52:13.430 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-25 15:52:13.431 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-25 15:52:13.431 +02:00 [INF] Route matched with {action = "GetTodayLessons", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTodayLessons() on controller backend.Controllers.AttendanceController (backend).
2025-05-25 15:52:13.508 +02:00 [INF] Executed DbCommand (42ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-25 15:52:13.508 +02:00 [INF] Executed DbCommand (41ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-25 15:52:13.538 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-25 15:52:13.540 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[@__teacherId_0='?' (DbType = Int32), @__today_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s0].[Name], [c].[Name], [s].[StartTime], CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Attendances] AS [a]
        WHERE [a].[ScheduleId] = [s].[Id] AND CONVERT(date, [a].[Date]) = CONVERT(date, GETDATE())) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
FROM [Schedules] AS [s]
INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
WHERE [s].[TeacherId] = @__teacherId_0 AND [s].[DayOfWeek] = @__today_1
ORDER BY [s].[StartTime]
2025-05-25 15:52:13.540 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.LessonForAttendanceDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 15:52:13.542 +02:00 [INF] Executed action backend.Controllers.AttendanceController.GetTodayLessons (backend) in 110.6517ms
2025-05-25 15:52:13.542 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-25 15:52:13.542 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - 200 null application/json; charset=utf-8 145.6578ms
2025-05-25 15:52:13.572 +02:00 [INF] Executed DbCommand (33ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-25 15:52:13.576 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-25 15:52:13.577 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 145.9546ms
2025-05-25 15:52:13.578 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 15:52:13.578 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 197.6164ms
2025-05-25 15:54:01.124 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/students/6 - null null
2025-05-25 15:54:01.127 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:54:01.129 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/students/6 - 204 null null 4.7874ms
2025-05-25 15:54:01.135 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/attendance/students/6 - null null
2025-05-25 15:54:01.136 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:54:01.150 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.GetStudentsForSchedule (backend)'
2025-05-25 15:54:01.184 +02:00 [INF] Route matched with {action = "GetStudentsForSchedule", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentsForSchedule(Int32) on controller backend.Controllers.AttendanceController (backend).
2025-05-25 15:54:01.227 +02:00 [INF] Executed DbCommand (37ms) [Parameters=[@__scheduleId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[ClassId], [s].[CreatedAt], [s].[DayOfWeek], [s].[StartTime], [s].[SubjectId], [s].[TeacherId], [s].[UpdatedAt], [c].[Id], [c].[CreatedAt], [c].[HomeroomTeacherId], [c].[Name], [c].[UpdatedAt]
FROM [Schedules] AS [s]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
WHERE [s].[Id] = @__scheduleId_0
2025-05-25 15:54:01.269 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[@__scheduleId_1='?' (DbType = Int32), @__today_2='?' (DbType = DateTime2), @__schedule_ClassId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id] AS [StudentId], [s].[FirstName] + N' ' + [s].[LastName] AS [FullName], COALESCE((
    SELECT TOP(1) [a].[Status]
    FROM [Attendances] AS [a]
    WHERE [a].[ScheduleId] = @__scheduleId_1 AND [a].[StudentId] = [s].[Id] AND CONVERT(date, [a].[Date]) = @__today_2), 0) AS [Status]
FROM [Students] AS [s]
WHERE [s].[ClassId] = @__schedule_ClassId_0
2025-05-25 15:54:01.269 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.StudentForAttendanceDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 15:54:01.273 +02:00 [INF] Executed action backend.Controllers.AttendanceController.GetStudentsForSchedule (backend) in 88.1204ms
2025-05-25 15:54:01.273 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.GetStudentsForSchedule (backend)'
2025-05-25 15:54:01.273 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/attendance/students/6 - 200 null application/json; charset=utf-8 137.8669ms
2025-05-25 15:55:28.542 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/students/6 - null null
2025-05-25 15:55:28.546 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:55:28.547 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/students/6 - 204 null null 5.0875ms
2025-05-25 15:55:28.549 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/attendance/students/6 - null null
2025-05-25 15:55:28.551 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:55:28.583 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.GetStudentsForSchedule (backend)'
2025-05-25 15:55:28.586 +02:00 [INF] Route matched with {action = "GetStudentsForSchedule", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentsForSchedule(Int32) on controller backend.Controllers.AttendanceController (backend).
2025-05-25 15:55:28.637 +02:00 [INF] Executed DbCommand (36ms) [Parameters=[@__scheduleId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[ClassId], [s].[CreatedAt], [s].[DayOfWeek], [s].[StartTime], [s].[SubjectId], [s].[TeacherId], [s].[UpdatedAt], [c].[Id], [c].[CreatedAt], [c].[HomeroomTeacherId], [c].[Name], [c].[UpdatedAt]
FROM [Schedules] AS [s]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
WHERE [s].[Id] = @__scheduleId_0
2025-05-25 15:55:28.670 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[@__scheduleId_1='?' (DbType = Int32), @__today_2='?' (DbType = DateTime2), @__schedule_ClassId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id] AS [StudentId], [s].[FirstName] + N' ' + [s].[LastName] AS [FullName], COALESCE((
    SELECT TOP(1) [a].[Status]
    FROM [Attendances] AS [a]
    WHERE [a].[ScheduleId] = @__scheduleId_1 AND [a].[StudentId] = [s].[Id] AND CONVERT(date, [a].[Date]) = @__today_2), 0) AS [Status]
FROM [Students] AS [s]
WHERE [s].[ClassId] = @__schedule_ClassId_0
2025-05-25 15:55:28.671 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.StudentForAttendanceDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 15:55:28.671 +02:00 [INF] Executed action backend.Controllers.AttendanceController.GetStudentsForSchedule (backend) in 84.7978ms
2025-05-25 15:55:28.672 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.GetStudentsForSchedule (backend)'
2025-05-25 15:55:28.673 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/attendance/students/6 - 200 null application/json; charset=utf-8 123.9284ms
2025-05-25 15:59:42.034 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/auth/login - null null
2025-05-25 15:59:42.038 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:59:42.039 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/auth/login - 204 null null 4.7345ms
2025-05-25 15:59:42.040 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5234/api/auth/login - application/json 54
2025-05-25 15:59:42.045 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:59:42.047 +02:00 [INF] Executing endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-05-25 15:59:42.060 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(backend.DTOs.Login) on controller backend.Controllers.AuthController (backend).
2025-05-25 15:59:42.305 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-05-25 15:59:42.428 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-05-25 15:59:42.457 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-25 15:59:42.489 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-25 15:59:42.526 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-25 15:59:42.544 +02:00 [INF] AuthenticationScheme: Identity.Application signed in.
2025-05-25 15:59:42.573 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-05-25 15:59:42.578 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.Threading.Tasks.Task`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-25 15:59:42.605 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-25 15:59:42.645 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-05-25 15:59:42.695 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[@p20='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p21='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32), @p18='?' (DbType = Boolean), @p19='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [AdminId] = @p1, [ConcurrencyStamp] = @p2, [DateAdded] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastSuccessfulLogin] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [SecurityStamp] = @p15, [StudentId] = @p16, [TeacherId] = @p17, [TwoFactorEnabled] = @p18, [UserName] = @p19
OUTPUT 1
WHERE [Id] = @p20 AND [ConcurrencyStamp] = @p21;
2025-05-25 15:59:42.702 +02:00 [INF] Executed action backend.Controllers.AuthController.Login (backend) in 642.3767ms
2025-05-25 15:59:42.703 +02:00 [INF] Executed endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-05-25 15:59:42.704 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5234/api/auth/login - 200 null application/json; charset=utf-8 663.7005ms
2025-05-25 15:59:42.706 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-25 15:59:42.707 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:59:42.707 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 0.6273ms
2025-05-25 15:59:42.708 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-25 15:59:42.708 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:59:42.709 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 15:59:42.709 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-25 15:59:42.720 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/teacher/d2f5cf82-b1bb-44b9-8171-f8f7fbb1a6f6 - null null
2025-05-25 15:59:42.721 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:59:42.721 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/teacher/d2f5cf82-b1bb-44b9-8171-f8f7fbb1a6f6 - 204 null null 0.2421ms
2025-05-25 15:59:42.722 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/teacher/d2f5cf82-b1bb-44b9-8171-f8f7fbb1a6f6 - null null
2025-05-25 15:59:42.723 +02:00 [INF] CORS policy execution successful.
2025-05-25 15:59:42.724 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetScheduleForTeacher (backend)'
2025-05-25 15:59:42.727 +02:00 [INF] Route matched with {action = "GetScheduleForTeacher", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetScheduleForTeacher(System.String) on controller backend.Controllers.ScheduleController (backend).
2025-05-25 15:59:42.785 +02:00 [INF] Executed DbCommand (74ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-25 15:59:42.815 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-25 15:59:42.844 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__userId_0
2025-05-25 15:59:42.877 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__teacher_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[DayOfWeek], [s].[StartTime], [c].[Name] AS [ClassName], [s0].[Name] AS [SubjectName]
FROM [Schedules] AS [s]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
WHERE [s].[TeacherId] = @__teacher_Id_0
ORDER BY [s].[DayOfWeek], [s].[StartTime]
2025-05-25 15:59:42.878 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.TeacherScheduleEntryDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 15:59:42.882 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetScheduleForTeacher (backend) in 154.976ms
2025-05-25 15:59:42.882 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetScheduleForTeacher (backend)'
2025-05-25 15:59:42.882 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/teacher/d2f5cf82-b1bb-44b9-8171-f8f7fbb1a6f6 - 200 null application/json; charset=utf-8 160.4783ms
2025-05-25 15:59:43.009 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-25 15:59:43.009 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-25 15:59:43.009 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 300.3436ms
2025-05-25 15:59:43.009 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 15:59:43.009 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 301.6944ms
2025-05-25 16:06:56.134 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-25 16:06:56.136 +02:00 [INF] CORS policy execution successful.
2025-05-25 16:06:56.136 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 2.3093ms
2025-05-25 16:06:56.139 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-25 16:06:56.140 +02:00 [INF] CORS policy execution successful.
2025-05-25 16:06:56.145 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 16:06:56.146 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-25 16:06:56.187 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/teacher/d2f5cf82-b1bb-44b9-8171-f8f7fbb1a6f6 - null null
2025-05-25 16:06:56.187 +02:00 [INF] CORS policy execution successful.
2025-05-25 16:06:56.187 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/teacher/d2f5cf82-b1bb-44b9-8171-f8f7fbb1a6f6 - 204 null null 0.4429ms
2025-05-25 16:06:56.189 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/teacher/d2f5cf82-b1bb-44b9-8171-f8f7fbb1a6f6 - null null
2025-05-25 16:06:56.189 +02:00 [INF] CORS policy execution successful.
2025-05-25 16:06:56.191 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetScheduleForTeacher (backend)'
2025-05-25 16:06:56.191 +02:00 [INF] Route matched with {action = "GetScheduleForTeacher", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetScheduleForTeacher(System.String) on controller backend.Controllers.ScheduleController (backend).
2025-05-25 16:06:56.220 +02:00 [INF] Executed DbCommand (49ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-25 16:06:56.260 +02:00 [INF] Executed DbCommand (33ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-25 16:06:56.260 +02:00 [INF] Executed DbCommand (33ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__userId_0
2025-05-25 16:06:56.301 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[@__teacher_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[DayOfWeek], [s].[StartTime], [c].[Name] AS [ClassName], [s0].[Name] AS [SubjectName]
FROM [Schedules] AS [s]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
WHERE [s].[TeacherId] = @__teacher_Id_0
ORDER BY [s].[DayOfWeek], [s].[StartTime]
2025-05-25 16:06:56.302 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-25 16:06:56.302 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-25 16:06:56.302 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.TeacherScheduleEntryDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 16:06:56.304 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 156.9648ms
2025-05-25 16:06:56.304 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 16:06:56.304 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 165.0045ms
2025-05-25 16:06:56.304 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetScheduleForTeacher (backend) in 112.7814ms
2025-05-25 16:06:56.305 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetScheduleForTeacher (backend)'
2025-05-25 16:06:56.305 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/teacher/d2f5cf82-b1bb-44b9-8171-f8f7fbb1a6f6 - 200 null application/json; charset=utf-8 116.1564ms
2025-05-25 16:07:12.126 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-25 16:07:12.128 +02:00 [INF] CORS policy execution successful.
2025-05-25 16:07:12.130 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 3.7159ms
2025-05-25 16:07:12.131 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/teacher/d2f5cf82-b1bb-44b9-8171-f8f7fbb1a6f6 - null null
2025-05-25 16:07:12.132 +02:00 [INF] CORS policy execution successful.
2025-05-25 16:07:12.132 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/teacher/d2f5cf82-b1bb-44b9-8171-f8f7fbb1a6f6 - 204 null null 0.666ms
2025-05-25 16:07:12.133 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-25 16:07:12.135 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/teacher/d2f5cf82-b1bb-44b9-8171-f8f7fbb1a6f6 - null null
2025-05-25 16:07:12.135 +02:00 [INF] CORS policy execution successful.
2025-05-25 16:07:12.136 +02:00 [INF] CORS policy execution successful.
2025-05-25 16:07:12.141 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetScheduleForTeacher (backend)'
2025-05-25 16:07:12.141 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 16:07:12.142 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-25 16:07:12.142 +02:00 [INF] Route matched with {action = "GetScheduleForTeacher", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetScheduleForTeacher(System.String) on controller backend.Controllers.ScheduleController (backend).
2025-05-25 16:07:12.210 +02:00 [INF] Executed DbCommand (35ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__userId_0
2025-05-25 16:07:12.211 +02:00 [INF] Executed DbCommand (35ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-25 16:07:12.269 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-25 16:07:12.270 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[@__teacher_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[DayOfWeek], [s].[StartTime], [c].[Name] AS [ClassName], [s0].[Name] AS [SubjectName]
FROM [Schedules] AS [s]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
WHERE [s].[TeacherId] = @__teacher_Id_0
ORDER BY [s].[DayOfWeek], [s].[StartTime]
2025-05-25 16:07:12.270 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.TeacherScheduleEntryDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 16:07:12.271 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetScheduleForTeacher (backend) in 128.4716ms
2025-05-25 16:07:12.271 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetScheduleForTeacher (backend)'
2025-05-25 16:07:12.271 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/teacher/d2f5cf82-b1bb-44b9-8171-f8f7fbb1a6f6 - 200 null application/json; charset=utf-8 136.3596ms
2025-05-25 16:07:12.298 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-25 16:07:12.298 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-25 16:07:12.299 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 156.8327ms
2025-05-25 16:07:12.299 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 16:07:12.299 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 166.5168ms
2025-05-25 16:07:44.533 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - null null
2025-05-25 16:07:44.535 +02:00 [INF] CORS policy execution successful.
2025-05-25 16:07:44.536 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - 204 null null 2.8677ms
2025-05-25 16:07:44.537 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - null null
2025-05-25 16:07:44.537 +02:00 [INF] CORS policy execution successful.
2025-05-25 16:07:44.540 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-25 16:07:44.549 +02:00 [INF] Route matched with {action = "GetTodayLessons", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTodayLessons() on controller backend.Controllers.AttendanceController (backend).
2025-05-25 16:07:44.603 +02:00 [INF] Executed DbCommand (35ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-25 16:07:44.634 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__teacherId_0='?' (DbType = Int32), @__today_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s0].[Name], [c].[Name], [s].[StartTime], CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Attendances] AS [a]
        WHERE [a].[ScheduleId] = [s].[Id] AND CONVERT(date, [a].[Date]) = CONVERT(date, GETDATE())) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
FROM [Schedules] AS [s]
INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
WHERE [s].[TeacherId] = @__teacherId_0 AND [s].[DayOfWeek] = @__today_1
ORDER BY [s].[StartTime]
2025-05-25 16:07:44.635 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.LessonForAttendanceDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 16:07:44.638 +02:00 [INF] Executed action backend.Controllers.AttendanceController.GetTodayLessons (backend) in 85.5312ms
2025-05-25 16:07:44.638 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-25 16:07:44.639 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - 200 null application/json; charset=utf-8 102.1104ms
2025-05-25 16:09:33.740 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/students/6 - null null
2025-05-25 16:09:33.743 +02:00 [INF] CORS policy execution successful.
2025-05-25 16:09:33.744 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/students/6 - 204 null null 4.2309ms
2025-05-25 16:09:33.746 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/attendance/students/6 - null null
2025-05-25 16:09:33.746 +02:00 [INF] CORS policy execution successful.
2025-05-25 16:09:33.749 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.GetStudentsForSchedule (backend)'
2025-05-25 16:09:33.750 +02:00 [INF] Route matched with {action = "GetStudentsForSchedule", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentsForSchedule(Int32) on controller backend.Controllers.AttendanceController (backend).
2025-05-25 16:09:33.806 +02:00 [INF] Executed DbCommand (37ms) [Parameters=[@__scheduleId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[ClassId], [s].[CreatedAt], [s].[DayOfWeek], [s].[StartTime], [s].[SubjectId], [s].[TeacherId], [s].[UpdatedAt], [c].[Id], [c].[CreatedAt], [c].[HomeroomTeacherId], [c].[Name], [c].[UpdatedAt]
FROM [Schedules] AS [s]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
WHERE [s].[Id] = @__scheduleId_0
2025-05-25 16:09:33.838 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[@__scheduleId_1='?' (DbType = Int32), @__today_2='?' (DbType = DateTime2), @__schedule_ClassId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id] AS [StudentId], [s].[FirstName] + N' ' + [s].[LastName] AS [FullName], COALESCE((
    SELECT TOP(1) [a].[Status]
    FROM [Attendances] AS [a]
    WHERE [a].[ScheduleId] = @__scheduleId_1 AND [a].[StudentId] = [s].[Id] AND CONVERT(date, [a].[Date]) = @__today_2), 0) AS [Status]
FROM [Students] AS [s]
WHERE [s].[ClassId] = @__schedule_ClassId_0
2025-05-25 16:09:33.839 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.StudentForAttendanceDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 16:09:33.839 +02:00 [INF] Executed action backend.Controllers.AttendanceController.GetStudentsForSchedule (backend) in 88.8154ms
2025-05-25 16:09:33.839 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.GetStudentsForSchedule (backend)'
2025-05-25 16:09:33.839 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/attendance/students/6 - 200 null application/json; charset=utf-8 93.8613ms
2025-05-25 16:09:41.413 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/teacher/d2f5cf82-b1bb-44b9-8171-f8f7fbb1a6f6 - null null
2025-05-25 16:09:41.414 +02:00 [INF] CORS policy execution successful.
2025-05-25 16:09:41.414 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/teacher/d2f5cf82-b1bb-44b9-8171-f8f7fbb1a6f6 - 204 null null 0.6047ms
2025-05-25 16:09:41.416 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/teacher/d2f5cf82-b1bb-44b9-8171-f8f7fbb1a6f6 - null null
2025-05-25 16:09:41.416 +02:00 [INF] CORS policy execution successful.
2025-05-25 16:09:41.417 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetScheduleForTeacher (backend)'
2025-05-25 16:09:41.417 +02:00 [INF] Route matched with {action = "GetScheduleForTeacher", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetScheduleForTeacher(System.String) on controller backend.Controllers.ScheduleController (backend).
2025-05-25 16:09:41.460 +02:00 [INF] Executed DbCommand (35ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__userId_0
2025-05-25 16:09:41.489 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__teacher_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[DayOfWeek], [s].[StartTime], [c].[Name] AS [ClassName], [s0].[Name] AS [SubjectName]
FROM [Schedules] AS [s]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
WHERE [s].[TeacherId] = @__teacher_Id_0
ORDER BY [s].[DayOfWeek], [s].[StartTime]
2025-05-25 16:09:41.489 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.TeacherScheduleEntryDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 16:09:41.490 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetScheduleForTeacher (backend) in 72.2332ms
2025-05-25 16:09:41.490 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetScheduleForTeacher (backend)'
2025-05-25 16:09:41.490 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/teacher/d2f5cf82-b1bb-44b9-8171-f8f7fbb1a6f6 - 200 null application/json; charset=utf-8 74.4365ms
2025-05-25 16:10:54.228 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/teacher/d2f5cf82-b1bb-44b9-8171-f8f7fbb1a6f6 - null null
2025-05-25 16:10:54.227 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-25 16:10:54.242 +02:00 [INF] CORS policy execution successful.
2025-05-25 16:10:54.243 +02:00 [INF] CORS policy execution successful.
2025-05-25 16:10:54.243 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 15.8312ms
2025-05-25 16:10:54.243 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/teacher/d2f5cf82-b1bb-44b9-8171-f8f7fbb1a6f6 - 204 null null 15.8336ms
2025-05-25 16:10:54.280 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-25 16:10:54.285 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/teacher/d2f5cf82-b1bb-44b9-8171-f8f7fbb1a6f6 - null null
2025-05-25 16:10:54.289 +02:00 [INF] CORS policy execution successful.
2025-05-25 16:10:54.291 +02:00 [INF] CORS policy execution successful.
2025-05-25 16:10:54.293 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetScheduleForTeacher (backend)'
2025-05-25 16:10:54.293 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 16:10:54.311 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-25 16:10:54.313 +02:00 [INF] Route matched with {action = "GetScheduleForTeacher", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetScheduleForTeacher(System.String) on controller backend.Controllers.ScheduleController (backend).
2025-05-25 16:10:54.367 +02:00 [INF] Executed DbCommand (36ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__userId_0
2025-05-25 16:10:54.367 +02:00 [INF] Executed DbCommand (38ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-25 16:10:54.399 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-25 16:10:54.427 +02:00 [INF] Executed DbCommand (35ms) [Parameters=[@__teacher_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[DayOfWeek], [s].[StartTime], [c].[Name], [s0].[Name]
FROM [Schedules] AS [s]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
WHERE [s].[TeacherId] = @__teacher_Id_0
ORDER BY [s].[DayOfWeek], [s].[StartTime]
2025-05-25 16:10:54.430 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-25 16:10:54.432 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-25 16:10:54.471 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 160.293ms
2025-05-25 16:10:54.472 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 16:10:54.473 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 499 null application/json; charset=utf-8 192.1621ms
2025-05-25 16:10:54.499 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-25 16:10:54.500 +02:00 [INF] CORS policy execution successful.
2025-05-25 16:10:54.500 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 16:10:54.500 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-25 16:10:54.500 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/teacher/d2f5cf82-b1bb-44b9-8171-f8f7fbb1a6f6 - null null
2025-05-25 16:10:54.501 +02:00 [INF] CORS policy execution successful.
2025-05-25 16:10:54.501 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetScheduleForTeacher (backend)'
2025-05-25 16:10:54.501 +02:00 [INF] Route matched with {action = "GetScheduleForTeacher", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetScheduleForTeacher(System.String) on controller backend.Controllers.ScheduleController (backend).
2025-05-25 16:10:54.599 +02:00 [INF] Executed DbCommand (96ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-25 16:10:54.626 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'backend.Data.AppDbContext'.
System.FormatException: Input string was not in a correct format.
   at System.Globalization.TimeSpanFormat.FormatCustomized[TChar](TimeSpan value, ReadOnlySpan`1 format, DateTimeFormatInfo dtfi, ValueListBuilder`1& result)
   at System.Globalization.TimeSpanFormat.Format(TimeSpan value, String format, IFormatProvider formatProvider)
   at lambda_method634(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.FormatException: Input string was not in a correct format.
   at System.Globalization.TimeSpanFormat.FormatCustomized[TChar](TimeSpan value, ReadOnlySpan`1 format, DateTimeFormatInfo dtfi, ValueListBuilder`1& result)
   at System.Globalization.TimeSpanFormat.Format(TimeSpan value, String format, IFormatProvider formatProvider)
   at lambda_method634(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-05-25 16:10:54.629 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__userId_0
2025-05-25 16:10:54.636 +02:00 [ERR] Wystąpił błąd podczas pobierania harmonogramu dla nauczyciela o ID d2f5cf82-b1bb-44b9-8171-f8f7fbb1a6f6: Input string was not in a correct format.
2025-05-25 16:10:54.640 +02:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-25 16:10:54.643 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetScheduleForTeacher (backend) in 329.1158ms
2025-05-25 16:10:54.643 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetScheduleForTeacher (backend)'
2025-05-25 16:10:54.643 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/teacher/d2f5cf82-b1bb-44b9-8171-f8f7fbb1a6f6 - 499 null application/json; charset=utf-8 358.2984ms
2025-05-25 16:10:54.662 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[@__teacher_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[DayOfWeek], [s].[StartTime], [c].[Name], [s0].[Name]
FROM [Schedules] AS [s]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
WHERE [s].[TeacherId] = @__teacher_Id_0
ORDER BY [s].[DayOfWeek], [s].[StartTime]
2025-05-25 16:10:54.663 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'backend.Data.AppDbContext'.
System.FormatException: Input string was not in a correct format.
   at System.Globalization.TimeSpanFormat.FormatCustomized[TChar](TimeSpan value, ReadOnlySpan`1 format, DateTimeFormatInfo dtfi, ValueListBuilder`1& result)
   at System.Globalization.TimeSpanFormat.Format(TimeSpan value, String format, IFormatProvider formatProvider)
   at lambda_method634(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.FormatException: Input string was not in a correct format.
   at System.Globalization.TimeSpanFormat.FormatCustomized[TChar](TimeSpan value, ReadOnlySpan`1 format, DateTimeFormatInfo dtfi, ValueListBuilder`1& result)
   at System.Globalization.TimeSpanFormat.Format(TimeSpan value, String format, IFormatProvider formatProvider)
   at lambda_method634(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-05-25 16:10:54.663 +02:00 [ERR] Wystąpił błąd podczas pobierania harmonogramu dla nauczyciela o ID d2f5cf82-b1bb-44b9-8171-f8f7fbb1a6f6: Input string was not in a correct format.
2025-05-25 16:10:54.663 +02:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-25 16:10:54.663 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetScheduleForTeacher (backend) in 162.2385ms
2025-05-25 16:10:54.663 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetScheduleForTeacher (backend)'
2025-05-25 16:10:54.664 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/teacher/d2f5cf82-b1bb-44b9-8171-f8f7fbb1a6f6 - 400 null application/json; charset=utf-8 163.0733ms
2025-05-25 16:10:54.802 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-25 16:10:54.833 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-25 16:10:54.833 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-25 16:10:54.833 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 333.2837ms
2025-05-25 16:10:54.834 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 16:10:54.834 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 335.1497ms
2025-05-25 16:11:23.772 +02:00 [INF] Application is starting
2025-05-25 16:11:23.807 +02:00 [INF] User profile is available. Using '/Users/pawelstaniul/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-05-25 16:11:23.842 +02:00 [WRN] The WebRootPath was not found: /Users/pawelstaniul/Desktop/Programy/school-logbook/backend/wwwroot. Static files may be unavailable.
2025-05-25 16:11:23.848 +02:00 [INF] Now listening on: http://localhost:5234
2025-05-25 16:11:23.850 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-25 16:11:23.851 +02:00 [INF] Hosting environment: Development
2025-05-25 16:11:23.851 +02:00 [INF] Content root path: /Users/pawelstaniul/Desktop/Programy/school-logbook/backend
2025-05-25 16:11:29.663 +02:00 [INF] Application is shutting down...
2025-05-25 16:11:35.825 +02:00 [INF] Application is starting
2025-05-25 16:11:35.859 +02:00 [INF] User profile is available. Using '/Users/pawelstaniul/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-05-25 16:11:35.883 +02:00 [WRN] The WebRootPath was not found: /Users/pawelstaniul/Desktop/Programy/school-logbook/backend/wwwroot. Static files may be unavailable.
2025-05-25 16:11:35.888 +02:00 [INF] Now listening on: http://localhost:5234
2025-05-25 16:11:35.890 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-25 16:11:35.890 +02:00 [INF] Hosting environment: Development
2025-05-25 16:11:35.890 +02:00 [INF] Content root path: /Users/pawelstaniul/Desktop/Programy/school-logbook/backend
2025-05-25 16:11:36.316 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/swagger/index.html - null null
2025-05-25 16:11:36.368 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/swagger/index.html - 200 null text/html;charset=utf-8 52.5175ms
2025-05-25 16:11:36.440 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/_framework/aspnetcore-browser-refresh.js - null null
2025-05-25 16:11:36.442 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/_framework/aspnetcore-browser-refresh.js - 200 13732 application/javascript; charset=utf-8 2.0398ms
2025-05-25 16:11:36.475 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/swagger/v1/swagger.json - null null
2025-05-25 16:11:36.532 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 57.1842ms
2025-05-25 16:11:41.669 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-25 16:11:41.677 +02:00 [WRN] Failed to determine the https port for redirect.
2025-05-25 16:11:41.677 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/teacher/d2f5cf82-b1bb-44b9-8171-f8f7fbb1a6f6 - null null
2025-05-25 16:11:41.766 +02:00 [INF] CORS policy execution successful.
2025-05-25 16:11:41.766 +02:00 [INF] CORS policy execution successful.
2025-05-25 16:11:41.767 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/teacher/d2f5cf82-b1bb-44b9-8171-f8f7fbb1a6f6 - 204 null null 90.4082ms
2025-05-25 16:11:41.769 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/teacher/d2f5cf82-b1bb-44b9-8171-f8f7fbb1a6f6 - null null
2025-05-25 16:11:41.770 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 100.6041ms
2025-05-25 16:11:41.788 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-25 16:11:41.788 +02:00 [INF] CORS policy execution successful.
2025-05-25 16:11:41.789 +02:00 [INF] CORS policy execution successful.
2025-05-25 16:11:41.859 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 16:11:41.859 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetScheduleForTeacher (backend)'
2025-05-25 16:11:41.880 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-25 16:11:41.881 +02:00 [INF] Route matched with {action = "GetScheduleForTeacher", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetScheduleForTeacher(System.String) on controller backend.Controllers.ScheduleController (backend).
2025-05-25 16:11:42.666 +02:00 [INF] Executed DbCommand (32ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-25 16:11:42.715 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-25 16:11:42.719 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__userId_0
2025-05-25 16:11:42.739 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-25 16:11:42.743 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-25 16:11:42.749 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__teacher_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[DayOfWeek], [s].[StartTime], [c].[Name], [s0].[Name]
FROM [Schedules] AS [s]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
WHERE [s].[TeacherId] = @__teacher_Id_0
ORDER BY [s].[DayOfWeek], [s].[StartTime]
2025-05-25 16:11:42.749 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 866.7163ms
2025-05-25 16:11:42.749 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 16:11:42.750 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.TeacherScheduleEntryDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 16:11:42.752 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetScheduleForTeacher (backend) in 870.808ms
2025-05-25 16:11:42.752 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetScheduleForTeacher (backend)'
2025-05-25 16:11:42.752 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 964.3477ms
2025-05-25 16:11:42.752 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/teacher/d2f5cf82-b1bb-44b9-8171-f8f7fbb1a6f6 - 200 null application/json; charset=utf-8 983.1085ms
2025-05-25 16:13:11.070 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-25 16:13:11.070 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/teacher/d2f5cf82-b1bb-44b9-8171-f8f7fbb1a6f6 - null null
2025-05-25 16:13:11.075 +02:00 [INF] CORS policy execution successful.
2025-05-25 16:13:11.075 +02:00 [INF] CORS policy execution successful.
2025-05-25 16:13:11.075 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/teacher/d2f5cf82-b1bb-44b9-8171-f8f7fbb1a6f6 - 204 null null 5.5377ms
2025-05-25 16:13:11.076 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 5.8402ms
2025-05-25 16:13:11.077 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/teacher/d2f5cf82-b1bb-44b9-8171-f8f7fbb1a6f6 - null null
2025-05-25 16:13:11.078 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-25 16:13:11.078 +02:00 [INF] CORS policy execution successful.
2025-05-25 16:13:11.078 +02:00 [INF] CORS policy execution successful.
2025-05-25 16:13:11.158 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 16:13:11.158 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetScheduleForTeacher (backend)'
2025-05-25 16:13:11.160 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-25 16:13:11.160 +02:00 [INF] Route matched with {action = "GetScheduleForTeacher", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetScheduleForTeacher(System.String) on controller backend.Controllers.ScheduleController (backend).
2025-05-25 16:13:11.449 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__userId_0
2025-05-25 16:13:11.450 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-25 16:13:11.467 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-25 16:13:11.466 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__teacher_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[DayOfWeek], [s].[StartTime], [c].[Name], [s0].[Name]
FROM [Schedules] AS [s]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
WHERE [s].[TeacherId] = @__teacher_Id_0
ORDER BY [s].[DayOfWeek], [s].[StartTime]
2025-05-25 16:13:11.469 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.TeacherScheduleEntryDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 16:13:11.472 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetScheduleForTeacher (backend) in 311.5137ms
2025-05-25 16:13:11.473 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetScheduleForTeacher (backend)'
2025-05-25 16:13:11.473 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/teacher/d2f5cf82-b1bb-44b9-8171-f8f7fbb1a6f6 - 200 null application/json; charset=utf-8 395.9482ms
2025-05-25 16:13:11.486 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-25 16:13:11.487 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-25 16:13:11.488 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 327.7737ms
2025-05-25 16:13:11.488 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 16:13:11.489 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 410.7295ms
2025-05-25 16:13:17.837 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - null null
2025-05-25 16:13:17.853 +02:00 [INF] CORS policy execution successful.
2025-05-25 16:13:17.865 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - 204 null null 30.2343ms
2025-05-25 16:13:17.866 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - null null
2025-05-25 16:13:17.868 +02:00 [INF] CORS policy execution successful.
2025-05-25 16:13:17.875 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-25 16:13:17.887 +02:00 [INF] Route matched with {action = "GetTodayLessons", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTodayLessons() on controller backend.Controllers.AttendanceController (backend).
2025-05-25 16:13:17.923 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-25 16:13:17.967 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__teacherId_0='?' (DbType = Int32), @__today_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s0].[Name], [c].[Name], [s].[StartTime], CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Attendances] AS [a]
        WHERE [a].[ScheduleId] = [s].[Id] AND CONVERT(date, [a].[Date]) = CONVERT(date, GETDATE())) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
FROM [Schedules] AS [s]
INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
WHERE [s].[TeacherId] = @__teacherId_0 AND [s].[DayOfWeek] = @__today_1
ORDER BY [s].[StartTime]
2025-05-25 16:13:17.967 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.LessonForAttendanceDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 16:13:17.969 +02:00 [INF] Executed action backend.Controllers.AttendanceController.GetTodayLessons (backend) in 81.4914ms
2025-05-25 16:13:17.969 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-25 16:13:17.969 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - 200 null application/json; charset=utf-8 103.317ms
2025-05-25 16:13:20.473 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/teacher/d2f5cf82-b1bb-44b9-8171-f8f7fbb1a6f6 - null null
2025-05-25 16:13:20.473 +02:00 [INF] CORS policy execution successful.
2025-05-25 16:13:20.474 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/teacher/d2f5cf82-b1bb-44b9-8171-f8f7fbb1a6f6 - 204 null null 0.8839ms
2025-05-25 16:13:20.489 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/teacher/d2f5cf82-b1bb-44b9-8171-f8f7fbb1a6f6 - null null
2025-05-25 16:13:20.491 +02:00 [INF] CORS policy execution successful.
2025-05-25 16:13:20.493 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetScheduleForTeacher (backend)'
2025-05-25 16:13:20.493 +02:00 [INF] Route matched with {action = "GetScheduleForTeacher", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetScheduleForTeacher(System.String) on controller backend.Controllers.ScheduleController (backend).
2025-05-25 16:13:20.518 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__userId_0
2025-05-25 16:13:20.533 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__teacher_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[DayOfWeek], [s].[StartTime], [c].[Name], [s0].[Name]
FROM [Schedules] AS [s]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
WHERE [s].[TeacherId] = @__teacher_Id_0
ORDER BY [s].[DayOfWeek], [s].[StartTime]
2025-05-25 16:13:20.534 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.TeacherScheduleEntryDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 16:13:20.534 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetScheduleForTeacher (backend) in 40.2248ms
2025-05-25 16:13:20.534 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetScheduleForTeacher (backend)'
2025-05-25 16:13:20.534 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/teacher/d2f5cf82-b1bb-44b9-8171-f8f7fbb1a6f6 - 200 null application/json; charset=utf-8 44.7997ms
2025-05-25 16:13:21.754 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - null null
2025-05-25 16:13:21.754 +02:00 [INF] CORS policy execution successful.
2025-05-25 16:13:21.757 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-25 16:13:21.758 +02:00 [INF] Route matched with {action = "GetTodayLessons", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTodayLessons() on controller backend.Controllers.AttendanceController (backend).
2025-05-25 16:13:21.779 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-25 16:13:21.795 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__teacherId_0='?' (DbType = Int32), @__today_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s0].[Name], [c].[Name], [s].[StartTime], CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Attendances] AS [a]
        WHERE [a].[ScheduleId] = [s].[Id] AND CONVERT(date, [a].[Date]) = CONVERT(date, GETDATE())) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
FROM [Schedules] AS [s]
INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
WHERE [s].[TeacherId] = @__teacherId_0 AND [s].[DayOfWeek] = @__today_1
ORDER BY [s].[StartTime]
2025-05-25 16:13:21.796 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.LessonForAttendanceDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 16:13:21.797 +02:00 [INF] Executed action backend.Controllers.AttendanceController.GetTodayLessons (backend) in 38.4876ms
2025-05-25 16:13:21.797 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-25 16:13:21.797 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - 200 null application/json; charset=utf-8 43.3903ms
2025-05-25 16:15:10.021 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/students/6 - null null
2025-05-25 16:15:10.024 +02:00 [INF] CORS policy execution successful.
2025-05-25 16:15:10.025 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/students/6 - 204 null null 3.9479ms
2025-05-25 16:15:10.027 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/attendance/students/6 - null null
2025-05-25 16:15:10.028 +02:00 [INF] CORS policy execution successful.
2025-05-25 16:15:10.036 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.GetStudentsForSchedule (backend)'
2025-05-25 16:15:10.061 +02:00 [INF] Route matched with {action = "GetStudentsForSchedule", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentsForSchedule(Int32) on controller backend.Controllers.AttendanceController (backend).
2025-05-25 16:15:10.132 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__scheduleId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[ClassId], [s].[CreatedAt], [s].[DayOfWeek], [s].[StartTime], [s].[SubjectId], [s].[TeacherId], [s].[UpdatedAt], [c].[Id], [c].[CreatedAt], [c].[HomeroomTeacherId], [c].[Name], [c].[UpdatedAt]
FROM [Schedules] AS [s]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
WHERE [s].[Id] = @__scheduleId_0
2025-05-25 16:15:10.197 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__scheduleId_1='?' (DbType = Int32), @__today_2='?' (DbType = DateTime2), @__schedule_ClassId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id] AS [StudentId], [s].[FirstName] + N' ' + [s].[LastName] AS [FullName], COALESCE((
    SELECT TOP(1) [a].[Status]
    FROM [Attendances] AS [a]
    WHERE [a].[ScheduleId] = @__scheduleId_1 AND [a].[StudentId] = [s].[Id] AND CONVERT(date, [a].[Date]) = @__today_2), 0) AS [Status]
FROM [Students] AS [s]
WHERE [s].[ClassId] = @__schedule_ClassId_0
2025-05-25 16:15:10.198 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.StudentForAttendanceDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 16:15:10.200 +02:00 [INF] Executed action backend.Controllers.AttendanceController.GetStudentsForSchedule (backend) in 139.6692ms
2025-05-25 16:15:10.201 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.GetStudentsForSchedule (backend)'
2025-05-25 16:15:10.201 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/attendance/students/6 - 200 null application/json; charset=utf-8 174.0353ms
2025-05-25 16:35:58.920 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/teacher/d2f5cf82-b1bb-44b9-8171-f8f7fbb1a6f6 - null null
2025-05-25 16:35:58.923 +02:00 [INF] CORS policy execution successful.
2025-05-25 16:35:58.924 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/teacher/d2f5cf82-b1bb-44b9-8171-f8f7fbb1a6f6 - 204 null null 4.0052ms
2025-05-25 16:35:58.925 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/teacher/d2f5cf82-b1bb-44b9-8171-f8f7fbb1a6f6 - null null
2025-05-25 16:35:58.926 +02:00 [INF] CORS policy execution successful.
2025-05-25 16:35:58.933 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetScheduleForTeacher (backend)'
2025-05-25 16:35:58.934 +02:00 [INF] Route matched with {action = "GetScheduleForTeacher", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetScheduleForTeacher(System.String) on controller backend.Controllers.ScheduleController (backend).
2025-05-25 16:35:59.167 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__userId_0
2025-05-25 16:35:59.196 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__teacher_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[DayOfWeek], [s].[StartTime], [c].[Name], [s0].[Name]
FROM [Schedules] AS [s]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
WHERE [s].[TeacherId] = @__teacher_Id_0
ORDER BY [s].[DayOfWeek], [s].[StartTime]
2025-05-25 16:35:59.197 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.TeacherScheduleEntryDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 16:35:59.197 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetScheduleForTeacher (backend) in 262.4483ms
2025-05-25 16:35:59.197 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetScheduleForTeacher (backend)'
2025-05-25 16:35:59.197 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/teacher/d2f5cf82-b1bb-44b9-8171-f8f7fbb1a6f6 - 200 null application/json; charset=utf-8 272.1125ms
2025-05-25 16:36:27.278 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - null null
2025-05-25 16:36:27.278 +02:00 [INF] CORS policy execution successful.
2025-05-25 16:36:27.279 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - 204 null null 0.6453ms
2025-05-25 16:36:27.284 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - null null
2025-05-25 16:36:27.284 +02:00 [INF] CORS policy execution successful.
2025-05-25 16:36:27.285 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-25 16:36:27.285 +02:00 [INF] Route matched with {action = "GetTodayLessons", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTodayLessons() on controller backend.Controllers.AttendanceController (backend).
2025-05-25 16:36:27.326 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-25 16:36:27.360 +02:00 [INF] Executed DbCommand (32ms) [Parameters=[@__teacherId_0='?' (DbType = Int32), @__today_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s0].[Name], [c].[Name], [s].[StartTime], CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Attendances] AS [a]
        WHERE [a].[ScheduleId] = [s].[Id] AND CONVERT(date, [a].[Date]) = CONVERT(date, GETDATE())) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
FROM [Schedules] AS [s]
INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
WHERE [s].[TeacherId] = @__teacherId_0 AND [s].[DayOfWeek] = @__today_1
ORDER BY [s].[StartTime]
2025-05-25 16:36:27.360 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.LessonForAttendanceDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 16:36:27.361 +02:00 [INF] Executed action backend.Controllers.AttendanceController.GetTodayLessons (backend) in 75.8384ms
2025-05-25 16:36:27.361 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-25 16:36:27.362 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - 200 null application/json; charset=utf-8 78.6495ms
2025-05-25 16:36:40.878 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/students/5 - null null
2025-05-25 16:36:40.880 +02:00 [INF] CORS policy execution successful.
2025-05-25 16:36:40.881 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/students/5 - 204 null null 2.7207ms
2025-05-25 16:36:40.884 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/attendance/students/5 - null null
2025-05-25 16:36:40.884 +02:00 [INF] CORS policy execution successful.
2025-05-25 16:36:40.887 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.GetStudentsForSchedule (backend)'
2025-05-25 16:36:40.888 +02:00 [INF] Route matched with {action = "GetStudentsForSchedule", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentsForSchedule(Int32) on controller backend.Controllers.AttendanceController (backend).
2025-05-25 16:36:40.931 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__scheduleId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[ClassId], [s].[CreatedAt], [s].[DayOfWeek], [s].[StartTime], [s].[SubjectId], [s].[TeacherId], [s].[UpdatedAt], [c].[Id], [c].[CreatedAt], [c].[HomeroomTeacherId], [c].[Name], [c].[UpdatedAt]
FROM [Schedules] AS [s]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
WHERE [s].[Id] = @__scheduleId_0
2025-05-25 16:36:40.963 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[@__scheduleId_1='?' (DbType = Int32), @__today_2='?' (DbType = DateTime2), @__schedule_ClassId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id] AS [StudentId], [s].[FirstName] + N' ' + [s].[LastName] AS [FullName], COALESCE((
    SELECT TOP(1) [a].[Status]
    FROM [Attendances] AS [a]
    WHERE [a].[ScheduleId] = @__scheduleId_1 AND [a].[StudentId] = [s].[Id] AND CONVERT(date, [a].[Date]) = @__today_2), 0) AS [Status]
FROM [Students] AS [s]
WHERE [s].[ClassId] = @__schedule_ClassId_0
2025-05-25 16:36:40.963 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.StudentForAttendanceDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 16:36:40.963 +02:00 [INF] Executed action backend.Controllers.AttendanceController.GetStudentsForSchedule (backend) in 74.9538ms
2025-05-25 16:36:40.963 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.GetStudentsForSchedule (backend)'
2025-05-25 16:36:40.964 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/attendance/students/5 - 200 null application/json; charset=utf-8 80.0547ms
2025-05-25 16:36:54.238 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/students/6 - null null
2025-05-25 16:36:54.238 +02:00 [INF] CORS policy execution successful.
2025-05-25 16:36:54.238 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/students/6 - 204 null null 0.6578ms
2025-05-25 16:36:54.240 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/attendance/students/6 - null null
2025-05-25 16:36:54.240 +02:00 [INF] CORS policy execution successful.
2025-05-25 16:36:54.240 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.GetStudentsForSchedule (backend)'
2025-05-25 16:36:54.240 +02:00 [INF] Route matched with {action = "GetStudentsForSchedule", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentsForSchedule(Int32) on controller backend.Controllers.AttendanceController (backend).
2025-05-25 16:36:54.270 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__scheduleId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[ClassId], [s].[CreatedAt], [s].[DayOfWeek], [s].[StartTime], [s].[SubjectId], [s].[TeacherId], [s].[UpdatedAt], [c].[Id], [c].[CreatedAt], [c].[HomeroomTeacherId], [c].[Name], [c].[UpdatedAt]
FROM [Schedules] AS [s]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
WHERE [s].[Id] = @__scheduleId_0
2025-05-25 16:36:54.300 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[@__scheduleId_1='?' (DbType = Int32), @__today_2='?' (DbType = DateTime2), @__schedule_ClassId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id] AS [StudentId], [s].[FirstName] + N' ' + [s].[LastName] AS [FullName], COALESCE((
    SELECT TOP(1) [a].[Status]
    FROM [Attendances] AS [a]
    WHERE [a].[ScheduleId] = @__scheduleId_1 AND [a].[StudentId] = [s].[Id] AND CONVERT(date, [a].[Date]) = @__today_2), 0) AS [Status]
FROM [Students] AS [s]
WHERE [s].[ClassId] = @__schedule_ClassId_0
2025-05-25 16:36:54.301 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.StudentForAttendanceDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 16:36:54.301 +02:00 [INF] Executed action backend.Controllers.AttendanceController.GetStudentsForSchedule (backend) in 60.7003ms
2025-05-25 16:36:54.301 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.GetStudentsForSchedule (backend)'
2025-05-25 16:36:54.302 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/attendance/students/6 - 200 null application/json; charset=utf-8 61.9618ms
2025-05-25 16:37:02.693 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/save/6 - null null
2025-05-25 16:37:02.693 +02:00 [INF] CORS policy execution successful.
2025-05-25 16:37:02.693 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/save/6 - 204 null null 0.4552ms
2025-05-25 16:37:02.696 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5234/api/attendance/save/6 - application/json 83
2025-05-25 16:37:02.696 +02:00 [INF] CORS policy execution successful.
2025-05-25 16:37:02.697 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.SaveAttendance (backend)'
2025-05-25 16:37:02.707 +02:00 [INF] Route matched with {action = "SaveAttendance", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveAttendance(Int32, System.Collections.Generic.List`1[backend.DTOs.AttendanceCreateDto]) on controller backend.Controllers.AttendanceController (backend).
2025-05-25 16:37:02.796 +02:00 [INF] Executed DbCommand (38ms) [Parameters=[@__scheduleId_0='?' (DbType = Int32), @__today_1='?' (DbType = Date)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Comment], [a].[Date], [a].[ModifiedByUserId], [a].[ScheduleId], [a].[Status], [a].[StudentId]
FROM [Attendances] AS [a]
WHERE [a].[ScheduleId] = @__scheduleId_0 AND CAST([a].[Date] AS date) = @__today_1
2025-05-25 16:37:02.904 +02:00 [INF] Executed DbCommand (33ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2), @p8='?' (Size = 4000), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (Size = 4000), @p13='?' (DbType = DateTime2), @p14='?' (Size = 4000), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Attendances] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, 0),
(@p6, @p7, @p8, @p9, @p10, @p11, 1),
(@p12, @p13, @p14, @p15, @p16, @p17, 2)) AS i ([Comment], [Date], [ModifiedByUserId], [ScheduleId], [Status], [StudentId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Comment], [Date], [ModifiedByUserId], [ScheduleId], [Status], [StudentId])
VALUES (i.[Comment], i.[Date], i.[ModifiedByUserId], i.[ScheduleId], i.[Status], i.[StudentId])
OUTPUT INSERTED.[Id], i._Position;
2025-05-25 16:37:02.920 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-25 16:37:02.921 +02:00 [INF] Executed action backend.Controllers.AttendanceController.SaveAttendance (backend) in 214.0915ms
2025-05-25 16:37:02.921 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.SaveAttendance (backend)'
2025-05-25 16:37:02.922 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5234/api/attendance/save/6 - 200 null application/json; charset=utf-8 225.851ms
2025-05-25 16:37:08.212 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-25 16:37:08.212 +02:00 [INF] CORS policy execution successful.
2025-05-25 16:37:08.212 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 0.6625ms
2025-05-25 16:37:08.214 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-25 16:37:08.215 +02:00 [INF] CORS policy execution successful.
2025-05-25 16:37:08.215 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 16:37:08.215 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-25 16:37:08.248 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - null null
2025-05-25 16:37:08.248 +02:00 [INF] CORS policy execution successful.
2025-05-25 16:37:08.250 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - 204 null null 0.9765ms
2025-05-25 16:37:08.256 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - null null
2025-05-25 16:37:08.260 +02:00 [INF] CORS policy execution successful.
2025-05-25 16:37:08.271 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-25 16:37:08.278 +02:00 [INF] Route matched with {action = "GetTodayLessons", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTodayLessons() on controller backend.Controllers.AttendanceController (backend).
2025-05-25 16:37:08.338 +02:00 [INF] Executed DbCommand (51ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-25 16:37:08.368 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__teacherId_0='?' (DbType = Int32), @__today_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s0].[Name], [c].[Name], [s].[StartTime], CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Attendances] AS [a]
        WHERE [a].[ScheduleId] = [s].[Id] AND CONVERT(date, [a].[Date]) = CONVERT(date, GETDATE())) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
FROM [Schedules] AS [s]
INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
WHERE [s].[TeacherId] = @__teacherId_0 AND [s].[DayOfWeek] = @__today_1
ORDER BY [s].[StartTime]
2025-05-25 16:37:08.369 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.LessonForAttendanceDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 16:37:08.369 +02:00 [INF] Executed action backend.Controllers.AttendanceController.GetTodayLessons (backend) in 90.4972ms
2025-05-25 16:37:08.369 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-25 16:37:08.369 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - 200 null application/json; charset=utf-8 113.1173ms
2025-05-25 16:37:08.430 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-25 16:37:08.446 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-25 16:37:08.462 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-25 16:37:08.463 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-25 16:37:08.463 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 247.4836ms
2025-05-25 16:37:08.463 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 16:37:08.464 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 249.3637ms
2025-05-25 16:37:10.525 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/students/6 - null null
2025-05-25 16:37:10.526 +02:00 [INF] CORS policy execution successful.
2025-05-25 16:37:10.526 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/students/6 - 204 null null 0.9352ms
2025-05-25 16:37:10.528 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/attendance/students/6 - null null
2025-05-25 16:37:10.529 +02:00 [INF] CORS policy execution successful.
2025-05-25 16:37:10.529 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.GetStudentsForSchedule (backend)'
2025-05-25 16:37:10.529 +02:00 [INF] Route matched with {action = "GetStudentsForSchedule", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentsForSchedule(Int32) on controller backend.Controllers.AttendanceController (backend).
2025-05-25 16:37:10.546 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__scheduleId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[ClassId], [s].[CreatedAt], [s].[DayOfWeek], [s].[StartTime], [s].[SubjectId], [s].[TeacherId], [s].[UpdatedAt], [c].[Id], [c].[CreatedAt], [c].[HomeroomTeacherId], [c].[Name], [c].[UpdatedAt]
FROM [Schedules] AS [s]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
WHERE [s].[Id] = @__scheduleId_0
2025-05-25 16:37:10.562 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__scheduleId_1='?' (DbType = Int32), @__today_2='?' (DbType = DateTime2), @__schedule_ClassId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id] AS [StudentId], [s].[FirstName] + N' ' + [s].[LastName] AS [FullName], COALESCE((
    SELECT TOP(1) [a].[Status]
    FROM [Attendances] AS [a]
    WHERE [a].[ScheduleId] = @__scheduleId_1 AND [a].[StudentId] = [s].[Id] AND CONVERT(date, [a].[Date]) = @__today_2), 0) AS [Status]
FROM [Students] AS [s]
WHERE [s].[ClassId] = @__schedule_ClassId_0
2025-05-25 16:37:10.563 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.StudentForAttendanceDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 16:37:10.563 +02:00 [INF] Executed action backend.Controllers.AttendanceController.GetStudentsForSchedule (backend) in 33.3261ms
2025-05-25 16:37:10.563 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.GetStudentsForSchedule (backend)'
2025-05-25 16:37:10.563 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/attendance/students/6 - 200 null application/json; charset=utf-8 34.7583ms
2025-05-25 16:37:18.597 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/teacher/d2f5cf82-b1bb-44b9-8171-f8f7fbb1a6f6 - null null
2025-05-25 16:37:18.597 +02:00 [INF] CORS policy execution successful.
2025-05-25 16:37:18.598 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/teacher/d2f5cf82-b1bb-44b9-8171-f8f7fbb1a6f6 - 204 null null 0.8147ms
2025-05-25 16:37:18.599 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/teacher/d2f5cf82-b1bb-44b9-8171-f8f7fbb1a6f6 - null null
2025-05-25 16:37:18.599 +02:00 [INF] CORS policy execution successful.
2025-05-25 16:37:18.599 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetScheduleForTeacher (backend)'
2025-05-25 16:37:18.599 +02:00 [INF] Route matched with {action = "GetScheduleForTeacher", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetScheduleForTeacher(System.String) on controller backend.Controllers.ScheduleController (backend).
2025-05-25 16:37:18.621 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__userId_0
2025-05-25 16:37:18.636 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__teacher_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[DayOfWeek], [s].[StartTime], [c].[Name], [s0].[Name]
FROM [Schedules] AS [s]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
WHERE [s].[TeacherId] = @__teacher_Id_0
ORDER BY [s].[DayOfWeek], [s].[StartTime]
2025-05-25 16:37:18.636 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.TeacherScheduleEntryDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 16:37:18.636 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetScheduleForTeacher (backend) in 36.5318ms
2025-05-25 16:37:18.636 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetScheduleForTeacher (backend)'
2025-05-25 16:37:18.636 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/teacher/d2f5cf82-b1bb-44b9-8171-f8f7fbb1a6f6 - 200 null application/json; charset=utf-8 37.5427ms
2025-05-25 16:37:20.900 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - null null
2025-05-25 16:37:20.902 +02:00 [INF] CORS policy execution successful.
2025-05-25 16:37:20.902 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - 204 null null 1.9392ms
2025-05-25 16:37:20.906 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - null null
2025-05-25 16:37:20.906 +02:00 [INF] CORS policy execution successful.
2025-05-25 16:37:20.907 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-25 16:37:20.907 +02:00 [INF] Route matched with {action = "GetTodayLessons", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTodayLessons() on controller backend.Controllers.AttendanceController (backend).
2025-05-25 16:37:20.933 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-25 16:37:20.947 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__teacherId_0='?' (DbType = Int32), @__today_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s0].[Name], [c].[Name], [s].[StartTime], CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Attendances] AS [a]
        WHERE [a].[ScheduleId] = [s].[Id] AND CONVERT(date, [a].[Date]) = CONVERT(date, GETDATE())) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
FROM [Schedules] AS [s]
INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
WHERE [s].[TeacherId] = @__teacherId_0 AND [s].[DayOfWeek] = @__today_1
ORDER BY [s].[StartTime]
2025-05-25 16:37:20.948 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.LessonForAttendanceDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 16:37:20.948 +02:00 [INF] Executed action backend.Controllers.AttendanceController.GetTodayLessons (backend) in 40.5485ms
2025-05-25 16:37:20.948 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-25 16:37:20.948 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - 200 null application/json; charset=utf-8 42.4618ms
2025-05-25 16:37:21.890 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/students/6 - null null
2025-05-25 16:37:21.891 +02:00 [INF] CORS policy execution successful.
2025-05-25 16:37:21.892 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/students/6 - 204 null null 1.1947ms
2025-05-25 16:37:21.893 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/attendance/students/6 - null null
2025-05-25 16:37:21.893 +02:00 [INF] CORS policy execution successful.
2025-05-25 16:37:21.894 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.GetStudentsForSchedule (backend)'
2025-05-25 16:37:21.894 +02:00 [INF] Route matched with {action = "GetStudentsForSchedule", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentsForSchedule(Int32) on controller backend.Controllers.AttendanceController (backend).
2025-05-25 16:37:21.909 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__scheduleId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[ClassId], [s].[CreatedAt], [s].[DayOfWeek], [s].[StartTime], [s].[SubjectId], [s].[TeacherId], [s].[UpdatedAt], [c].[Id], [c].[CreatedAt], [c].[HomeroomTeacherId], [c].[Name], [c].[UpdatedAt]
FROM [Schedules] AS [s]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
WHERE [s].[Id] = @__scheduleId_0
2025-05-25 16:37:21.924 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__scheduleId_1='?' (DbType = Int32), @__today_2='?' (DbType = DateTime2), @__schedule_ClassId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id] AS [StudentId], [s].[FirstName] + N' ' + [s].[LastName] AS [FullName], COALESCE((
    SELECT TOP(1) [a].[Status]
    FROM [Attendances] AS [a]
    WHERE [a].[ScheduleId] = @__scheduleId_1 AND [a].[StudentId] = [s].[Id] AND CONVERT(date, [a].[Date]) = @__today_2), 0) AS [Status]
FROM [Students] AS [s]
WHERE [s].[ClassId] = @__schedule_ClassId_0
2025-05-25 16:37:21.924 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.StudentForAttendanceDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 16:37:21.925 +02:00 [INF] Executed action backend.Controllers.AttendanceController.GetStudentsForSchedule (backend) in 30.9182ms
2025-05-25 16:37:21.925 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.GetStudentsForSchedule (backend)'
2025-05-25 16:37:21.925 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/attendance/students/6 - 200 null application/json; charset=utf-8 32.1594ms
2025-05-25 16:38:22.195 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/auth/login - null null
2025-05-25 16:38:22.196 +02:00 [INF] CORS policy execution successful.
2025-05-25 16:38:22.196 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/auth/login - 204 null null 1.6637ms
2025-05-25 16:38:22.198 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5234/api/auth/login - application/json 55
2025-05-25 16:38:22.199 +02:00 [INF] CORS policy execution successful.
2025-05-25 16:38:22.200 +02:00 [INF] Executing endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-05-25 16:38:22.212 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(backend.DTOs.Login) on controller backend.Controllers.AuthController (backend).
2025-05-25 16:38:22.281 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-05-25 16:38:22.380 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-05-25 16:38:22.395 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-25 16:38:22.413 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-25 16:38:22.435 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-25 16:38:22.448 +02:00 [INF] AuthenticationScheme: Identity.Application signed in.
2025-05-25 16:38:22.463 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-05-25 16:38:22.466 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.Threading.Tasks.Task`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-25 16:38:22.479 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-25 16:38:22.501 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-05-25 16:38:22.534 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@p20='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p21='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32), @p18='?' (DbType = Boolean), @p19='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [AdminId] = @p1, [ConcurrencyStamp] = @p2, [DateAdded] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastSuccessfulLogin] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [SecurityStamp] = @p15, [StudentId] = @p16, [TeacherId] = @p17, [TwoFactorEnabled] = @p18, [UserName] = @p19
OUTPUT 1
WHERE [Id] = @p20 AND [ConcurrencyStamp] = @p21;
2025-05-25 16:38:22.540 +02:00 [INF] Executed action backend.Controllers.AuthController.Login (backend) in 328.0317ms
2025-05-25 16:38:22.540 +02:00 [INF] Executed endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-05-25 16:38:22.541 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5234/api/auth/login - 200 null application/json; charset=utf-8 342.7715ms
2025-05-25 16:38:22.546 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-25 16:38:22.546 +02:00 [INF] CORS policy execution successful.
2025-05-25 16:38:22.546 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 0.3318ms
2025-05-25 16:38:22.547 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-25 16:38:22.548 +02:00 [INF] CORS policy execution successful.
2025-05-25 16:38:22.548 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 16:38:22.548 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-25 16:38:22.565 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-25 16:38:22.577 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/roles - null null
2025-05-25 16:38:22.577 +02:00 [INF] CORS policy execution successful.
2025-05-25 16:38:22.577 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/roles - 204 null null 0.3436ms
2025-05-25 16:38:22.579 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/roles - null null
2025-05-25 16:38:22.579 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-25 16:38:22.579 +02:00 [INF] CORS policy execution successful.
2025-05-25 16:38:22.580 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetRoles (backend)'
2025-05-25 16:38:22.582 +02:00 [INF] Route matched with {action = "GetRoles", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRoles() on controller backend.Controllers.UserController (backend).
2025-05-25 16:38:22.601 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[FirstName], [a].[LastName], [a].[UserId]
FROM [Admins] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-05-25 16:38:22.602 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-25 16:38:22.602 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 53.5783ms
2025-05-25 16:38:22.602 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 16:38:22.602 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 54.9976ms
2025-05-25 16:38:22.627 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE([a].[Name], N'') AS [Name]
FROM [AspNetRoles] AS [a]
2025-05-25 16:38:22.628 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.Models.Role, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 16:38:22.629 +02:00 [INF] Executed action backend.Controllers.UserController.GetRoles (backend) in 46.6792ms
2025-05-25 16:38:22.629 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetRoles (backend)'
2025-05-25 16:38:22.629 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/roles - 200 null application/json; charset=utf-8 50.4613ms
2025-05-25 16:38:22.894 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/paged?pageNumber=1&pageSize=10&sortColumn=role&sortDirection=asc&searchQuery= - null null
2025-05-25 16:38:22.895 +02:00 [INF] CORS policy execution successful.
2025-05-25 16:38:22.895 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/paged?pageNumber=1&pageSize=10&sortColumn=role&sortDirection=asc&searchQuery= - 204 null null 0.2127ms
2025-05-25 16:38:22.896 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/paged?pageNumber=1&pageSize=10&sortColumn=role&sortDirection=asc&searchQuery= - null null
2025-05-25 16:38:22.896 +02:00 [INF] CORS policy execution successful.
2025-05-25 16:38:22.896 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetUsersPaged (backend)'
2025-05-25 16:38:22.899 +02:00 [INF] Route matched with {action = "GetUsersPaged", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersPaged(backend.Models.PagedRequest) on controller backend.Controllers.UserController (backend).
2025-05-25 16:38:22.957 +02:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
INNER JOIN [AspNetUserRoles] AS [a0] ON [a].[Id] = [a0].[UserId]
INNER JOIN [AspNetRoles] AS [a1] ON [a0].[RoleId] = [a1].[Id]
LEFT JOIN [Admins] AS [a2] ON [a].[Id] = [a2].[UserId]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[UserId]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[UserId]
2025-05-25 16:38:23.003 +02:00 [INF] Executed DbCommand (37ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName], [a1].[Name] AS [RoleName], [a2].[Id], [a2].[FirstName], [a2].[LastName], [a2].[UserId], [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId], [s].[Id], [s].[ClassId], [s].[FirstName], [s].[LastName], [s].[UserId]
FROM [AspNetUsers] AS [a]
INNER JOIN [AspNetUserRoles] AS [a0] ON [a].[Id] = [a0].[UserId]
INNER JOIN [AspNetRoles] AS [a1] ON [a0].[RoleId] = [a1].[Id]
LEFT JOIN [Admins] AS [a2] ON [a].[Id] = [a2].[UserId]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[UserId]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[UserId]
ORDER BY [a1].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-25 16:38:23.009 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.PagedUsers'.
2025-05-25 16:38:23.010 +02:00 [INF] Executed action backend.Controllers.UserController.GetUsersPaged (backend) in 110.9414ms
2025-05-25 16:38:23.010 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetUsersPaged (backend)'
2025-05-25 16:38:23.010 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/paged?pageNumber=1&pageSize=10&sortColumn=role&sortDirection=asc&searchQuery= - 200 null application/json; charset=utf-8 114.6655ms
2025-05-25 16:38:27.783 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/roles - null null
2025-05-25 16:38:27.783 +02:00 [INF] CORS policy execution successful.
2025-05-25 16:38:27.784 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/roles - 204 null null 0.3276ms
2025-05-25 16:38:27.785 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/roles - null null
2025-05-25 16:38:27.785 +02:00 [INF] CORS policy execution successful.
2025-05-25 16:38:27.786 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetRoles (backend)'
2025-05-25 16:38:27.786 +02:00 [INF] Route matched with {action = "GetRoles", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRoles() on controller backend.Controllers.UserController (backend).
2025-05-25 16:38:27.823 +02:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE([a].[Name], N'') AS [Name]
FROM [AspNetRoles] AS [a]
2025-05-25 16:38:27.823 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.Models.Role, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 16:38:27.824 +02:00 [INF] Executed action backend.Controllers.UserController.GetRoles (backend) in 37.7102ms
2025-05-25 16:38:27.824 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetRoles (backend)'
2025-05-25 16:38:27.824 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/roles - 200 null application/json; charset=utf-8 39.0075ms
2025-05-25 16:38:30.006 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/class/paged?pageNumber=1&pageSize=10&sortColumn=name&sortDirection=asc - null null
2025-05-25 16:38:30.008 +02:00 [INF] CORS policy execution successful.
2025-05-25 16:38:30.008 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/class/paged?pageNumber=1&pageSize=10&sortColumn=name&sortDirection=asc - 204 null null 2.3416ms
2025-05-25 16:38:30.010 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/class/paged?pageNumber=1&pageSize=10&sortColumn=name&sortDirection=asc - null null
2025-05-25 16:38:30.012 +02:00 [INF] CORS policy execution successful.
2025-05-25 16:38:30.012 +02:00 [INF] Executing endpoint 'backend.Controllers.ClassController.GetClassesPaged (backend)'
2025-05-25 16:38:30.020 +02:00 [INF] Route matched with {action = "GetClassesPaged", controller = "Class"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClassesPaged(backend.Models.PagedRequest) on controller backend.Controllers.ClassController (backend).
2025-05-25 16:38:30.067 +02:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Classes] AS [c]
2025-05-25 16:38:30.119 +02:00 [INF] Executed DbCommand (35ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name], [t].[CreatedAt], [t].[UpdatedAt], CASE
    WHEN [t0].[Id] IS NOT NULL THEN COALESCE([t0].[FirstName], N'') + N' ' + COALESCE([t0].[LastName], N'')
    ELSE NULL
END AS [HomeroomTeacherName], (
    SELECT COUNT(*)
    FROM [Students] AS [s]
    WHERE [t].[Id] = [s].[ClassId]) AS [StudentCount]
FROM (
    SELECT [c].[Id], [c].[CreatedAt], [c].[HomeroomTeacherId], [c].[Name], [c].[UpdatedAt]
    FROM [Classes] AS [c]
    ORDER BY [c].[Name]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [Teachers] AS [t0] ON [t].[HomeroomTeacherId] = [t0].[Id]
ORDER BY [t].[Name]
2025-05-25 16:38:30.120 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.PagedClasses'.
2025-05-25 16:38:30.126 +02:00 [INF] Executed action backend.Controllers.ClassController.GetClassesPaged (backend) in 106.0312ms
2025-05-25 16:38:30.126 +02:00 [INF] Executed endpoint 'backend.Controllers.ClassController.GetClassesPaged (backend)'
2025-05-25 16:38:30.126 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/class/paged?pageNumber=1&pageSize=10&sortColumn=name&sortDirection=asc - 200 null application/json; charset=utf-8 116.1445ms
2025-05-25 16:38:30.527 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/student/all - null null
2025-05-25 16:38:30.527 +02:00 [INF] CORS policy execution successful.
2025-05-25 16:38:30.527 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/student/all - 204 null null 0.4683ms
2025-05-25 16:38:30.528 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/teacher/all - null null
2025-05-25 16:38:30.528 +02:00 [INF] CORS policy execution successful.
2025-05-25 16:38:30.528 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/teacher/all - 204 null null 0.3312ms
2025-05-25 16:38:30.529 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/student/all - null null
2025-05-25 16:38:30.529 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/teacher/all - null null
2025-05-25 16:38:30.529 +02:00 [INF] CORS policy execution successful.
2025-05-25 16:38:30.529 +02:00 [INF] CORS policy execution successful.
2025-05-25 16:38:30.530 +02:00 [INF] Executing endpoint 'backend.Controllers.TeacherController.GetTeachers (backend)'
2025-05-25 16:38:30.530 +02:00 [INF] Executing endpoint 'backend.Controllers.StudentController.GetStudents (backend)'
2025-05-25 16:38:30.533 +02:00 [INF] Route matched with {action = "GetStudents", controller = "Student"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudents() on controller backend.Controllers.StudentController (backend).
2025-05-25 16:38:30.533 +02:00 [INF] Route matched with {action = "GetTeachers", controller = "Teacher"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTeachers() on controller backend.Controllers.TeacherController (backend).
2025-05-25 16:38:30.563 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[FirstName], [s].[LastName], [c].[Name] AS [ClassName]
FROM [Students] AS [s]
LEFT JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
ORDER BY [s].[LastName], [s].[FirstName]
2025-05-25 16:38:30.563 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.StudentDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 16:38:30.564 +02:00 [INF] Executed action backend.Controllers.StudentController.GetStudents (backend) in 31.2487ms
2025-05-25 16:38:30.564 +02:00 [INF] Executed endpoint 'backend.Controllers.StudentController.GetStudents (backend)'
2025-05-25 16:38:30.565 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/student/all - 200 null application/json; charset=utf-8 35.8222ms
2025-05-25 16:38:30.574 +02:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
2025-05-25 16:38:30.575 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.TeacherDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 16:38:30.577 +02:00 [INF] Executed action backend.Controllers.TeacherController.GetTeachers (backend) in 43.4818ms
2025-05-25 16:38:30.577 +02:00 [INF] Executed endpoint 'backend.Controllers.TeacherController.GetTeachers (backend)'
2025-05-25 16:38:30.577 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/teacher/all - 200 null application/json; charset=utf-8 47.8322ms
2025-05-25 16:38:31.693 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/class/all - null null
2025-05-25 16:38:31.693 +02:00 [INF] CORS policy execution successful.
2025-05-25 16:38:31.693 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/class/all - 204 null null 0.3377ms
2025-05-25 16:38:31.693 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/teacher/all - null null
2025-05-25 16:38:31.694 +02:00 [INF] CORS policy execution successful.
2025-05-25 16:38:31.694 +02:00 [INF] Executing endpoint 'backend.Controllers.TeacherController.GetTeachers (backend)'
2025-05-25 16:38:31.694 +02:00 [INF] Route matched with {action = "GetTeachers", controller = "Teacher"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTeachers() on controller backend.Controllers.TeacherController (backend).
2025-05-25 16:38:31.694 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/class/all - null null
2025-05-25 16:38:31.695 +02:00 [INF] CORS policy execution successful.
2025-05-25 16:38:31.695 +02:00 [INF] Executing endpoint 'backend.Controllers.ClassController.GetClasses (backend)'
2025-05-25 16:38:31.700 +02:00 [INF] Route matched with {action = "GetClasses", controller = "Class"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClasses() on controller backend.Controllers.ClassController (backend).
2025-05-25 16:38:31.724 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Classes] AS [c]
2025-05-25 16:38:31.725 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
2025-05-25 16:38:31.726 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.TeacherDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 16:38:31.726 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.ClassDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 16:38:31.726 +02:00 [INF] Executed action backend.Controllers.ClassController.GetClasses (backend) in 26.2674ms
2025-05-25 16:38:31.726 +02:00 [INF] Executed action backend.Controllers.TeacherController.GetTeachers (backend) in 31.9397ms
2025-05-25 16:38:31.726 +02:00 [INF] Executed endpoint 'backend.Controllers.TeacherController.GetTeachers (backend)'
2025-05-25 16:38:31.727 +02:00 [INF] Executed endpoint 'backend.Controllers.ClassController.GetClasses (backend)'
2025-05-25 16:38:31.727 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/class/all - 200 null application/json; charset=utf-8 32.6474ms
2025-05-25 16:38:31.727 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/teacher/all - 200 null application/json; charset=utf-8 33.617ms
2025-05-25 16:38:45.505 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/class/paged?pageNumber=1&pageSize=10&sortColumn=name&sortDirection=asc - null null
2025-05-25 16:38:45.506 +02:00 [INF] CORS policy execution successful.
2025-05-25 16:38:45.507 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/class/paged?pageNumber=1&pageSize=10&sortColumn=name&sortDirection=asc - 204 null null 2.1953ms
2025-05-25 16:38:45.508 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/class/paged?pageNumber=1&pageSize=10&sortColumn=name&sortDirection=asc - null null
2025-05-25 16:38:45.508 +02:00 [INF] CORS policy execution successful.
2025-05-25 16:38:45.510 +02:00 [INF] Executing endpoint 'backend.Controllers.ClassController.GetClassesPaged (backend)'
2025-05-25 16:38:45.511 +02:00 [INF] Route matched with {action = "GetClassesPaged", controller = "Class"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClassesPaged(backend.Models.PagedRequest) on controller backend.Controllers.ClassController (backend).
2025-05-25 16:38:45.579 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Classes] AS [c]
2025-05-25 16:38:45.609 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name], [t].[CreatedAt], [t].[UpdatedAt], CASE
    WHEN [t0].[Id] IS NOT NULL THEN COALESCE([t0].[FirstName], N'') + N' ' + COALESCE([t0].[LastName], N'')
    ELSE NULL
END AS [HomeroomTeacherName], (
    SELECT COUNT(*)
    FROM [Students] AS [s]
    WHERE [t].[Id] = [s].[ClassId]) AS [StudentCount]
FROM (
    SELECT [c].[Id], [c].[CreatedAt], [c].[HomeroomTeacherId], [c].[Name], [c].[UpdatedAt]
    FROM [Classes] AS [c]
    ORDER BY [c].[Name]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [Teachers] AS [t0] ON [t].[HomeroomTeacherId] = [t0].[Id]
ORDER BY [t].[Name]
2025-05-25 16:38:45.612 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.PagedClasses'.
2025-05-25 16:38:45.613 +02:00 [INF] Executed action backend.Controllers.ClassController.GetClassesPaged (backend) in 101.8637ms
2025-05-25 16:38:45.613 +02:00 [INF] Executed endpoint 'backend.Controllers.ClassController.GetClassesPaged (backend)'
2025-05-25 16:38:45.613 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/class/paged?pageNumber=1&pageSize=10&sortColumn=name&sortDirection=asc - 200 null application/json; charset=utf-8 105.4577ms
2025-05-25 16:38:52.352 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/classes-with-schedule - null null
2025-05-25 16:38:52.353 +02:00 [INF] CORS policy execution successful.
2025-05-25 16:38:52.353 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/classes-with-schedule - 204 null null 0.7104ms
2025-05-25 16:38:52.355 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/classes-with-schedule - null null
2025-05-25 16:38:52.356 +02:00 [INF] CORS policy execution successful.
2025-05-25 16:38:52.357 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetClassesWithSchedule (backend)'
2025-05-25 16:38:52.364 +02:00 [INF] Route matched with {action = "GetClassesWithSchedule", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClassesWithSchedule() on controller backend.Controllers.ScheduleController (backend).
2025-05-25 16:38:52.419 +02:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], (
    SELECT COUNT(*)
    FROM [Schedules] AS [s]
    WHERE [c].[Id] = [s].[ClassId]) AS [EntryCount]
FROM [Classes] AS [c]
ORDER BY [c].[Name]
2025-05-25 16:38:52.420 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.ClassWithScheduleDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 16:38:52.421 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetClassesWithSchedule (backend) in 56.4389ms
2025-05-25 16:38:52.421 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetClassesWithSchedule (backend)'
2025-05-25 16:38:52.421 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/classes-with-schedule - 200 null application/json; charset=utf-8 65.7847ms
2025-05-25 16:38:55.029 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4/subjects - null null
2025-05-25 16:38:55.028 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4 - null null
2025-05-25 16:38:55.087 +02:00 [INF] CORS policy execution successful.
2025-05-25 16:38:55.088 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4/subjects - 204 null null 58.4193ms
2025-05-25 16:38:55.093 +02:00 [INF] CORS policy execution successful.
2025-05-25 16:38:55.093 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4 - 204 null null 64.9008ms
2025-05-25 16:38:55.095 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/class/4/subjects - null null
2025-05-25 16:38:55.096 +02:00 [INF] CORS policy execution successful.
2025-05-25 16:38:55.097 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/class/4 - null null
2025-05-25 16:38:55.097 +02:00 [INF] CORS policy execution successful.
2025-05-25 16:38:55.098 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetScheduleForClass (backend)'
2025-05-25 16:38:55.098 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetSubjectsForClass (backend)'
2025-05-25 16:38:55.111 +02:00 [INF] Route matched with {action = "GetScheduleForClass", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetScheduleForClass(Int32) on controller backend.Controllers.ScheduleController (backend).
2025-05-25 16:38:55.114 +02:00 [INF] Route matched with {action = "GetSubjectsForClass", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubjectsForClass(Int32) on controller backend.Controllers.ScheduleController (backend).
2025-05-25 16:38:55.159 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[HomeroomTeacherId], [t].[Name], [t].[UpdatedAt], [t0].[Id], [t0].[ClassId], [t0].[CreatedAt], [t0].[DayOfWeek], [t0].[StartTime], [t0].[SubjectId], [t0].[TeacherId], [t0].[UpdatedAt], [t0].[Id0], [t0].[CreatedAt0], [t0].[Name], [t0].[UpdatedAt0], [t0].[Id1], [t0].[FirstName], [t0].[LastName], [t0].[UserId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[CreatedAt], [c].[HomeroomTeacherId], [c].[Name], [c].[UpdatedAt]
    FROM [Classes] AS [c]
    WHERE [c].[Id] = @__classId_0
) AS [t]
LEFT JOIN (
    SELECT [s].[Id], [s].[ClassId], [s].[CreatedAt], [s].[DayOfWeek], [s].[StartTime], [s].[SubjectId], [s].[TeacherId], [s].[UpdatedAt], [s0].[Id] AS [Id0], [s0].[CreatedAt] AS [CreatedAt0], [s0].[Name], [s0].[UpdatedAt] AS [UpdatedAt0], [t1].[Id] AS [Id1], [t1].[FirstName], [t1].[LastName], [t1].[UserId]
    FROM [Schedules] AS [s]
    INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
    INNER JOIN [Teachers] AS [t1] ON [s].[TeacherId] = [t1].[Id]
) AS [t0] ON [t].[Id] = [t0].[ClassId]
ORDER BY [t].[Id], [t0].[Id], [t0].[Id0]
2025-05-25 16:38:55.171 +02:00 [INF] Executed DbCommand (47ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[CreatedAt], [s].[Name], [s].[UpdatedAt], [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [ClassSubjects] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Teachers] AS [t] ON [c].[TeacherId] = [t].[Id]
WHERE [c].[ClassId] = @__classId_0
2025-05-25 16:38:55.175 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.ScheduleForClassDto'.
2025-05-25 16:38:55.177 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.SubjectWithTeachersDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 16:38:55.178 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetSubjectsForClass (backend) in 64.2995ms
2025-05-25 16:38:55.178 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetSubjectsForClass (backend)'
2025-05-25 16:38:55.178 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/class/4/subjects - 200 null application/json; charset=utf-8 83.9777ms
2025-05-25 16:38:55.180 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetScheduleForClass (backend) in 68.4757ms
2025-05-25 16:38:55.180 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetScheduleForClass (backend)'
2025-05-25 16:38:55.180 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/class/4 - 200 null application/json; charset=utf-8 83.3422ms
2025-05-25 16:42:26.303 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-25 16:42:26.306 +02:00 [INF] CORS policy execution successful.
2025-05-25 16:42:26.307 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 3.6272ms
2025-05-25 16:42:26.308 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-25 16:42:26.309 +02:00 [INF] CORS policy execution successful.
2025-05-25 16:42:26.325 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 16:42:26.327 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-25 16:42:26.360 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-25 16:42:26.367 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4 - null null
2025-05-25 16:42:26.368 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4/subjects - null null
2025-05-25 16:42:26.368 +02:00 [INF] CORS policy execution successful.
2025-05-25 16:42:26.368 +02:00 [INF] CORS policy execution successful.
2025-05-25 16:42:26.368 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4/subjects - 204 null null 0.2616ms
2025-05-25 16:42:26.368 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4 - 204 null null 0.482ms
2025-05-25 16:42:26.370 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/class/4 - null null
2025-05-25 16:42:26.370 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/class/4/subjects - null null
2025-05-25 16:42:26.370 +02:00 [INF] CORS policy execution successful.
2025-05-25 16:42:26.370 +02:00 [INF] CORS policy execution successful.
2025-05-25 16:42:26.370 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetScheduleForClass (backend)'
2025-05-25 16:42:26.370 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetSubjectsForClass (backend)'
2025-05-25 16:42:26.370 +02:00 [INF] Route matched with {action = "GetSubjectsForClass", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubjectsForClass(Int32) on controller backend.Controllers.ScheduleController (backend).
2025-05-25 16:42:26.370 +02:00 [INF] Route matched with {action = "GetScheduleForClass", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetScheduleForClass(Int32) on controller backend.Controllers.ScheduleController (backend).
2025-05-25 16:42:26.381 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-25 16:42:26.398 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[FirstName], [a].[LastName], [a].[UserId]
FROM [Admins] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-05-25 16:42:26.401 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-25 16:42:26.411 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 82.5116ms
2025-05-25 16:42:26.411 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 16:42:26.412 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 103.9843ms
2025-05-25 16:42:26.413 +02:00 [INF] Executed DbCommand (38ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[CreatedAt], [s].[Name], [s].[UpdatedAt], [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [ClassSubjects] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Teachers] AS [t] ON [c].[TeacherId] = [t].[Id]
WHERE [c].[ClassId] = @__classId_0
2025-05-25 16:42:26.416 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.SubjectWithTeachersDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 16:42:26.416 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetSubjectsForClass (backend) in 45.7702ms
2025-05-25 16:42:26.416 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetSubjectsForClass (backend)'
2025-05-25 16:42:26.416 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/class/4/subjects - 200 null application/json; charset=utf-8 46.4354ms
2025-05-25 16:42:26.596 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[HomeroomTeacherId], [t].[Name], [t].[UpdatedAt], [t0].[Id], [t0].[ClassId], [t0].[CreatedAt], [t0].[DayOfWeek], [t0].[StartTime], [t0].[SubjectId], [t0].[TeacherId], [t0].[UpdatedAt], [t0].[Id0], [t0].[CreatedAt0], [t0].[Name], [t0].[UpdatedAt0], [t0].[Id1], [t0].[FirstName], [t0].[LastName], [t0].[UserId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[CreatedAt], [c].[HomeroomTeacherId], [c].[Name], [c].[UpdatedAt]
    FROM [Classes] AS [c]
    WHERE [c].[Id] = @__classId_0
) AS [t]
LEFT JOIN (
    SELECT [s].[Id], [s].[ClassId], [s].[CreatedAt], [s].[DayOfWeek], [s].[StartTime], [s].[SubjectId], [s].[TeacherId], [s].[UpdatedAt], [s0].[Id] AS [Id0], [s0].[CreatedAt] AS [CreatedAt0], [s0].[Name], [s0].[UpdatedAt] AS [UpdatedAt0], [t1].[Id] AS [Id1], [t1].[FirstName], [t1].[LastName], [t1].[UserId]
    FROM [Schedules] AS [s]
    INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
    INNER JOIN [Teachers] AS [t1] ON [s].[TeacherId] = [t1].[Id]
) AS [t0] ON [t].[Id] = [t0].[ClassId]
ORDER BY [t].[Id], [t0].[Id], [t0].[Id0]
2025-05-25 16:42:26.597 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.ScheduleForClassDto'.
2025-05-25 16:42:26.598 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetScheduleForClass (backend) in 227.4753ms
2025-05-25 16:42:26.598 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetScheduleForClass (backend)'
2025-05-25 16:42:26.598 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/class/4 - 200 null application/json; charset=utf-8 228.0583ms
2025-05-25 20:12:31.309 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/auth/login - null null
2025-05-25 20:12:31.312 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:12:31.313 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/auth/login - 204 null null 3.6635ms
2025-05-25 20:12:31.315 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5234/api/auth/login - application/json 55
2025-05-25 20:12:31.315 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:12:31.317 +02:00 [INF] Executing endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-05-25 20:12:31.319 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(backend.DTOs.Login) on controller backend.Controllers.AuthController (backend).
2025-05-25 20:12:31.457 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-05-25 20:12:31.525 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-05-25 20:12:31.543 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-25 20:12:31.560 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-25 20:12:31.577 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-25 20:12:31.582 +02:00 [INF] AuthenticationScheme: Identity.Application signed in.
2025-05-25 20:12:31.596 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-05-25 20:12:31.597 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.Threading.Tasks.Task`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-25 20:12:31.611 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-25 20:12:31.627 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-05-25 20:12:31.648 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@p20='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p21='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32), @p18='?' (DbType = Boolean), @p19='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [AdminId] = @p1, [ConcurrencyStamp] = @p2, [DateAdded] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastSuccessfulLogin] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [SecurityStamp] = @p15, [StudentId] = @p16, [TeacherId] = @p17, [TwoFactorEnabled] = @p18, [UserName] = @p19
OUTPUT 1
WHERE [Id] = @p20 AND [ConcurrencyStamp] = @p21;
2025-05-25 20:12:31.650 +02:00 [INF] Executed action backend.Controllers.AuthController.Login (backend) in 330.7982ms
2025-05-25 20:12:31.650 +02:00 [INF] Executed endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-05-25 20:12:31.650 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5234/api/auth/login - 200 null application/json; charset=utf-8 335.151ms
2025-05-25 20:12:31.655 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-25 20:12:31.655 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:12:31.655 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 0.0972ms
2025-05-25 20:12:31.656 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-25 20:12:31.656 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:12:31.656 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 20:12:31.656 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-25 20:12:31.672 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-25 20:12:31.681 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/roles - null null
2025-05-25 20:12:31.681 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:12:31.681 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/roles - 204 null null 0.2673ms
2025-05-25 20:12:31.682 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/roles - null null
2025-05-25 20:12:31.682 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:12:31.683 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetRoles (backend)'
2025-05-25 20:12:31.683 +02:00 [INF] Route matched with {action = "GetRoles", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRoles() on controller backend.Controllers.UserController (backend).
2025-05-25 20:12:31.686 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-25 20:12:31.702 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[FirstName], [a].[LastName], [a].[UserId]
FROM [Admins] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-05-25 20:12:31.702 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-25 20:12:31.703 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 46.1166ms
2025-05-25 20:12:31.703 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 20:12:31.703 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 46.9359ms
2025-05-25 20:12:31.879 +02:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE([a].[Name], N'') AS [Name]
FROM [AspNetRoles] AS [a]
2025-05-25 20:12:31.879 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.Models.Role, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 20:12:31.879 +02:00 [INF] Executed action backend.Controllers.UserController.GetRoles (backend) in 196.3286ms
2025-05-25 20:12:31.879 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetRoles (backend)'
2025-05-25 20:12:31.880 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/roles - 200 null application/json; charset=utf-8 197.5568ms
2025-05-25 20:12:31.993 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/paged?pageNumber=1&pageSize=10&sortColumn=role&sortDirection=asc&searchQuery= - null null
2025-05-25 20:12:31.993 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:12:31.993 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/paged?pageNumber=1&pageSize=10&sortColumn=role&sortDirection=asc&searchQuery= - 204 null null 0.3236ms
2025-05-25 20:12:31.994 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/paged?pageNumber=1&pageSize=10&sortColumn=role&sortDirection=asc&searchQuery= - null null
2025-05-25 20:12:31.994 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:12:31.994 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetUsersPaged (backend)'
2025-05-25 20:12:31.995 +02:00 [INF] Route matched with {action = "GetUsersPaged", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersPaged(backend.Models.PagedRequest) on controller backend.Controllers.UserController (backend).
2025-05-25 20:12:32.030 +02:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
INNER JOIN [AspNetUserRoles] AS [a0] ON [a].[Id] = [a0].[UserId]
INNER JOIN [AspNetRoles] AS [a1] ON [a0].[RoleId] = [a1].[Id]
LEFT JOIN [Admins] AS [a2] ON [a].[Id] = [a2].[UserId]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[UserId]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[UserId]
2025-05-25 20:12:32.068 +02:00 [INF] Executed DbCommand (38ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName], [a1].[Name] AS [RoleName], [a2].[Id], [a2].[FirstName], [a2].[LastName], [a2].[UserId], [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId], [s].[Id], [s].[ClassId], [s].[FirstName], [s].[LastName], [s].[UserId]
FROM [AspNetUsers] AS [a]
INNER JOIN [AspNetUserRoles] AS [a0] ON [a].[Id] = [a0].[UserId]
INNER JOIN [AspNetRoles] AS [a1] ON [a0].[RoleId] = [a1].[Id]
LEFT JOIN [Admins] AS [a2] ON [a].[Id] = [a2].[UserId]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[UserId]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[UserId]
ORDER BY [a1].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-25 20:12:32.075 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.PagedUsers'.
2025-05-25 20:12:32.075 +02:00 [INF] Executed action backend.Controllers.UserController.GetUsersPaged (backend) in 80.2919ms
2025-05-25 20:12:32.075 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetUsersPaged (backend)'
2025-05-25 20:12:32.075 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/paged?pageNumber=1&pageSize=10&sortColumn=role&sortDirection=asc&searchQuery= - 200 null application/json; charset=utf-8 81.0998ms
2025-05-25 20:12:47.161 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/roles - null null
2025-05-25 20:12:47.161 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:12:47.161 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/roles - 204 null null 0.2852ms
2025-05-25 20:12:47.162 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/roles - null null
2025-05-25 20:12:47.162 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:12:47.163 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetRoles (backend)'
2025-05-25 20:12:47.163 +02:00 [INF] Route matched with {action = "GetRoles", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRoles() on controller backend.Controllers.UserController (backend).
2025-05-25 20:12:47.195 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE([a].[Name], N'') AS [Name]
FROM [AspNetRoles] AS [a]
2025-05-25 20:12:47.195 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.Models.Role, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 20:12:47.195 +02:00 [INF] Executed action backend.Controllers.UserController.GetRoles (backend) in 32.297ms
2025-05-25 20:12:47.195 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetRoles (backend)'
2025-05-25 20:12:47.195 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/roles - 200 null application/json; charset=utf-8 33.5417ms
2025-05-25 20:12:48.678 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/roles - null null
2025-05-25 20:12:48.678 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:12:48.679 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetRoles (backend)'
2025-05-25 20:12:48.679 +02:00 [INF] Route matched with {action = "GetRoles", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRoles() on controller backend.Controllers.UserController (backend).
2025-05-25 20:12:48.717 +02:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE([a].[Name], N'') AS [Name]
FROM [AspNetRoles] AS [a]
2025-05-25 20:12:48.717 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.Models.Role, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 20:12:48.717 +02:00 [INF] Executed action backend.Controllers.UserController.GetRoles (backend) in 38.6833ms
2025-05-25 20:12:48.717 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetRoles (backend)'
2025-05-25 20:12:48.718 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/roles - 200 null application/json; charset=utf-8 39.8897ms
2025-05-25 20:12:48.987 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/paged?pageNumber=1&pageSize=10&sortColumn=role&sortDirection=asc&searchQuery= - null null
2025-05-25 20:12:48.987 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:12:48.987 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/paged?pageNumber=1&pageSize=10&sortColumn=role&sortDirection=asc&searchQuery= - 204 null null 0.3691ms
2025-05-25 20:12:48.989 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/paged?pageNumber=1&pageSize=10&sortColumn=role&sortDirection=asc&searchQuery= - null null
2025-05-25 20:12:48.989 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:12:48.989 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetUsersPaged (backend)'
2025-05-25 20:12:48.989 +02:00 [INF] Route matched with {action = "GetUsersPaged", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersPaged(backend.Models.PagedRequest) on controller backend.Controllers.UserController (backend).
2025-05-25 20:12:49.021 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
INNER JOIN [AspNetUserRoles] AS [a0] ON [a].[Id] = [a0].[UserId]
INNER JOIN [AspNetRoles] AS [a1] ON [a0].[RoleId] = [a1].[Id]
LEFT JOIN [Admins] AS [a2] ON [a].[Id] = [a2].[UserId]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[UserId]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[UserId]
2025-05-25 20:12:49.054 +02:00 [INF] Executed DbCommand (32ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName], [a1].[Name] AS [RoleName], [a2].[Id], [a2].[FirstName], [a2].[LastName], [a2].[UserId], [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId], [s].[Id], [s].[ClassId], [s].[FirstName], [s].[LastName], [s].[UserId]
FROM [AspNetUsers] AS [a]
INNER JOIN [AspNetUserRoles] AS [a0] ON [a].[Id] = [a0].[UserId]
INNER JOIN [AspNetRoles] AS [a1] ON [a0].[RoleId] = [a1].[Id]
LEFT JOIN [Admins] AS [a2] ON [a].[Id] = [a2].[UserId]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[UserId]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[UserId]
ORDER BY [a1].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-25 20:12:49.054 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.PagedUsers'.
2025-05-25 20:12:49.054 +02:00 [INF] Executed action backend.Controllers.UserController.GetUsersPaged (backend) in 64.84ms
2025-05-25 20:12:49.054 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetUsersPaged (backend)'
2025-05-25 20:12:49.054 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/paged?pageNumber=1&pageSize=10&sortColumn=role&sortDirection=asc&searchQuery= - 200 null application/json; charset=utf-8 65.9265ms
2025-05-25 20:12:52.229 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/roles - null null
2025-05-25 20:12:52.229 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:12:52.229 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/roles - 204 null null 0.3447ms
2025-05-25 20:12:52.231 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/roles - null null
2025-05-25 20:12:52.231 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:12:52.231 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetRoles (backend)'
2025-05-25 20:12:52.231 +02:00 [INF] Route matched with {action = "GetRoles", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRoles() on controller backend.Controllers.UserController (backend).
2025-05-25 20:12:52.268 +02:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE([a].[Name], N'') AS [Name]
FROM [AspNetRoles] AS [a]
2025-05-25 20:12:52.268 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.Models.Role, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 20:12:52.268 +02:00 [INF] Executed action backend.Controllers.UserController.GetRoles (backend) in 36.6972ms
2025-05-25 20:12:52.268 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetRoles (backend)'
2025-05-25 20:12:52.268 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/roles - 200 null application/json; charset=utf-8 37.806ms
2025-05-25 20:12:54.009 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/roles - null null
2025-05-25 20:12:54.009 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:12:54.009 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetRoles (backend)'
2025-05-25 20:12:54.009 +02:00 [INF] Route matched with {action = "GetRoles", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRoles() on controller backend.Controllers.UserController (backend).
2025-05-25 20:12:54.041 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE([a].[Name], N'') AS [Name]
FROM [AspNetRoles] AS [a]
2025-05-25 20:12:54.041 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.Models.Role, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 20:12:54.041 +02:00 [INF] Executed action backend.Controllers.UserController.GetRoles (backend) in 32.025ms
2025-05-25 20:12:54.042 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetRoles (backend)'
2025-05-25 20:12:54.042 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/roles - 200 null application/json; charset=utf-8 33.1548ms
2025-05-25 20:12:54.319 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/paged?pageNumber=1&pageSize=10&sortColumn=role&sortDirection=asc&searchQuery= - null null
2025-05-25 20:12:54.319 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:12:54.319 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/paged?pageNumber=1&pageSize=10&sortColumn=role&sortDirection=asc&searchQuery= - 204 null null 1.0227ms
2025-05-25 20:12:54.322 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/paged?pageNumber=1&pageSize=10&sortColumn=role&sortDirection=asc&searchQuery= - null null
2025-05-25 20:12:54.322 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:12:54.322 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetUsersPaged (backend)'
2025-05-25 20:12:54.323 +02:00 [INF] Route matched with {action = "GetUsersPaged", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersPaged(backend.Models.PagedRequest) on controller backend.Controllers.UserController (backend).
2025-05-25 20:12:54.356 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
INNER JOIN [AspNetUserRoles] AS [a0] ON [a].[Id] = [a0].[UserId]
INNER JOIN [AspNetRoles] AS [a1] ON [a0].[RoleId] = [a1].[Id]
LEFT JOIN [Admins] AS [a2] ON [a].[Id] = [a2].[UserId]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[UserId]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[UserId]
2025-05-25 20:12:54.390 +02:00 [INF] Executed DbCommand (32ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName], [a1].[Name] AS [RoleName], [a2].[Id], [a2].[FirstName], [a2].[LastName], [a2].[UserId], [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId], [s].[Id], [s].[ClassId], [s].[FirstName], [s].[LastName], [s].[UserId]
FROM [AspNetUsers] AS [a]
INNER JOIN [AspNetUserRoles] AS [a0] ON [a].[Id] = [a0].[UserId]
INNER JOIN [AspNetRoles] AS [a1] ON [a0].[RoleId] = [a1].[Id]
LEFT JOIN [Admins] AS [a2] ON [a].[Id] = [a2].[UserId]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[UserId]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[UserId]
ORDER BY [a1].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-25 20:12:54.391 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.PagedUsers'.
2025-05-25 20:12:54.391 +02:00 [INF] Executed action backend.Controllers.UserController.GetUsersPaged (backend) in 68.0283ms
2025-05-25 20:12:54.391 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetUsersPaged (backend)'
2025-05-25 20:12:54.391 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/paged?pageNumber=1&pageSize=10&sortColumn=role&sortDirection=asc&searchQuery= - 200 null application/json; charset=utf-8 69.2838ms
2025-05-25 20:16:44.943 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/roles - null null
2025-05-25 20:16:44.945 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:16:44.945 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/roles - 204 null null 2.6022ms
2025-05-25 20:16:44.946 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/roles - null null
2025-05-25 20:16:44.946 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:16:44.951 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetRoles (backend)'
2025-05-25 20:16:44.952 +02:00 [INF] Route matched with {action = "GetRoles", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRoles() on controller backend.Controllers.UserController (backend).
2025-05-25 20:16:44.976 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE([a].[Name], N'') AS [Name]
FROM [AspNetRoles] AS [a]
2025-05-25 20:16:44.977 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.Models.Role, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 20:16:44.977 +02:00 [INF] Executed action backend.Controllers.UserController.GetRoles (backend) in 25.1782ms
2025-05-25 20:16:44.977 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetRoles (backend)'
2025-05-25 20:16:44.977 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/roles - 200 null application/json; charset=utf-8 31.1907ms
2025-05-25 20:16:46.226 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/roles - null null
2025-05-25 20:16:46.227 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:16:46.227 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetRoles (backend)'
2025-05-25 20:16:46.228 +02:00 [INF] Route matched with {action = "GetRoles", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRoles() on controller backend.Controllers.UserController (backend).
2025-05-25 20:16:46.243 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE([a].[Name], N'') AS [Name]
FROM [AspNetRoles] AS [a]
2025-05-25 20:16:46.245 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.Models.Role, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 20:16:46.245 +02:00 [INF] Executed action backend.Controllers.UserController.GetRoles (backend) in 17.0842ms
2025-05-25 20:16:46.245 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetRoles (backend)'
2025-05-25 20:16:46.245 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/roles - 200 null application/json; charset=utf-8 19.1485ms
2025-05-25 20:16:46.543 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/paged?pageNumber=1&pageSize=10&sortColumn=role&sortDirection=asc&searchQuery= - null null
2025-05-25 20:16:46.543 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:16:46.543 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/paged?pageNumber=1&pageSize=10&sortColumn=role&sortDirection=asc&searchQuery= - 204 null null 0.3392ms
2025-05-25 20:16:46.544 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/paged?pageNumber=1&pageSize=10&sortColumn=role&sortDirection=asc&searchQuery= - null null
2025-05-25 20:16:46.544 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:16:46.544 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetUsersPaged (backend)'
2025-05-25 20:16:46.545 +02:00 [INF] Route matched with {action = "GetUsersPaged", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersPaged(backend.Models.PagedRequest) on controller backend.Controllers.UserController (backend).
2025-05-25 20:16:46.563 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
INNER JOIN [AspNetUserRoles] AS [a0] ON [a].[Id] = [a0].[UserId]
INNER JOIN [AspNetRoles] AS [a1] ON [a0].[RoleId] = [a1].[Id]
LEFT JOIN [Admins] AS [a2] ON [a].[Id] = [a2].[UserId]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[UserId]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[UserId]
2025-05-25 20:16:46.581 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName], [a1].[Name] AS [RoleName], [a2].[Id], [a2].[FirstName], [a2].[LastName], [a2].[UserId], [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId], [s].[Id], [s].[ClassId], [s].[FirstName], [s].[LastName], [s].[UserId]
FROM [AspNetUsers] AS [a]
INNER JOIN [AspNetUserRoles] AS [a0] ON [a].[Id] = [a0].[UserId]
INNER JOIN [AspNetRoles] AS [a1] ON [a0].[RoleId] = [a1].[Id]
LEFT JOIN [Admins] AS [a2] ON [a].[Id] = [a2].[UserId]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[UserId]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[UserId]
ORDER BY [a1].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-25 20:16:46.581 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.PagedUsers'.
2025-05-25 20:16:46.582 +02:00 [INF] Executed action backend.Controllers.UserController.GetUsersPaged (backend) in 36.9826ms
2025-05-25 20:16:46.582 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetUsersPaged (backend)'
2025-05-25 20:16:46.582 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/paged?pageNumber=1&pageSize=10&sortColumn=role&sortDirection=asc&searchQuery= - 200 null application/json; charset=utf-8 38.1063ms
2025-05-25 20:16:47.311 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/roles - null null
2025-05-25 20:16:47.311 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:16:47.313 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetRoles (backend)'
2025-05-25 20:16:47.313 +02:00 [INF] Route matched with {action = "GetRoles", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRoles() on controller backend.Controllers.UserController (backend).
2025-05-25 20:16:47.328 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE([a].[Name], N'') AS [Name]
FROM [AspNetRoles] AS [a]
2025-05-25 20:16:47.328 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.Models.Role, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 20:16:47.329 +02:00 [INF] Executed action backend.Controllers.UserController.GetRoles (backend) in 15.679ms
2025-05-25 20:16:47.329 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetRoles (backend)'
2025-05-25 20:16:47.329 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/roles - 200 null application/json; charset=utf-8 17.7536ms
2025-05-25 20:16:49.764 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/class/paged?pageNumber=1&pageSize=10&sortColumn=name&sortDirection=asc - null null
2025-05-25 20:16:49.764 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:16:49.764 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/class/paged?pageNumber=1&pageSize=10&sortColumn=name&sortDirection=asc - 204 null null 0.3417ms
2025-05-25 20:16:49.766 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/class/paged?pageNumber=1&pageSize=10&sortColumn=name&sortDirection=asc - null null
2025-05-25 20:16:49.766 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:16:49.766 +02:00 [INF] Executing endpoint 'backend.Controllers.ClassController.GetClassesPaged (backend)'
2025-05-25 20:16:49.767 +02:00 [INF] Route matched with {action = "GetClassesPaged", controller = "Class"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClassesPaged(backend.Models.PagedRequest) on controller backend.Controllers.ClassController (backend).
2025-05-25 20:16:49.791 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Classes] AS [c]
2025-05-25 20:16:49.811 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name], [t].[CreatedAt], [t].[UpdatedAt], CASE
    WHEN [t0].[Id] IS NOT NULL THEN COALESCE([t0].[FirstName], N'') + N' ' + COALESCE([t0].[LastName], N'')
    ELSE NULL
END AS [HomeroomTeacherName], (
    SELECT COUNT(*)
    FROM [Students] AS [s]
    WHERE [t].[Id] = [s].[ClassId]) AS [StudentCount]
FROM (
    SELECT [c].[Id], [c].[CreatedAt], [c].[HomeroomTeacherId], [c].[Name], [c].[UpdatedAt]
    FROM [Classes] AS [c]
    ORDER BY [c].[Name]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [Teachers] AS [t0] ON [t].[HomeroomTeacherId] = [t0].[Id]
ORDER BY [t].[Name]
2025-05-25 20:16:49.812 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.PagedClasses'.
2025-05-25 20:16:49.812 +02:00 [INF] Executed action backend.Controllers.ClassController.GetClassesPaged (backend) in 45.3175ms
2025-05-25 20:16:49.812 +02:00 [INF] Executed endpoint 'backend.Controllers.ClassController.GetClassesPaged (backend)'
2025-05-25 20:16:49.812 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/class/paged?pageNumber=1&pageSize=10&sortColumn=name&sortDirection=asc - 200 null application/json; charset=utf-8 46.5485ms
2025-05-25 20:16:52.214 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/student/all - null null
2025-05-25 20:16:52.214 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:16:52.214 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/teacher/all - null null
2025-05-25 20:16:52.215 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:16:52.214 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/student/all - 204 null null 0.4369ms
2025-05-25 20:16:52.215 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/teacher/all - 204 null null 0.2471ms
2025-05-25 20:16:52.216 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/teacher/all - null null
2025-05-25 20:16:52.216 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/student/all - null null
2025-05-25 20:16:52.217 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:16:52.217 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:16:52.217 +02:00 [INF] Executing endpoint 'backend.Controllers.TeacherController.GetTeachers (backend)'
2025-05-25 20:16:52.217 +02:00 [INF] Executing endpoint 'backend.Controllers.StudentController.GetStudents (backend)'
2025-05-25 20:16:52.217 +02:00 [INF] Route matched with {action = "GetTeachers", controller = "Teacher"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTeachers() on controller backend.Controllers.TeacherController (backend).
2025-05-25 20:16:52.217 +02:00 [INF] Route matched with {action = "GetStudents", controller = "Student"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudents() on controller backend.Controllers.StudentController (backend).
2025-05-25 20:16:52.243 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
2025-05-25 20:16:52.243 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.TeacherDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 20:16:52.243 +02:00 [INF] Executed action backend.Controllers.TeacherController.GetTeachers (backend) in 25.9525ms
2025-05-25 20:16:52.243 +02:00 [INF] Executed endpoint 'backend.Controllers.TeacherController.GetTeachers (backend)'
2025-05-25 20:16:52.243 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/teacher/all - 200 null application/json; charset=utf-8 26.9633ms
2025-05-25 20:16:52.258 +02:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[FirstName], [s].[LastName], [c].[Name] AS [ClassName]
FROM [Students] AS [s]
LEFT JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
ORDER BY [s].[LastName], [s].[FirstName]
2025-05-25 20:16:52.259 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.StudentDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 20:16:52.259 +02:00 [INF] Executed action backend.Controllers.StudentController.GetStudents (backend) in 41.4623ms
2025-05-25 20:16:52.259 +02:00 [INF] Executed endpoint 'backend.Controllers.StudentController.GetStudents (backend)'
2025-05-25 20:16:52.259 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/student/all - 200 null application/json; charset=utf-8 42.6764ms
2025-05-25 20:16:55.842 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/roles - null null
2025-05-25 20:16:55.842 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:16:55.842 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/roles - 204 null null 0.5405ms
2025-05-25 20:16:55.843 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/roles - null null
2025-05-25 20:16:55.843 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:16:55.844 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetRoles (backend)'
2025-05-25 20:16:55.844 +02:00 [INF] Route matched with {action = "GetRoles", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRoles() on controller backend.Controllers.UserController (backend).
2025-05-25 20:16:55.882 +02:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE([a].[Name], N'') AS [Name]
FROM [AspNetRoles] AS [a]
2025-05-25 20:16:55.882 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.Models.Role, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 20:16:55.882 +02:00 [INF] Executed action backend.Controllers.UserController.GetRoles (backend) in 38.4192ms
2025-05-25 20:16:55.882 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetRoles (backend)'
2025-05-25 20:16:55.883 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/roles - 200 null application/json; charset=utf-8 39.301ms
2025-05-25 20:16:56.150 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/paged?pageNumber=1&pageSize=10&sortColumn=role&sortDirection=asc&searchQuery= - null null
2025-05-25 20:16:56.151 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:16:56.151 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/paged?pageNumber=1&pageSize=10&sortColumn=role&sortDirection=asc&searchQuery= - 204 null null 0.4834ms
2025-05-25 20:16:56.153 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/paged?pageNumber=1&pageSize=10&sortColumn=role&sortDirection=asc&searchQuery= - null null
2025-05-25 20:16:56.154 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:16:56.154 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetUsersPaged (backend)'
2025-05-25 20:16:56.154 +02:00 [INF] Route matched with {action = "GetUsersPaged", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersPaged(backend.Models.PagedRequest) on controller backend.Controllers.UserController (backend).
2025-05-25 20:16:56.191 +02:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
INNER JOIN [AspNetUserRoles] AS [a0] ON [a].[Id] = [a0].[UserId]
INNER JOIN [AspNetRoles] AS [a1] ON [a0].[RoleId] = [a1].[Id]
LEFT JOIN [Admins] AS [a2] ON [a].[Id] = [a2].[UserId]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[UserId]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[UserId]
2025-05-25 20:16:56.224 +02:00 [INF] Executed DbCommand (32ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName], [a1].[Name] AS [RoleName], [a2].[Id], [a2].[FirstName], [a2].[LastName], [a2].[UserId], [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId], [s].[Id], [s].[ClassId], [s].[FirstName], [s].[LastName], [s].[UserId]
FROM [AspNetUsers] AS [a]
INNER JOIN [AspNetUserRoles] AS [a0] ON [a].[Id] = [a0].[UserId]
INNER JOIN [AspNetRoles] AS [a1] ON [a0].[RoleId] = [a1].[Id]
LEFT JOIN [Admins] AS [a2] ON [a].[Id] = [a2].[UserId]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[UserId]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[UserId]
ORDER BY [a1].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-25 20:16:56.226 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.PagedUsers'.
2025-05-25 20:16:56.226 +02:00 [INF] Executed action backend.Controllers.UserController.GetUsersPaged (backend) in 71.9188ms
2025-05-25 20:16:56.226 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetUsersPaged (backend)'
2025-05-25 20:16:56.226 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/paged?pageNumber=1&pageSize=10&sortColumn=role&sortDirection=asc&searchQuery= - 200 null application/json; charset=utf-8 72.9659ms
2025-05-25 20:16:58.271 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/paged?pageNumber=1&pageSize=10&sortColumn=role&sortDirection=asc&searchQuery=Student - null null
2025-05-25 20:16:58.271 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:16:58.271 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/paged?pageNumber=1&pageSize=10&sortColumn=role&sortDirection=asc&searchQuery=Student - 204 null null 0.5342ms
2025-05-25 20:16:58.272 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/paged?pageNumber=1&pageSize=10&sortColumn=role&sortDirection=asc&searchQuery=Student - null null
2025-05-25 20:16:58.273 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:16:58.273 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetUsersPaged (backend)'
2025-05-25 20:16:58.273 +02:00 [INF] Route matched with {action = "GetUsersPaged", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersPaged(backend.Models.PagedRequest) on controller backend.Controllers.UserController (backend).
2025-05-25 20:16:58.336 +02:00 [INF] Executed DbCommand (41ms) [Parameters=[@__request_SearchQuery_0_contains='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
INNER JOIN [AspNetUserRoles] AS [a0] ON [a].[Id] = [a0].[UserId]
INNER JOIN [AspNetRoles] AS [a1] ON [a0].[RoleId] = [a1].[Id]
LEFT JOIN [Admins] AS [a2] ON [a].[Id] = [a2].[UserId]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[UserId]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[UserId]
WHERE [a1].[Name] LIKE @__request_SearchQuery_0_contains ESCAPE N'\'
2025-05-25 20:16:58.388 +02:00 [INF] Executed DbCommand (38ms) [Parameters=[@__request_SearchQuery_0_contains='?' (Size = 256), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName], [a1].[Name] AS [RoleName], [a2].[Id], [a2].[FirstName], [a2].[LastName], [a2].[UserId], [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId], [s].[Id], [s].[ClassId], [s].[FirstName], [s].[LastName], [s].[UserId]
FROM [AspNetUsers] AS [a]
INNER JOIN [AspNetUserRoles] AS [a0] ON [a].[Id] = [a0].[UserId]
INNER JOIN [AspNetRoles] AS [a1] ON [a0].[RoleId] = [a1].[Id]
LEFT JOIN [Admins] AS [a2] ON [a].[Id] = [a2].[UserId]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[UserId]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[UserId]
WHERE [a1].[Name] LIKE @__request_SearchQuery_0_contains ESCAPE N'\'
ORDER BY [a1].[Name]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-05-25 20:16:58.391 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.PagedUsers'.
2025-05-25 20:16:58.391 +02:00 [INF] Executed action backend.Controllers.UserController.GetUsersPaged (backend) in 117.9652ms
2025-05-25 20:16:58.391 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetUsersPaged (backend)'
2025-05-25 20:16:58.392 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/paged?pageNumber=1&pageSize=10&sortColumn=role&sortDirection=asc&searchQuery=Student - 200 null application/json; charset=utf-8 119.1455ms
2025-05-25 20:17:04.977 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/classes-with-schedule - null null
2025-05-25 20:17:04.978 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:17:04.978 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/classes-with-schedule - 204 null null 0.363ms
2025-05-25 20:17:04.979 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/classes-with-schedule - null null
2025-05-25 20:17:04.979 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:17:04.980 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetClassesWithSchedule (backend)'
2025-05-25 20:17:04.980 +02:00 [INF] Route matched with {action = "GetClassesWithSchedule", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClassesWithSchedule() on controller backend.Controllers.ScheduleController (backend).
2025-05-25 20:17:05.019 +02:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], (
    SELECT COUNT(*)
    FROM [Schedules] AS [s]
    WHERE [c].[Id] = [s].[ClassId]) AS [EntryCount]
FROM [Classes] AS [c]
ORDER BY [c].[Name]
2025-05-25 20:17:05.019 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.ClassWithScheduleDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 20:17:05.020 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetClassesWithSchedule (backend) in 39.7004ms
2025-05-25 20:17:05.020 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetClassesWithSchedule (backend)'
2025-05-25 20:17:05.020 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/classes-with-schedule - 200 null application/json; charset=utf-8 41.3423ms
2025-05-25 20:25:20.729 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/roles - null null
2025-05-25 20:25:20.732 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:25:20.732 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/roles - 204 null null 3.6223ms
2025-05-25 20:25:20.733 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/roles - null null
2025-05-25 20:25:20.734 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:25:20.743 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetRoles (backend)'
2025-05-25 20:25:20.745 +02:00 [INF] Route matched with {action = "GetRoles", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRoles() on controller backend.Controllers.UserController (backend).
2025-05-25 20:25:20.856 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE([a].[Name], N'') AS [Name]
FROM [AspNetRoles] AS [a]
2025-05-25 20:25:20.857 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.Models.Role, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 20:25:20.857 +02:00 [INF] Executed action backend.Controllers.UserController.GetRoles (backend) in 112.3898ms
2025-05-25 20:25:20.857 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetRoles (backend)'
2025-05-25 20:25:20.857 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/roles - 200 null application/json; charset=utf-8 123.9944ms
2025-05-25 20:25:21.023 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/paged?pageNumber=1&pageSize=10&sortColumn=role&sortDirection=asc&searchQuery= - null null
2025-05-25 20:25:21.024 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:25:21.024 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/paged?pageNumber=1&pageSize=10&sortColumn=role&sortDirection=asc&searchQuery= - 204 null null 0.2689ms
2025-05-25 20:25:21.024 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/paged?pageNumber=1&pageSize=10&sortColumn=role&sortDirection=asc&searchQuery= - null null
2025-05-25 20:25:21.024 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:25:21.025 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetUsersPaged (backend)'
2025-05-25 20:25:21.025 +02:00 [INF] Route matched with {action = "GetUsersPaged", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersPaged(backend.Models.PagedRequest) on controller backend.Controllers.UserController (backend).
2025-05-25 20:25:21.043 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
INNER JOIN [AspNetUserRoles] AS [a0] ON [a].[Id] = [a0].[UserId]
INNER JOIN [AspNetRoles] AS [a1] ON [a0].[RoleId] = [a1].[Id]
LEFT JOIN [Admins] AS [a2] ON [a].[Id] = [a2].[UserId]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[UserId]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[UserId]
2025-05-25 20:25:21.061 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName], [a1].[Name] AS [RoleName], [a2].[Id], [a2].[FirstName], [a2].[LastName], [a2].[UserId], [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId], [s].[Id], [s].[ClassId], [s].[FirstName], [s].[LastName], [s].[UserId]
FROM [AspNetUsers] AS [a]
INNER JOIN [AspNetUserRoles] AS [a0] ON [a].[Id] = [a0].[UserId]
INNER JOIN [AspNetRoles] AS [a1] ON [a0].[RoleId] = [a1].[Id]
LEFT JOIN [Admins] AS [a2] ON [a].[Id] = [a2].[UserId]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[UserId]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[UserId]
ORDER BY [a1].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-25 20:25:21.062 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.PagedUsers'.
2025-05-25 20:25:21.062 +02:00 [INF] Executed action backend.Controllers.UserController.GetUsersPaged (backend) in 36.7517ms
2025-05-25 20:25:21.062 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetUsersPaged (backend)'
2025-05-25 20:25:21.062 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/paged?pageNumber=1&pageSize=10&sortColumn=role&sortDirection=asc&searchQuery= - 200 null application/json; charset=utf-8 37.6157ms
2025-05-25 20:26:34.114 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/classes-with-schedule - null null
2025-05-25 20:26:34.115 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:26:34.115 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/classes-with-schedule - 204 null null 1.3292ms
2025-05-25 20:26:34.117 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/classes-with-schedule - null null
2025-05-25 20:26:34.118 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:26:34.119 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetClassesWithSchedule (backend)'
2025-05-25 20:26:34.119 +02:00 [INF] Route matched with {action = "GetClassesWithSchedule", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClassesWithSchedule() on controller backend.Controllers.ScheduleController (backend).
2025-05-25 20:26:34.137 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], (
    SELECT COUNT(*)
    FROM [Schedules] AS [s]
    WHERE [c].[Id] = [s].[ClassId]) AS [EntryCount]
FROM [Classes] AS [c]
ORDER BY [c].[Name]
2025-05-25 20:26:34.137 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.ClassWithScheduleDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 20:26:34.138 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetClassesWithSchedule (backend) in 19.1141ms
2025-05-25 20:26:34.138 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetClassesWithSchedule (backend)'
2025-05-25 20:26:34.138 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/classes-with-schedule - 200 null application/json; charset=utf-8 21.0775ms
2025-05-25 20:26:36.150 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4 - null null
2025-05-25 20:26:36.150 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:26:36.150 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4 - 204 null null 0.4335ms
2025-05-25 20:26:36.151 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4/subjects - null null
2025-05-25 20:26:36.151 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:26:36.151 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4/subjects - 204 null null 0.2184ms
2025-05-25 20:26:36.151 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/class/4 - null null
2025-05-25 20:26:36.152 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/class/4/subjects - null null
2025-05-25 20:26:36.152 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:26:36.152 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:26:36.153 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetScheduleForClass (backend)'
2025-05-25 20:26:36.153 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetSubjectsForClass (backend)'
2025-05-25 20:26:36.153 +02:00 [INF] Route matched with {action = "GetSubjectsForClass", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubjectsForClass(Int32) on controller backend.Controllers.ScheduleController (backend).
2025-05-25 20:26:36.153 +02:00 [INF] Route matched with {action = "GetScheduleForClass", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetScheduleForClass(Int32) on controller backend.Controllers.ScheduleController (backend).
2025-05-25 20:26:36.175 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[CreatedAt], [s].[Name], [s].[UpdatedAt], [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [ClassSubjects] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Teachers] AS [t] ON [c].[TeacherId] = [t].[Id]
WHERE [c].[ClassId] = @__classId_0
2025-05-25 20:26:36.177 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.SubjectWithTeachersDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 20:26:36.177 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetSubjectsForClass (backend) in 23.5259ms
2025-05-25 20:26:36.177 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetSubjectsForClass (backend)'
2025-05-25 20:26:36.177 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/class/4/subjects - 200 null application/json; charset=utf-8 24.7654ms
2025-05-25 20:26:36.268 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[HomeroomTeacherId], [t].[Name], [t].[UpdatedAt], [t0].[Id], [t0].[ClassId], [t0].[CreatedAt], [t0].[DayOfWeek], [t0].[StartTime], [t0].[SubjectId], [t0].[TeacherId], [t0].[UpdatedAt], [t0].[Id0], [t0].[CreatedAt0], [t0].[Name], [t0].[UpdatedAt0], [t0].[Id1], [t0].[FirstName], [t0].[LastName], [t0].[UserId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[CreatedAt], [c].[HomeroomTeacherId], [c].[Name], [c].[UpdatedAt]
    FROM [Classes] AS [c]
    WHERE [c].[Id] = @__classId_0
) AS [t]
LEFT JOIN (
    SELECT [s].[Id], [s].[ClassId], [s].[CreatedAt], [s].[DayOfWeek], [s].[StartTime], [s].[SubjectId], [s].[TeacherId], [s].[UpdatedAt], [s0].[Id] AS [Id0], [s0].[CreatedAt] AS [CreatedAt0], [s0].[Name], [s0].[UpdatedAt] AS [UpdatedAt0], [t1].[Id] AS [Id1], [t1].[FirstName], [t1].[LastName], [t1].[UserId]
    FROM [Schedules] AS [s]
    INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
    INNER JOIN [Teachers] AS [t1] ON [s].[TeacherId] = [t1].[Id]
) AS [t0] ON [t].[Id] = [t0].[ClassId]
ORDER BY [t].[Id], [t0].[Id], [t0].[Id0]
2025-05-25 20:26:36.269 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.ScheduleForClassDto'.
2025-05-25 20:26:36.270 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetScheduleForClass (backend) in 116.3357ms
2025-05-25 20:26:36.270 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetScheduleForClass (backend)'
2025-05-25 20:26:36.270 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/class/4 - 200 null application/json; charset=utf-8 118.8854ms
2025-05-25 20:27:33.322 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-25 20:27:33.323 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:27:33.323 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 1.4235ms
2025-05-25 20:27:33.324 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-25 20:27:33.325 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:27:33.326 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 20:27:33.328 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-25 20:27:33.348 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4 - null null
2025-05-25 20:27:33.348 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:27:33.348 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4 - 204 null null 0.489ms
2025-05-25 20:27:33.350 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/class/4 - null null
2025-05-25 20:27:33.350 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4/subjects - null null
2025-05-25 20:27:33.350 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:27:33.350 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-25 20:27:33.350 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4/subjects - 204 null null 0.3131ms
2025-05-25 20:27:33.350 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:27:33.351 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetScheduleForClass (backend)'
2025-05-25 20:27:33.351 +02:00 [INF] Route matched with {action = "GetScheduleForClass", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetScheduleForClass(Int32) on controller backend.Controllers.ScheduleController (backend).
2025-05-25 20:27:33.353 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/class/4/subjects - null null
2025-05-25 20:27:33.353 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:27:33.354 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetSubjectsForClass (backend)'
2025-05-25 20:27:33.355 +02:00 [INF] Route matched with {action = "GetSubjectsForClass", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubjectsForClass(Int32) on controller backend.Controllers.ScheduleController (backend).
2025-05-25 20:27:33.373 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-25 20:27:33.374 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[HomeroomTeacherId], [t].[Name], [t].[UpdatedAt], [t0].[Id], [t0].[ClassId], [t0].[CreatedAt], [t0].[DayOfWeek], [t0].[StartTime], [t0].[SubjectId], [t0].[TeacherId], [t0].[UpdatedAt], [t0].[Id0], [t0].[CreatedAt0], [t0].[Name], [t0].[UpdatedAt0], [t0].[Id1], [t0].[FirstName], [t0].[LastName], [t0].[UserId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[CreatedAt], [c].[HomeroomTeacherId], [c].[Name], [c].[UpdatedAt]
    FROM [Classes] AS [c]
    WHERE [c].[Id] = @__classId_0
) AS [t]
LEFT JOIN (
    SELECT [s].[Id], [s].[ClassId], [s].[CreatedAt], [s].[DayOfWeek], [s].[StartTime], [s].[SubjectId], [s].[TeacherId], [s].[UpdatedAt], [s0].[Id] AS [Id0], [s0].[CreatedAt] AS [CreatedAt0], [s0].[Name], [s0].[UpdatedAt] AS [UpdatedAt0], [t1].[Id] AS [Id1], [t1].[FirstName], [t1].[LastName], [t1].[UserId]
    FROM [Schedules] AS [s]
    INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
    INNER JOIN [Teachers] AS [t1] ON [s].[TeacherId] = [t1].[Id]
) AS [t0] ON [t].[Id] = [t0].[ClassId]
ORDER BY [t].[Id], [t0].[Id], [t0].[Id0]
2025-05-25 20:27:33.377 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.ScheduleForClassDto'.
2025-05-25 20:27:33.378 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetScheduleForClass (backend) in 24.8763ms
2025-05-25 20:27:33.378 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetScheduleForClass (backend)'
2025-05-25 20:27:33.378 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/class/4 - 200 null application/json; charset=utf-8 28.8497ms
2025-05-25 20:27:33.390 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[FirstName], [a].[LastName], [a].[UserId]
FROM [Admins] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-05-25 20:27:33.391 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-25 20:27:33.394 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 65.6453ms
2025-05-25 20:27:33.394 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 20:27:33.394 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 70.3206ms
2025-05-25 20:27:33.458 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[CreatedAt], [s].[Name], [s].[UpdatedAt], [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [ClassSubjects] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Teachers] AS [t] ON [c].[TeacherId] = [t].[Id]
WHERE [c].[ClassId] = @__classId_0
2025-05-25 20:27:33.458 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.SubjectWithTeachersDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 20:27:33.458 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetSubjectsForClass (backend) in 102.7889ms
2025-05-25 20:27:33.458 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetSubjectsForClass (backend)'
2025-05-25 20:27:33.458 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/class/4/subjects - 200 null application/json; charset=utf-8 105.2722ms
2025-05-25 20:29:05.047 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/add-entry - null null
2025-05-25 20:29:05.049 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:29:05.050 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/add-entry - 204 null null 2.9751ms
2025-05-25 20:29:05.051 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5234/api/schedule/add-entry - application/json 87
2025-05-25 20:29:05.052 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:29:05.060 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.AddEntry (backend)'
2025-05-25 20:29:05.101 +02:00 [INF] Route matched with {action = "AddEntry", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddEntry(backend.DTOs.ScheduleEntryDto) on controller backend.Controllers.ScheduleController (backend).
2025-05-25 20:29:05.168 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CreatedAt], [c].[HomeroomTeacherId], [c].[Name], [c].[UpdatedAt]
FROM [Classes] AS [c]
WHERE [c].[Id] = @__p_0
2025-05-25 20:29:05.189 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[CreatedAt], [s].[Name], [s].[UpdatedAt]
FROM [Subjects] AS [s]
WHERE [s].[Id] = @__p_0
2025-05-25 20:29:05.206 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[Id] = @__p_0
2025-05-25 20:29:05.231 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__dto_ClassId_0='?' (DbType = Int32), @__dto_DayOfWeek_1='?' (DbType = Int32), @__dto_StartTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Schedules] AS [s]
        WHERE [s].[ClassId] = @__dto_ClassId_0 AND [s].[DayOfWeek] = @__dto_DayOfWeek_1 AND [s].[StartTime] = @__dto_StartTime_2) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-05-25 20:29:05.266 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Time), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Schedules] ([ClassId], [CreatedAt], [DayOfWeek], [StartTime], [SubjectId], [TeacherId], [UpdatedAt])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-05-25 20:29:05.268 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.ScheduleEntryDto'.
2025-05-25 20:29:05.268 +02:00 [INF] Executed action backend.Controllers.ScheduleController.AddEntry (backend) in 166.4307ms
2025-05-25 20:29:05.268 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.AddEntry (backend)'
2025-05-25 20:29:05.268 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5234/api/schedule/add-entry - 200 null application/json; charset=utf-8 217.2025ms
2025-05-25 20:30:12.565 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-25 20:30:12.568 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:30:12.589 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 15.1272ms
2025-05-25 20:30:12.590 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-25 20:30:12.591 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4/subjects - null null
2025-05-25 20:30:12.591 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:30:12.592 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4/subjects - 204 null null 0.269ms
2025-05-25 20:30:12.592 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4 - null null
2025-05-25 20:30:12.597 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:30:12.597 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:30:12.597 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4 - 204 null null 5.1376ms
2025-05-25 20:30:12.598 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/class/4/subjects - null null
2025-05-25 20:30:12.598 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:30:12.599 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/class/4 - null null
2025-05-25 20:30:12.599 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:30:12.599 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 20:30:12.599 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetSubjectsForClass (backend)'
2025-05-25 20:30:12.600 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetScheduleForClass (backend)'
2025-05-25 20:30:12.600 +02:00 [INF] Route matched with {action = "GetSubjectsForClass", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubjectsForClass(Int32) on controller backend.Controllers.ScheduleController (backend).
2025-05-25 20:30:12.600 +02:00 [INF] Route matched with {action = "GetScheduleForClass", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetScheduleForClass(Int32) on controller backend.Controllers.ScheduleController (backend).
2025-05-25 20:30:12.600 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-25 20:30:12.635 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-25 20:30:12.635 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[CreatedAt], [s].[Name], [s].[UpdatedAt], [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [ClassSubjects] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Teachers] AS [t] ON [c].[TeacherId] = [t].[Id]
WHERE [c].[ClassId] = @__classId_0
2025-05-25 20:30:12.635 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[HomeroomTeacherId], [t].[Name], [t].[UpdatedAt], [t0].[Id], [t0].[ClassId], [t0].[CreatedAt], [t0].[DayOfWeek], [t0].[StartTime], [t0].[SubjectId], [t0].[TeacherId], [t0].[UpdatedAt], [t0].[Id0], [t0].[CreatedAt0], [t0].[Name], [t0].[UpdatedAt0], [t0].[Id1], [t0].[FirstName], [t0].[LastName], [t0].[UserId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[CreatedAt], [c].[HomeroomTeacherId], [c].[Name], [c].[UpdatedAt]
    FROM [Classes] AS [c]
    WHERE [c].[Id] = @__classId_0
) AS [t]
LEFT JOIN (
    SELECT [s].[Id], [s].[ClassId], [s].[CreatedAt], [s].[DayOfWeek], [s].[StartTime], [s].[SubjectId], [s].[TeacherId], [s].[UpdatedAt], [s0].[Id] AS [Id0], [s0].[CreatedAt] AS [CreatedAt0], [s0].[Name], [s0].[UpdatedAt] AS [UpdatedAt0], [t1].[Id] AS [Id1], [t1].[FirstName], [t1].[LastName], [t1].[UserId]
    FROM [Schedules] AS [s]
    INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
    INNER JOIN [Teachers] AS [t1] ON [s].[TeacherId] = [t1].[Id]
) AS [t0] ON [t].[Id] = [t0].[ClassId]
ORDER BY [t].[Id], [t0].[Id], [t0].[Id0]
2025-05-25 20:30:12.656 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.SubjectWithTeachersDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 20:30:12.659 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetSubjectsForClass (backend) in 59.4644ms
2025-05-25 20:30:12.660 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetSubjectsForClass (backend)'
2025-05-25 20:30:12.660 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/class/4/subjects - 200 null application/json; charset=utf-8 62.3205ms
2025-05-25 20:30:12.659 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.ScheduleForClassDto'.
2025-05-25 20:30:12.664 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetScheduleForClass (backend) in 64.4725ms
2025-05-25 20:30:12.664 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetScheduleForClass (backend)'
2025-05-25 20:30:12.665 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/class/4 - 200 null application/json; charset=utf-8 65.4679ms
2025-05-25 20:30:12.667 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-25 20:30:12.683 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[FirstName], [a].[LastName], [a].[UserId]
FROM [Admins] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-05-25 20:30:12.684 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-25 20:30:12.685 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 85.3401ms
2025-05-25 20:30:12.686 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 20:30:12.686 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 95.9824ms
2025-05-25 20:30:24.355 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-25 20:30:24.360 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:30:24.361 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 6.9026ms
2025-05-25 20:30:24.365 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4 - null null
2025-05-25 20:30:24.365 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-25 20:30:24.365 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4/subjects - null null
2025-05-25 20:30:24.391 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:30:24.393 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4 - 204 null null 28.427ms
2025-05-25 20:30:24.393 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:30:24.393 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4/subjects - 204 null null 28.3493ms
2025-05-25 20:30:24.394 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:30:24.395 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 20:30:24.396 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-25 20:30:24.396 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/class/4 - null null
2025-05-25 20:30:24.396 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:30:24.396 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetScheduleForClass (backend)'
2025-05-25 20:30:24.396 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/class/4/subjects - null null
2025-05-25 20:30:24.396 +02:00 [INF] Route matched with {action = "GetScheduleForClass", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetScheduleForClass(Int32) on controller backend.Controllers.ScheduleController (backend).
2025-05-25 20:30:24.396 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:30:24.397 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetSubjectsForClass (backend)'
2025-05-25 20:30:24.397 +02:00 [INF] Route matched with {action = "GetSubjectsForClass", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubjectsForClass(Int32) on controller backend.Controllers.ScheduleController (backend).
2025-05-25 20:30:24.448 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[CreatedAt], [s].[Name], [s].[UpdatedAt], [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [ClassSubjects] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Teachers] AS [t] ON [c].[TeacherId] = [t].[Id]
WHERE [c].[ClassId] = @__classId_0
2025-05-25 20:30:24.448 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[HomeroomTeacherId], [t].[Name], [t].[UpdatedAt], [t0].[Id], [t0].[ClassId], [t0].[CreatedAt], [t0].[DayOfWeek], [t0].[StartTime], [t0].[SubjectId], [t0].[TeacherId], [t0].[UpdatedAt], [t0].[Id0], [t0].[CreatedAt0], [t0].[Name], [t0].[UpdatedAt0], [t0].[Id1], [t0].[FirstName], [t0].[LastName], [t0].[UserId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[CreatedAt], [c].[HomeroomTeacherId], [c].[Name], [c].[UpdatedAt]
    FROM [Classes] AS [c]
    WHERE [c].[Id] = @__classId_0
) AS [t]
LEFT JOIN (
    SELECT [s].[Id], [s].[ClassId], [s].[CreatedAt], [s].[DayOfWeek], [s].[StartTime], [s].[SubjectId], [s].[TeacherId], [s].[UpdatedAt], [s0].[Id] AS [Id0], [s0].[CreatedAt] AS [CreatedAt0], [s0].[Name], [s0].[UpdatedAt] AS [UpdatedAt0], [t1].[Id] AS [Id1], [t1].[FirstName], [t1].[LastName], [t1].[UserId]
    FROM [Schedules] AS [s]
    INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
    INNER JOIN [Teachers] AS [t1] ON [s].[TeacherId] = [t1].[Id]
) AS [t0] ON [t].[Id] = [t0].[ClassId]
ORDER BY [t].[Id], [t0].[Id], [t0].[Id0]
2025-05-25 20:30:24.448 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-25 20:30:24.457 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.SubjectWithTeachersDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 20:30:24.457 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.ScheduleForClassDto'.
2025-05-25 20:30:24.458 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetSubjectsForClass (backend) in 61.0733ms
2025-05-25 20:30:24.458 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetSubjectsForClass (backend)'
2025-05-25 20:30:24.458 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetScheduleForClass (backend) in 61.6756ms
2025-05-25 20:30:24.458 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetScheduleForClass (backend)'
2025-05-25 20:30:24.458 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/class/4 - 200 null application/json; charset=utf-8 62.5765ms
2025-05-25 20:30:24.458 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/class/4/subjects - 200 null application/json; charset=utf-8 61.8828ms
2025-05-25 20:30:24.479 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-25 20:30:24.495 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[FirstName], [a].[LastName], [a].[UserId]
FROM [Admins] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-05-25 20:30:24.495 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-25 20:30:24.495 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 99.5323ms
2025-05-25 20:30:24.495 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 20:30:24.496 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 130.7526ms
2025-05-25 20:32:17.979 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-25 20:32:17.980 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:32:17.980 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 1.9332ms
2025-05-25 20:32:17.982 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-25 20:32:17.982 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:32:17.983 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 20:32:17.983 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-25 20:32:18.030 +02:00 [INF] Executed DbCommand (38ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-25 20:32:18.041 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4 - null null
2025-05-25 20:32:18.041 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:32:18.041 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4 - 204 null null 0.9635ms
2025-05-25 20:32:18.081 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4/subjects - null null
2025-05-25 20:32:18.088 +02:00 [INF] Executed DbCommand (48ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-25 20:32:18.081 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/class/4 - null null
2025-05-25 20:32:18.107 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:32:18.107 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4/subjects - 204 null null 26.2255ms
2025-05-25 20:32:18.108 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/class/4/subjects - null null
2025-05-25 20:32:18.118 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:32:18.122 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:32:18.136 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetSubjectsForClass (backend)'
2025-05-25 20:32:18.140 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetScheduleForClass (backend)'
2025-05-25 20:32:18.141 +02:00 [INF] Route matched with {action = "GetSubjectsForClass", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubjectsForClass(Int32) on controller backend.Controllers.ScheduleController (backend).
2025-05-25 20:32:18.141 +02:00 [INF] Route matched with {action = "GetScheduleForClass", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetScheduleForClass(Int32) on controller backend.Controllers.ScheduleController (backend).
2025-05-25 20:32:18.172 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[FirstName], [a].[LastName], [a].[UserId]
FROM [Admins] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-05-25 20:32:18.173 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-25 20:32:18.174 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 190.1309ms
2025-05-25 20:32:18.174 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 20:32:18.174 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 192.279ms
2025-05-25 20:32:18.180 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[CreatedAt], [s].[Name], [s].[UpdatedAt], [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [ClassSubjects] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Teachers] AS [t] ON [c].[TeacherId] = [t].[Id]
WHERE [c].[ClassId] = @__classId_0
2025-05-25 20:32:18.194 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[HomeroomTeacherId], [t].[Name], [t].[UpdatedAt], [t0].[Id], [t0].[ClassId], [t0].[CreatedAt], [t0].[DayOfWeek], [t0].[StartTime], [t0].[SubjectId], [t0].[TeacherId], [t0].[UpdatedAt], [t0].[Id0], [t0].[CreatedAt0], [t0].[Name], [t0].[UpdatedAt0], [t0].[Id1], [t0].[FirstName], [t0].[LastName], [t0].[UserId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[CreatedAt], [c].[HomeroomTeacherId], [c].[Name], [c].[UpdatedAt]
    FROM [Classes] AS [c]
    WHERE [c].[Id] = @__classId_0
) AS [t]
LEFT JOIN (
    SELECT [s].[Id], [s].[ClassId], [s].[CreatedAt], [s].[DayOfWeek], [s].[StartTime], [s].[SubjectId], [s].[TeacherId], [s].[UpdatedAt], [s0].[Id] AS [Id0], [s0].[CreatedAt] AS [CreatedAt0], [s0].[Name], [s0].[UpdatedAt] AS [UpdatedAt0], [t1].[Id] AS [Id1], [t1].[FirstName], [t1].[LastName], [t1].[UserId]
    FROM [Schedules] AS [s]
    INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
    INNER JOIN [Teachers] AS [t1] ON [s].[TeacherId] = [t1].[Id]
) AS [t0] ON [t].[Id] = [t0].[ClassId]
ORDER BY [t].[Id], [t0].[Id], [t0].[Id0]
2025-05-25 20:32:18.197 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.SubjectWithTeachersDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 20:32:18.197 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetSubjectsForClass (backend) in 56.4691ms
2025-05-25 20:32:18.197 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetSubjectsForClass (backend)'
2025-05-25 20:32:18.197 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/class/4/subjects - 200 null application/json; charset=utf-8 88.7803ms
2025-05-25 20:32:18.198 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.ScheduleForClassDto'.
2025-05-25 20:32:18.198 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetScheduleForClass (backend) in 55.9394ms
2025-05-25 20:32:18.198 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetScheduleForClass (backend)'
2025-05-25 20:32:18.198 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/class/4 - 200 null application/json; charset=utf-8 117.7919ms
2025-05-25 20:36:01.151 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/add-entry - null null
2025-05-25 20:36:01.153 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:36:01.154 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/add-entry - 204 null null 3.3188ms
2025-05-25 20:36:01.156 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5234/api/schedule/add-entry - application/json 87
2025-05-25 20:36:01.157 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:36:01.160 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.AddEntry (backend)'
2025-05-25 20:36:01.161 +02:00 [INF] Route matched with {action = "AddEntry", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddEntry(backend.DTOs.ScheduleEntryDto) on controller backend.Controllers.ScheduleController (backend).
2025-05-25 20:36:01.195 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CreatedAt], [c].[HomeroomTeacherId], [c].[Name], [c].[UpdatedAt]
FROM [Classes] AS [c]
WHERE [c].[Id] = @__p_0
2025-05-25 20:36:01.211 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[CreatedAt], [s].[Name], [s].[UpdatedAt]
FROM [Subjects] AS [s]
WHERE [s].[Id] = @__p_0
2025-05-25 20:36:01.226 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[Id] = @__p_0
2025-05-25 20:36:01.241 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__dto_ClassId_0='?' (DbType = Int32), @__dto_DayOfWeek_1='?' (DbType = Int32), @__dto_StartTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Schedules] AS [s]
        WHERE [s].[ClassId] = @__dto_ClassId_0 AND [s].[DayOfWeek] = @__dto_DayOfWeek_1 AND [s].[StartTime] = @__dto_StartTime_2) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-05-25 20:36:01.260 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Time), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Schedules] ([ClassId], [CreatedAt], [DayOfWeek], [StartTime], [SubjectId], [TeacherId], [UpdatedAt])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-05-25 20:36:01.264 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.ScheduleEntryDto'.
2025-05-25 20:36:01.265 +02:00 [INF] Executed action backend.Controllers.ScheduleController.AddEntry (backend) in 103.0372ms
2025-05-25 20:36:01.265 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.AddEntry (backend)'
2025-05-25 20:36:01.265 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5234/api/schedule/add-entry - 200 null application/json; charset=utf-8 108.8201ms
2025-05-25 20:36:31.443 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-25 20:36:31.445 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:36:31.451 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 8.5989ms
2025-05-25 20:36:31.454 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-25 20:36:31.455 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:36:31.455 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 20:36:31.456 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-25 20:36:31.462 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4 - null null
2025-05-25 20:36:31.462 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:36:31.462 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4 - 204 null null 0.3896ms
2025-05-25 20:36:31.462 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4/subjects - null null
2025-05-25 20:36:31.463 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:36:31.463 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4/subjects - 204 null null 0.66ms
2025-05-25 20:36:31.467 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/class/4 - null null
2025-05-25 20:36:31.467 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/class/4/subjects - null null
2025-05-25 20:36:31.468 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:36:31.468 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetSubjectsForClass (backend)'
2025-05-25 20:36:31.468 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:36:31.469 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetScheduleForClass (backend)'
2025-05-25 20:36:31.469 +02:00 [INF] Route matched with {action = "GetScheduleForClass", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetScheduleForClass(Int32) on controller backend.Controllers.ScheduleController (backend).
2025-05-25 20:36:31.469 +02:00 [INF] Route matched with {action = "GetSubjectsForClass", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubjectsForClass(Int32) on controller backend.Controllers.ScheduleController (backend).
2025-05-25 20:36:31.481 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-25 20:36:31.498 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[HomeroomTeacherId], [t].[Name], [t].[UpdatedAt], [t0].[Id], [t0].[ClassId], [t0].[CreatedAt], [t0].[DayOfWeek], [t0].[StartTime], [t0].[SubjectId], [t0].[TeacherId], [t0].[UpdatedAt], [t0].[Id0], [t0].[CreatedAt0], [t0].[Name], [t0].[UpdatedAt0], [t0].[Id1], [t0].[FirstName], [t0].[LastName], [t0].[UserId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[CreatedAt], [c].[HomeroomTeacherId], [c].[Name], [c].[UpdatedAt]
    FROM [Classes] AS [c]
    WHERE [c].[Id] = @__classId_0
) AS [t]
LEFT JOIN (
    SELECT [s].[Id], [s].[ClassId], [s].[CreatedAt], [s].[DayOfWeek], [s].[StartTime], [s].[SubjectId], [s].[TeacherId], [s].[UpdatedAt], [s0].[Id] AS [Id0], [s0].[CreatedAt] AS [CreatedAt0], [s0].[Name], [s0].[UpdatedAt] AS [UpdatedAt0], [t1].[Id] AS [Id1], [t1].[FirstName], [t1].[LastName], [t1].[UserId]
    FROM [Schedules] AS [s]
    INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
    INNER JOIN [Teachers] AS [t1] ON [s].[TeacherId] = [t1].[Id]
) AS [t0] ON [t].[Id] = [t0].[ClassId]
ORDER BY [t].[Id], [t0].[Id], [t0].[Id0]
2025-05-25 20:36:31.498 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[CreatedAt], [s].[Name], [s].[UpdatedAt], [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [ClassSubjects] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Teachers] AS [t] ON [c].[TeacherId] = [t].[Id]
WHERE [c].[ClassId] = @__classId_0
2025-05-25 20:36:31.500 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-25 20:36:31.502 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.ScheduleForClassDto'.
2025-05-25 20:36:31.515 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetScheduleForClass (backend) in 45.0807ms
2025-05-25 20:36:31.515 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetScheduleForClass (backend)'
2025-05-25 20:36:31.516 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/class/4 - 200 null application/json; charset=utf-8 48.415ms
2025-05-25 20:36:31.518 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[FirstName], [a].[LastName], [a].[UserId]
FROM [Admins] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-05-25 20:36:31.519 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-25 20:36:31.519 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 63.4466ms
2025-05-25 20:36:31.519 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 20:36:31.521 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.SubjectWithTeachersDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 20:36:31.521 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 66.7415ms
2025-05-25 20:36:31.522 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetSubjectsForClass (backend) in 52.4245ms
2025-05-25 20:36:31.522 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetSubjectsForClass (backend)'
2025-05-25 20:36:31.522 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/class/4/subjects - 200 null application/json; charset=utf-8 54.8835ms
2025-05-25 20:36:46.060 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/add-entry - null null
2025-05-25 20:36:46.061 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:36:46.061 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/add-entry - 204 null null 1.121ms
2025-05-25 20:36:46.064 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5234/api/schedule/add-entry - application/json 87
2025-05-25 20:36:46.065 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:36:46.065 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.AddEntry (backend)'
2025-05-25 20:36:46.065 +02:00 [INF] Route matched with {action = "AddEntry", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddEntry(backend.DTOs.ScheduleEntryDto) on controller backend.Controllers.ScheduleController (backend).
2025-05-25 20:36:46.085 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CreatedAt], [c].[HomeroomTeacherId], [c].[Name], [c].[UpdatedAt]
FROM [Classes] AS [c]
WHERE [c].[Id] = @__p_0
2025-05-25 20:36:46.100 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[CreatedAt], [s].[Name], [s].[UpdatedAt]
FROM [Subjects] AS [s]
WHERE [s].[Id] = @__p_0
2025-05-25 20:36:46.115 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[Id] = @__p_0
2025-05-25 20:36:46.130 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__dto_ClassId_0='?' (DbType = Int32), @__dto_DayOfWeek_1='?' (DbType = Int32), @__dto_StartTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Schedules] AS [s]
        WHERE [s].[ClassId] = @__dto_ClassId_0 AND [s].[DayOfWeek] = @__dto_DayOfWeek_1 AND [s].[StartTime] = @__dto_StartTime_2) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-05-25 20:36:46.149 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Time), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Schedules] ([ClassId], [CreatedAt], [DayOfWeek], [StartTime], [SubjectId], [TeacherId], [UpdatedAt])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-05-25 20:36:46.150 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.ScheduleEntryDto'.
2025-05-25 20:36:46.150 +02:00 [INF] Executed action backend.Controllers.ScheduleController.AddEntry (backend) in 84.6852ms
2025-05-25 20:36:46.150 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.AddEntry (backend)'
2025-05-25 20:36:46.150 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5234/api/schedule/add-entry - 200 null application/json; charset=utf-8 85.935ms
2025-05-25 20:36:46.162 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4 - null null
2025-05-25 20:36:46.163 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:36:46.163 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4 - 204 null null 0.7216ms
2025-05-25 20:36:46.164 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/class/4 - null null
2025-05-25 20:36:46.164 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:36:46.164 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetScheduleForClass (backend)'
2025-05-25 20:36:46.165 +02:00 [INF] Route matched with {action = "GetScheduleForClass", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetScheduleForClass(Int32) on controller backend.Controllers.ScheduleController (backend).
2025-05-25 20:36:46.182 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[HomeroomTeacherId], [t].[Name], [t].[UpdatedAt], [t0].[Id], [t0].[ClassId], [t0].[CreatedAt], [t0].[DayOfWeek], [t0].[StartTime], [t0].[SubjectId], [t0].[TeacherId], [t0].[UpdatedAt], [t0].[Id0], [t0].[CreatedAt0], [t0].[Name], [t0].[UpdatedAt0], [t0].[Id1], [t0].[FirstName], [t0].[LastName], [t0].[UserId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[CreatedAt], [c].[HomeroomTeacherId], [c].[Name], [c].[UpdatedAt]
    FROM [Classes] AS [c]
    WHERE [c].[Id] = @__classId_0
) AS [t]
LEFT JOIN (
    SELECT [s].[Id], [s].[ClassId], [s].[CreatedAt], [s].[DayOfWeek], [s].[StartTime], [s].[SubjectId], [s].[TeacherId], [s].[UpdatedAt], [s0].[Id] AS [Id0], [s0].[CreatedAt] AS [CreatedAt0], [s0].[Name], [s0].[UpdatedAt] AS [UpdatedAt0], [t1].[Id] AS [Id1], [t1].[FirstName], [t1].[LastName], [t1].[UserId]
    FROM [Schedules] AS [s]
    INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
    INNER JOIN [Teachers] AS [t1] ON [s].[TeacherId] = [t1].[Id]
) AS [t0] ON [t].[Id] = [t0].[ClassId]
ORDER BY [t].[Id], [t0].[Id], [t0].[Id0]
2025-05-25 20:36:46.183 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.ScheduleForClassDto'.
2025-05-25 20:36:46.183 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetScheduleForClass (backend) in 18.0479ms
2025-05-25 20:36:46.183 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetScheduleForClass (backend)'
2025-05-25 20:36:46.183 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/class/4 - 200 null application/json; charset=utf-8 19.2152ms
2025-05-25 20:36:58.689 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-25 20:36:58.690 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:36:58.691 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 2.2721ms
2025-05-25 20:36:58.692 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-25 20:36:58.692 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:36:58.694 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 20:36:58.695 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-25 20:36:58.729 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-25 20:36:58.738 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4 - null null
2025-05-25 20:36:58.739 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:36:58.739 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4/subjects - null null
2025-05-25 20:36:58.739 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4 - 204 null null 0.4348ms
2025-05-25 20:36:58.739 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:36:58.739 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4/subjects - 204 null null 0.2515ms
2025-05-25 20:36:58.741 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/class/4 - null null
2025-05-25 20:36:58.741 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:36:58.741 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/class/4/subjects - null null
2025-05-25 20:36:58.742 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:36:58.742 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetScheduleForClass (backend)'
2025-05-25 20:36:58.742 +02:00 [INF] Route matched with {action = "GetScheduleForClass", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetScheduleForClass(Int32) on controller backend.Controllers.ScheduleController (backend).
2025-05-25 20:36:58.742 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetSubjectsForClass (backend)'
2025-05-25 20:36:58.742 +02:00 [INF] Route matched with {action = "GetSubjectsForClass", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubjectsForClass(Int32) on controller backend.Controllers.ScheduleController (backend).
2025-05-25 20:36:58.751 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-25 20:36:58.761 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[CreatedAt], [s].[Name], [s].[UpdatedAt], [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [ClassSubjects] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Teachers] AS [t] ON [c].[TeacherId] = [t].[Id]
WHERE [c].[ClassId] = @__classId_0
2025-05-25 20:36:58.761 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[HomeroomTeacherId], [t].[Name], [t].[UpdatedAt], [t0].[Id], [t0].[ClassId], [t0].[CreatedAt], [t0].[DayOfWeek], [t0].[StartTime], [t0].[SubjectId], [t0].[TeacherId], [t0].[UpdatedAt], [t0].[Id0], [t0].[CreatedAt0], [t0].[Name], [t0].[UpdatedAt0], [t0].[Id1], [t0].[FirstName], [t0].[LastName], [t0].[UserId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[CreatedAt], [c].[HomeroomTeacherId], [c].[Name], [c].[UpdatedAt]
    FROM [Classes] AS [c]
    WHERE [c].[Id] = @__classId_0
) AS [t]
LEFT JOIN (
    SELECT [s].[Id], [s].[ClassId], [s].[CreatedAt], [s].[DayOfWeek], [s].[StartTime], [s].[SubjectId], [s].[TeacherId], [s].[UpdatedAt], [s0].[Id] AS [Id0], [s0].[CreatedAt] AS [CreatedAt0], [s0].[Name], [s0].[UpdatedAt] AS [UpdatedAt0], [t1].[Id] AS [Id1], [t1].[FirstName], [t1].[LastName], [t1].[UserId]
    FROM [Schedules] AS [s]
    INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
    INNER JOIN [Teachers] AS [t1] ON [s].[TeacherId] = [t1].[Id]
) AS [t0] ON [t].[Id] = [t0].[ClassId]
ORDER BY [t].[Id], [t0].[Id], [t0].[Id0]
2025-05-25 20:36:58.763 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.ScheduleForClassDto'.
2025-05-25 20:36:58.763 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.SubjectWithTeachersDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 20:36:58.764 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetScheduleForClass (backend) in 22.0171ms
2025-05-25 20:36:58.764 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetSubjectsForClass (backend) in 21.828ms
2025-05-25 20:36:58.764 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetSubjectsForClass (backend)'
2025-05-25 20:36:58.764 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetScheduleForClass (backend)'
2025-05-25 20:36:58.764 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/class/4 - 200 null application/json; charset=utf-8 23.1137ms
2025-05-25 20:36:58.764 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/class/4/subjects - 200 null application/json; charset=utf-8 22.8105ms
2025-05-25 20:36:58.767 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[FirstName], [a].[LastName], [a].[UserId]
FROM [Admins] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-05-25 20:36:58.767 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-25 20:36:58.767 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 71.9987ms
2025-05-25 20:36:58.767 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 20:36:58.767 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 75.6123ms
2025-05-25 20:40:11.739 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-25 20:40:11.741 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:40:11.741 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 2.3731ms
2025-05-25 20:40:11.742 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-25 20:40:11.742 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:40:11.743 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 20:40:11.744 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-25 20:40:11.772 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-25 20:40:11.787 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-25 20:40:11.813 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[FirstName], [a].[LastName], [a].[UserId]
FROM [Admins] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-05-25 20:40:11.814 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-25 20:40:11.814 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 69.1585ms
2025-05-25 20:40:11.814 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 20:40:11.814 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 71.9174ms
2025-05-25 20:40:11.820 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4/subjects - null null
2025-05-25 20:40:11.820 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4 - null null
2025-05-25 20:40:11.821 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:40:11.821 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:40:11.821 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4/subjects - 204 null null 1.355ms
2025-05-25 20:40:11.821 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4 - 204 null null 1.3436ms
2025-05-25 20:40:11.823 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/class/4 - null null
2025-05-25 20:40:11.823 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/class/4/subjects - null null
2025-05-25 20:40:11.823 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:40:11.823 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:40:11.824 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetSubjectsForClass (backend)'
2025-05-25 20:40:11.824 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetScheduleForClass (backend)'
2025-05-25 20:40:11.824 +02:00 [INF] Route matched with {action = "GetScheduleForClass", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetScheduleForClass(Int32) on controller backend.Controllers.ScheduleController (backend).
2025-05-25 20:40:11.824 +02:00 [INF] Route matched with {action = "GetSubjectsForClass", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubjectsForClass(Int32) on controller backend.Controllers.ScheduleController (backend).
2025-05-25 20:40:11.849 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[CreatedAt], [s].[Name], [s].[UpdatedAt], [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [ClassSubjects] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Teachers] AS [t] ON [c].[TeacherId] = [t].[Id]
WHERE [c].[ClassId] = @__classId_0
2025-05-25 20:40:11.849 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[HomeroomTeacherId], [t].[Name], [t].[UpdatedAt], [t0].[Id], [t0].[ClassId], [t0].[CreatedAt], [t0].[DayOfWeek], [t0].[StartTime], [t0].[SubjectId], [t0].[TeacherId], [t0].[UpdatedAt], [t0].[Id0], [t0].[CreatedAt0], [t0].[Name], [t0].[UpdatedAt0], [t0].[Id1], [t0].[FirstName], [t0].[LastName], [t0].[UserId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[CreatedAt], [c].[HomeroomTeacherId], [c].[Name], [c].[UpdatedAt]
    FROM [Classes] AS [c]
    WHERE [c].[Id] = @__classId_0
) AS [t]
LEFT JOIN (
    SELECT [s].[Id], [s].[ClassId], [s].[CreatedAt], [s].[DayOfWeek], [s].[StartTime], [s].[SubjectId], [s].[TeacherId], [s].[UpdatedAt], [s0].[Id] AS [Id0], [s0].[CreatedAt] AS [CreatedAt0], [s0].[Name], [s0].[UpdatedAt] AS [UpdatedAt0], [t1].[Id] AS [Id1], [t1].[FirstName], [t1].[LastName], [t1].[UserId]
    FROM [Schedules] AS [s]
    INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
    INNER JOIN [Teachers] AS [t1] ON [s].[TeacherId] = [t1].[Id]
) AS [t0] ON [t].[Id] = [t0].[ClassId]
ORDER BY [t].[Id], [t0].[Id], [t0].[Id0]
2025-05-25 20:40:11.850 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.ScheduleForClassDto'.
2025-05-25 20:40:11.850 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.SubjectWithTeachersDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 20:40:11.850 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetScheduleForClass (backend) in 26.4582ms
2025-05-25 20:40:11.850 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetSubjectsForClass (backend) in 26.4235ms
2025-05-25 20:40:11.850 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetSubjectsForClass (backend)'
2025-05-25 20:40:11.850 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/class/4/subjects - 200 null application/json; charset=utf-8 27.1988ms
2025-05-25 20:40:11.850 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetScheduleForClass (backend)'
2025-05-25 20:40:11.851 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/class/4 - 200 null application/json; charset=utf-8 27.8553ms
2025-05-25 20:40:33.766 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/add-entry - null null
2025-05-25 20:40:33.768 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:40:33.769 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/add-entry - 204 null null 3.0519ms
2025-05-25 20:40:33.771 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5234/api/schedule/add-entry - application/json 87
2025-05-25 20:40:33.771 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:40:33.773 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.AddEntry (backend)'
2025-05-25 20:40:33.774 +02:00 [INF] Route matched with {action = "AddEntry", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddEntry(backend.DTOs.ScheduleEntryDto) on controller backend.Controllers.ScheduleController (backend).
2025-05-25 20:40:33.808 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CreatedAt], [c].[HomeroomTeacherId], [c].[Name], [c].[UpdatedAt]
FROM [Classes] AS [c]
WHERE [c].[Id] = @__p_0
2025-05-25 20:40:33.824 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[CreatedAt], [s].[Name], [s].[UpdatedAt]
FROM [Subjects] AS [s]
WHERE [s].[Id] = @__p_0
2025-05-25 20:40:33.838 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[Id] = @__p_0
2025-05-25 20:40:33.852 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__dto_ClassId_0='?' (DbType = Int32), @__dto_DayOfWeek_1='?' (DbType = Int32), @__dto_StartTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Schedules] AS [s]
        WHERE [s].[ClassId] = @__dto_ClassId_0 AND [s].[DayOfWeek] = @__dto_DayOfWeek_1 AND [s].[StartTime] = @__dto_StartTime_2) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-05-25 20:40:33.871 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Time), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Schedules] ([ClassId], [CreatedAt], [DayOfWeek], [StartTime], [SubjectId], [TeacherId], [UpdatedAt])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-05-25 20:40:33.872 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.ScheduleEntryDto'.
2025-05-25 20:40:33.872 +02:00 [INF] Executed action backend.Controllers.ScheduleController.AddEntry (backend) in 97.0457ms
2025-05-25 20:40:33.872 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.AddEntry (backend)'
2025-05-25 20:40:33.872 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5234/api/schedule/add-entry - 200 null application/json; charset=utf-8 101.2252ms
2025-05-25 20:44:09.943 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-25 20:44:09.944 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:44:09.947 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 4.0468ms
2025-05-25 20:44:09.952 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-25 20:44:09.959 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:44:09.971 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 20:44:09.975 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4/subjects - null null
2025-05-25 20:44:09.975 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4 - null null
2025-05-25 20:44:09.975 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:44:09.975 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:44:09.975 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4/subjects - 204 null null 0.333ms
2025-05-25 20:44:09.975 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4 - 204 null null 0.1679ms
2025-05-25 20:44:09.978 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/class/4 - null null
2025-05-25 20:44:09.979 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:44:09.978 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/class/4/subjects - null null
2025-05-25 20:44:09.981 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetScheduleForClass (backend)'
2025-05-25 20:44:09.981 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:44:09.982 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetSubjectsForClass (backend)'
2025-05-25 20:44:09.989 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-25 20:44:10.006 +02:00 [INF] Route matched with {action = "GetScheduleForClass", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetScheduleForClass(Int32) on controller backend.Controllers.ScheduleController (backend).
2025-05-25 20:44:10.006 +02:00 [INF] Route matched with {action = "GetSubjectsForClass", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubjectsForClass(Int32) on controller backend.Controllers.ScheduleController (backend).
2025-05-25 20:44:10.032 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-25 20:44:10.034 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[CreatedAt], [s].[Name], [s].[UpdatedAt], [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [ClassSubjects] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Teachers] AS [t] ON [c].[TeacherId] = [t].[Id]
WHERE [c].[ClassId] = @__classId_0
2025-05-25 20:44:10.057 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.SubjectWithTeachersDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 20:44:10.066 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetSubjectsForClass (backend) in 58.9502ms
2025-05-25 20:44:10.066 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetSubjectsForClass (backend)'
2025-05-25 20:44:10.066 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/class/4/subjects - 200 null application/json; charset=utf-8 88.4314ms
2025-05-25 20:44:10.071 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-25 20:44:10.089 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[FirstName], [a].[LastName], [a].[UserId]
FROM [Admins] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-05-25 20:44:10.096 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-25 20:44:10.104 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 114.6232ms
2025-05-25 20:44:10.104 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 20:44:10.104 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 152.1105ms
2025-05-25 20:44:10.247 +02:00 [INF] Executed DbCommand (37ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[HomeroomTeacherId], [t].[Name], [t].[UpdatedAt], [t0].[Id], [t0].[ClassId], [t0].[CreatedAt], [t0].[DayOfWeek], [t0].[StartTime], [t0].[SubjectId], [t0].[TeacherId], [t0].[UpdatedAt], [t0].[Id0], [t0].[CreatedAt0], [t0].[Name], [t0].[UpdatedAt0], [t0].[Id1], [t0].[FirstName], [t0].[LastName], [t0].[UserId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[CreatedAt], [c].[HomeroomTeacherId], [c].[Name], [c].[UpdatedAt]
    FROM [Classes] AS [c]
    WHERE [c].[Id] = @__classId_0
) AS [t]
LEFT JOIN (
    SELECT [s].[Id], [s].[ClassId], [s].[CreatedAt], [s].[DayOfWeek], [s].[StartTime], [s].[SubjectId], [s].[TeacherId], [s].[UpdatedAt], [s0].[Id] AS [Id0], [s0].[CreatedAt] AS [CreatedAt0], [s0].[Name], [s0].[UpdatedAt] AS [UpdatedAt0], [t1].[Id] AS [Id1], [t1].[FirstName], [t1].[LastName], [t1].[UserId]
    FROM [Schedules] AS [s]
    INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
    INNER JOIN [Teachers] AS [t1] ON [s].[TeacherId] = [t1].[Id]
) AS [t0] ON [t].[Id] = [t0].[ClassId]
ORDER BY [t].[Id], [t0].[Id], [t0].[Id0]
2025-05-25 20:44:10.249 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.ScheduleForClassDto'.
2025-05-25 20:44:10.254 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetScheduleForClass (backend) in 247.9506ms
2025-05-25 20:44:10.255 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetScheduleForClass (backend)'
2025-05-25 20:44:10.256 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.TypeLoadException: Could not load type '<GetSubjectsPaged>d__5' from assembly 'backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null' due to value type mismatch.
   at System.Signature.GetSignature(Void* pCorSig, Int32 cCorSig, RuntimeFieldHandleInternal fieldHandle, IRuntimeMethodInfo methodHandle, RuntimeType declaringType)
   at System.Reflection.RuntimeMethodInfo.<get_Signature>g__LazyCreateSignature|25_0()
   at System.Reflection.RuntimeMethodInfo.FetchNonReturnParameters()
   at System.Reflection.RuntimePropertyInfo.GetIndexParametersNoCopy()
   at System.Reflection.RuntimePropertyInfo.GetIndexParameters()
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.AddMembersDeclaredBySuperType(JsonTypeInfo typeInfo, Type currentType, Boolean constructorHasSetsRequiredMembersAttribute, PropertyHierarchyResolutionState& state)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.PopulateProperties(JsonTypeInfo typeInfo)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.CreateTypeInfoCore(Type type, JsonConverter converter, JsonSerializerOptions options)
   at System.Text.Json.Serialization.Metadata.DefaultJsonTypeInfoResolver.GetTypeInfo(Type type, JsonSerializerOptions options)
   at System.Text.Json.JsonSerializerOptions.CachingContext.CreateCacheEntry(Type type, CachingContext context)
--- End of stack trace from previous location ---
   at System.Text.Json.JsonSerializerOptions.GetTypeInfoInternal(Type type, Boolean ensureConfigured, Nullable`1 ensureNotNull, Boolean resolveIfMutable, Boolean fallBackToNearestAncestorType)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo.Configure()
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo.<EnsureConfigured>g__ConfigureSynchronized|172_0()
   at System.Text.Json.JsonSerializerOptions.GetTypeInfoInternal(Type type, Boolean ensureConfigured, Nullable`1 ensureNotNull, Boolean resolveIfMutable, Boolean fallBackToNearestAncestorType)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo.Configure()
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo.ConfigureProperties()
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo.Configure()
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo.<EnsureConfigured>g__ConfigureSynchronized|172_0()
   at System.Text.Json.JsonSerializerOptions.GetTypeInfoInternal(Type type, Boolean ensureConfigured, Nullable`1 ensureNotNull, Boolean resolveIfMutable, Boolean fallBackToNearestAncestorType)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-05-25 20:44:10.291 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/class/4 - 500 null text/plain; charset=utf-8 313.715ms
2025-05-25 20:44:13.226 +02:00 [INF] Application is shutting down...
2025-05-25 20:44:21.247 +02:00 [INF] Application is starting
2025-05-25 20:44:21.285 +02:00 [INF] User profile is available. Using '/Users/pawelstaniul/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-05-25 20:44:21.315 +02:00 [WRN] The WebRootPath was not found: /Users/pawelstaniul/Desktop/Programy/school-logbook/backend/wwwroot. Static files may be unavailable.
2025-05-25 20:44:21.321 +02:00 [INF] Now listening on: http://localhost:5234
2025-05-25 20:44:21.322 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-25 20:44:21.323 +02:00 [INF] Hosting environment: Development
2025-05-25 20:44:21.323 +02:00 [INF] Content root path: /Users/pawelstaniul/Desktop/Programy/school-logbook/backend
2025-05-25 20:44:21.802 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/swagger/index.html - null null
2025-05-25 20:44:21.841 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/swagger/index.html - 200 null text/html;charset=utf-8 38.6846ms
2025-05-25 20:44:21.853 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/_framework/aspnetcore-browser-refresh.js - null null
2025-05-25 20:44:21.855 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/_framework/aspnetcore-browser-refresh.js - 200 13732 application/javascript; charset=utf-8 1.4291ms
2025-05-25 20:44:21.897 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/swagger/v1/swagger.json - null null
2025-05-25 20:44:22.055 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 157.9962ms
2025-05-25 20:44:27.581 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-25 20:44:27.588 +02:00 [WRN] Failed to determine the https port for redirect.
2025-05-25 20:44:27.609 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4 - null null
2025-05-25 20:44:27.609 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4/subjects - null null
2025-05-25 20:44:27.617 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:44:27.617 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:44:27.617 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:44:27.622 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 40.9929ms
2025-05-25 20:44:27.623 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4/subjects - 204 null null 14.2065ms
2025-05-25 20:44:27.624 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4 - 204 null null 15.3374ms
2025-05-25 20:44:27.629 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/class/4/subjects - null null
2025-05-25 20:44:27.632 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/class/4 - null null
2025-05-25 20:44:27.629 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-25 20:44:27.651 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:44:27.651 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:44:27.651 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:44:27.753 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetSubjectsForClass (backend)'
2025-05-25 20:44:27.753 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 20:44:27.753 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetScheduleForClass (backend)'
2025-05-25 20:44:27.784 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-25 20:44:27.785 +02:00 [INF] Route matched with {action = "GetSubjectsForClass", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubjectsForClass(Int32) on controller backend.Controllers.ScheduleController (backend).
2025-05-25 20:44:27.785 +02:00 [INF] Route matched with {action = "GetScheduleForClass", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetScheduleForClass(Int32) on controller backend.Controllers.ScheduleController (backend).
2025-05-25 20:44:28.591 +02:00 [INF] Executed DbCommand (33ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[CreatedAt], [s].[Name], [s].[UpdatedAt], [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [ClassSubjects] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Teachers] AS [t] ON [c].[TeacherId] = [t].[Id]
WHERE [c].[ClassId] = @__classId_0
2025-05-25 20:44:28.637 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.SubjectWithTeachersDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 20:44:28.641 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetSubjectsForClass (backend) in 854.9444ms
2025-05-25 20:44:28.641 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetSubjectsForClass (backend)'
2025-05-25 20:44:28.643 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-25 20:44:28.645 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/class/4/subjects - 200 null application/json; charset=utf-8 1016.4865ms
2025-05-25 20:44:28.667 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-25 20:44:28.686 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[FirstName], [a].[LastName], [a].[UserId]
FROM [Admins] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-05-25 20:44:28.686 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-25 20:44:28.690 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 905.708ms
2025-05-25 20:44:28.690 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 20:44:28.691 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 1062.4681ms
2025-05-25 20:44:28.727 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[HomeroomTeacherId], [t].[Name], [t].[UpdatedAt], [t0].[Id], [t0].[ClassId], [t0].[CreatedAt], [t0].[DayOfWeek], [t0].[StartTime], [t0].[SubjectId], [t0].[TeacherId], [t0].[UpdatedAt], [t0].[Id0], [t0].[CreatedAt0], [t0].[Name], [t0].[UpdatedAt0], [t0].[Id1], [t0].[FirstName], [t0].[LastName], [t0].[UserId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[CreatedAt], [c].[HomeroomTeacherId], [c].[Name], [c].[UpdatedAt]
    FROM [Classes] AS [c]
    WHERE [c].[Id] = @__classId_0
) AS [t]
LEFT JOIN (
    SELECT [s].[Id], [s].[ClassId], [s].[CreatedAt], [s].[DayOfWeek], [s].[StartTime], [s].[SubjectId], [s].[TeacherId], [s].[UpdatedAt], [s0].[Id] AS [Id0], [s0].[CreatedAt] AS [CreatedAt0], [s0].[Name], [s0].[UpdatedAt] AS [UpdatedAt0], [t1].[Id] AS [Id1], [t1].[FirstName], [t1].[LastName], [t1].[UserId]
    FROM [Schedules] AS [s]
    INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
    INNER JOIN [Teachers] AS [t1] ON [s].[TeacherId] = [t1].[Id]
) AS [t0] ON [t].[Id] = [t0].[ClassId]
ORDER BY [t].[Id], [t0].[Id], [t0].[Id0]
2025-05-25 20:44:28.750 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.ScheduleForClassDto'.
2025-05-25 20:44:28.753 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetScheduleForClass (backend) in 967.6326ms
2025-05-25 20:44:28.753 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetScheduleForClass (backend)'
2025-05-25 20:44:28.753 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/class/4 - 200 null application/json; charset=utf-8 1121.4467ms
2025-05-25 20:46:24.975 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/auth/login - null null
2025-05-25 20:46:24.982 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:46:24.983 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/auth/login - 204 null null 8.7837ms
2025-05-25 20:46:24.987 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5234/api/auth/login - application/json 54
2025-05-25 20:46:24.988 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:46:24.993 +02:00 [INF] Executing endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-05-25 20:46:25.004 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(backend.DTOs.Login) on controller backend.Controllers.AuthController (backend).
2025-05-25 20:46:25.098 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-05-25 20:46:25.198 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-05-25 20:46:25.215 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-25 20:46:25.232 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-25 20:46:25.253 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-25 20:46:25.260 +02:00 [INF] AuthenticationScheme: Identity.Application signed in.
2025-05-25 20:46:25.276 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-05-25 20:46:25.281 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.Threading.Tasks.Task`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-25 20:46:25.294 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-25 20:46:25.317 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-05-25 20:46:25.380 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@p20='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p21='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32), @p18='?' (DbType = Boolean), @p19='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [AdminId] = @p1, [ConcurrencyStamp] = @p2, [DateAdded] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastSuccessfulLogin] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [SecurityStamp] = @p15, [StudentId] = @p16, [TeacherId] = @p17, [TwoFactorEnabled] = @p18, [UserName] = @p19
OUTPUT 1
WHERE [Id] = @p20 AND [ConcurrencyStamp] = @p21;
2025-05-25 20:46:25.392 +02:00 [INF] Executed action backend.Controllers.AuthController.Login (backend) in 387.5537ms
2025-05-25 20:46:25.392 +02:00 [INF] Executed endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-05-25 20:46:25.392 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5234/api/auth/login - 200 null application/json; charset=utf-8 405.6639ms
2025-05-25 20:46:25.397 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-25 20:46:25.400 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:46:25.400 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 3.2221ms
2025-05-25 20:46:25.402 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-25 20:46:25.405 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:46:25.406 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 20:46:25.406 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-25 20:46:25.422 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/teacher/d2f5cf82-b1bb-44b9-8171-f8f7fbb1a6f6 - null null
2025-05-25 20:46:25.422 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-25 20:46:25.429 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:46:25.430 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/teacher/d2f5cf82-b1bb-44b9-8171-f8f7fbb1a6f6 - 204 null null 7.6283ms
2025-05-25 20:46:25.432 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/teacher/d2f5cf82-b1bb-44b9-8171-f8f7fbb1a6f6 - null null
2025-05-25 20:46:25.433 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:46:25.433 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetScheduleForTeacher (backend)'
2025-05-25 20:46:25.450 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-25 20:46:25.455 +02:00 [INF] Route matched with {action = "GetScheduleForTeacher", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetScheduleForTeacher(System.String) on controller backend.Controllers.ScheduleController (backend).
2025-05-25 20:46:25.487 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-25 20:46:25.488 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-25 20:46:25.488 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 81.4716ms
2025-05-25 20:46:25.488 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-25 20:46:25.488 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 86.2383ms
2025-05-25 20:46:25.491 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__userId_0
2025-05-25 20:46:25.530 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__teacher_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[DayOfWeek], [s].[StartTime], [c].[Name], [s0].[Name]
FROM [Schedules] AS [s]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
WHERE [s].[TeacherId] = @__teacher_Id_0
ORDER BY [s].[DayOfWeek], [s].[StartTime]
2025-05-25 20:46:25.531 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.TeacherScheduleEntryDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 20:46:25.532 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetScheduleForTeacher (backend) in 76.7758ms
2025-05-25 20:46:25.532 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetScheduleForTeacher (backend)'
2025-05-25 20:46:25.532 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/teacher/d2f5cf82-b1bb-44b9-8171-f8f7fbb1a6f6 - 200 null application/json; charset=utf-8 100.113ms
2025-05-25 20:46:35.521 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - null null
2025-05-25 20:46:35.522 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:46:35.522 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - 204 null null 0.9873ms
2025-05-25 20:46:35.525 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - null null
2025-05-25 20:46:35.527 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:46:35.531 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-25 20:46:35.536 +02:00 [INF] Route matched with {action = "GetTodayLessons", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTodayLessons() on controller backend.Controllers.AttendanceController (backend).
2025-05-25 20:46:35.566 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-25 20:46:35.626 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__teacherId_0='?' (DbType = Int32), @__today_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s0].[Name], [c].[Name], [s].[StartTime], CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Attendances] AS [a]
        WHERE [a].[ScheduleId] = [s].[Id] AND CONVERT(date, [a].[Date]) = CONVERT(date, GETDATE())) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
FROM [Schedules] AS [s]
INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
WHERE [s].[TeacherId] = @__teacherId_0 AND [s].[DayOfWeek] = @__today_1
ORDER BY [s].[StartTime]
2025-05-25 20:46:35.627 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.LessonForAttendanceDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 20:46:35.628 +02:00 [INF] Executed action backend.Controllers.AttendanceController.GetTodayLessons (backend) in 92.2595ms
2025-05-25 20:46:35.628 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-25 20:46:35.628 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - 200 null application/json; charset=utf-8 103.4021ms
2025-05-25 20:46:42.642 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/students/5 - null null
2025-05-25 20:46:42.643 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:46:42.643 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/students/5 - 204 null null 0.5844ms
2025-05-25 20:46:42.644 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/attendance/students/5 - null null
2025-05-25 20:46:42.645 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:46:42.647 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.GetStudentsForSchedule (backend)'
2025-05-25 20:46:42.651 +02:00 [INF] Route matched with {action = "GetStudentsForSchedule", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentsForSchedule(Int32) on controller backend.Controllers.AttendanceController (backend).
2025-05-25 20:46:42.682 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__scheduleId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[ClassId], [s].[CreatedAt], [s].[DayOfWeek], [s].[StartTime], [s].[SubjectId], [s].[TeacherId], [s].[UpdatedAt], [c].[Id], [c].[CreatedAt], [c].[HomeroomTeacherId], [c].[Name], [c].[UpdatedAt]
FROM [Schedules] AS [s]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
WHERE [s].[Id] = @__scheduleId_0
2025-05-25 20:46:42.715 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@__scheduleId_1='?' (DbType = Int32), @__today_2='?' (DbType = DateTime2), @__schedule_ClassId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id] AS [StudentId], [s].[FirstName] + N' ' + [s].[LastName] AS [FullName], COALESCE((
    SELECT TOP(1) [a].[Status]
    FROM [Attendances] AS [a]
    WHERE [a].[ScheduleId] = @__scheduleId_1 AND [a].[StudentId] = [s].[Id] AND CONVERT(date, [a].[Date]) = @__today_2), 0) AS [Status]
FROM [Students] AS [s]
WHERE [s].[ClassId] = @__schedule_ClassId_0
2025-05-25 20:46:42.716 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.StudentForAttendanceDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 20:46:42.720 +02:00 [INF] Executed action backend.Controllers.AttendanceController.GetStudentsForSchedule (backend) in 68.1977ms
2025-05-25 20:46:42.720 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.GetStudentsForSchedule (backend)'
2025-05-25 20:46:42.720 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/attendance/students/5 - 200 null application/json; charset=utf-8 75.4495ms
2025-05-25 20:47:41.028 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/students/5 - null null
2025-05-25 20:47:41.030 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:47:41.032 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/students/5 - 204 null null 2.955ms
2025-05-25 20:47:41.032 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/attendance/students/5 - null null
2025-05-25 20:47:41.033 +02:00 [INF] CORS policy execution successful.
2025-05-25 20:47:41.040 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.GetStudentsForSchedule (backend)'
2025-05-25 20:47:41.041 +02:00 [INF] Route matched with {action = "GetStudentsForSchedule", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentsForSchedule(Int32) on controller backend.Controllers.AttendanceController (backend).
2025-05-25 20:47:41.096 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__scheduleId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[ClassId], [s].[CreatedAt], [s].[DayOfWeek], [s].[StartTime], [s].[SubjectId], [s].[TeacherId], [s].[UpdatedAt], [c].[Id], [c].[CreatedAt], [c].[HomeroomTeacherId], [c].[Name], [c].[UpdatedAt]
FROM [Schedules] AS [s]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
WHERE [s].[Id] = @__scheduleId_0
2025-05-25 20:47:41.113 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__scheduleId_1='?' (DbType = Int32), @__today_2='?' (DbType = DateTime2), @__schedule_ClassId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id] AS [StudentId], [s].[FirstName] + N' ' + [s].[LastName] AS [FullName], COALESCE((
    SELECT TOP(1) [a].[Status]
    FROM [Attendances] AS [a]
    WHERE [a].[ScheduleId] = @__scheduleId_1 AND [a].[StudentId] = [s].[Id] AND CONVERT(date, [a].[Date]) = @__today_2), 0) AS [Status]
FROM [Students] AS [s]
WHERE [s].[ClassId] = @__schedule_ClassId_0
2025-05-25 20:47:41.113 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.StudentForAttendanceDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-25 20:47:41.114 +02:00 [INF] Executed action backend.Controllers.AttendanceController.GetStudentsForSchedule (backend) in 72.3982ms
2025-05-25 20:47:41.114 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.GetStudentsForSchedule (backend)'
2025-05-25 20:47:41.114 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/attendance/students/5 - 200 null application/json; charset=utf-8 81.6501ms
