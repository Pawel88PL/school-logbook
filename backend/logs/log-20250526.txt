2025-05-26 14:20:24.483 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/auth/login - null null
2025-05-26 14:20:24.517 +02:00 [INF] CORS policy execution successful.
2025-05-26 14:20:24.518 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/auth/login - 204 null null 36.0709ms
2025-05-26 14:20:24.520 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5234/api/auth/login - application/json 55
2025-05-26 14:20:24.521 +02:00 [INF] CORS policy execution successful.
2025-05-26 14:20:24.525 +02:00 [INF] Executing endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-05-26 14:20:24.528 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(backend.DTOs.Login) on controller backend.Controllers.AuthController (backend).
2025-05-26 14:20:24.739 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-05-26 14:20:24.814 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-05-26 14:20:24.838 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-26 14:20:24.862 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-26 14:20:24.886 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-26 14:20:24.894 +02:00 [INF] AuthenticationScheme: Identity.Application signed in.
2025-05-26 14:20:24.918 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-05-26 14:20:24.920 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.Threading.Tasks.Task`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-26 14:20:24.942 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-26 14:20:24.968 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-05-26 14:20:24.994 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@p20='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p21='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32), @p18='?' (DbType = Boolean), @p19='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [AdminId] = @p1, [ConcurrencyStamp] = @p2, [DateAdded] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastSuccessfulLogin] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [SecurityStamp] = @p15, [StudentId] = @p16, [TeacherId] = @p17, [TwoFactorEnabled] = @p18, [UserName] = @p19
OUTPUT 1
WHERE [Id] = @p20 AND [ConcurrencyStamp] = @p21;
2025-05-26 14:20:24.996 +02:00 [INF] Executed action backend.Controllers.AuthController.Login (backend) in 468.1505ms
2025-05-26 14:20:24.996 +02:00 [INF] Executed endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-05-26 14:20:24.997 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5234/api/auth/login - 200 null application/json; charset=utf-8 476.9783ms
2025-05-26 14:20:25.000 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-26 14:20:25.000 +02:00 [INF] CORS policy execution successful.
2025-05-26 14:20:25.000 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 0.4675ms
2025-05-26 14:20:25.002 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-26 14:20:25.002 +02:00 [INF] CORS policy execution successful.
2025-05-26 14:20:25.003 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-26 14:20:25.003 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-26 14:20:25.024 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/roles - null null
2025-05-26 14:20:25.024 +02:00 [INF] CORS policy execution successful.
2025-05-26 14:20:25.024 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/roles - 204 null null 0.3095ms
2025-05-26 14:20:25.025 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/roles - null null
2025-05-26 14:20:25.026 +02:00 [INF] CORS policy execution successful.
2025-05-26 14:20:25.026 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetRoles (backend)'
2025-05-26 14:20:25.031 +02:00 [INF] Route matched with {action = "GetRoles", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRoles() on controller backend.Controllers.UserController (backend).
2025-05-26 14:20:25.043 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-26 14:20:25.066 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-26 14:20:25.091 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[FirstName], [a].[LastName], [a].[UserId]
FROM [Admins] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-05-26 14:20:25.091 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-26 14:20:25.091 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 87.7265ms
2025-05-26 14:20:25.091 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-26 14:20:25.091 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 89.328ms
2025-05-26 14:20:25.216 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE([a].[Name], N'') AS [Name]
FROM [AspNetRoles] AS [a]
2025-05-26 14:20:25.218 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.Models.Role, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 14:20:25.221 +02:00 [INF] Executed action backend.Controllers.UserController.GetRoles (backend) in 190.2121ms
2025-05-26 14:20:25.222 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetRoles (backend)'
2025-05-26 14:20:25.222 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/roles - 200 null application/json; charset=utf-8 196.5862ms
2025-05-26 14:20:25.336 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/paged?pageNumber=1&pageSize=10&sortColumn=role&sortDirection=asc&searchQuery= - null null
2025-05-26 14:20:25.337 +02:00 [INF] CORS policy execution successful.
2025-05-26 14:20:25.337 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/paged?pageNumber=1&pageSize=10&sortColumn=role&sortDirection=asc&searchQuery= - 204 null null 0.4942ms
2025-05-26 14:20:25.337 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/paged?pageNumber=1&pageSize=10&sortColumn=role&sortDirection=asc&searchQuery= - null null
2025-05-26 14:20:25.338 +02:00 [INF] CORS policy execution successful.
2025-05-26 14:20:25.338 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetUsersPaged (backend)'
2025-05-26 14:20:25.341 +02:00 [INF] Route matched with {action = "GetUsersPaged", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersPaged(backend.Models.PagedRequest) on controller backend.Controllers.UserController (backend).
2025-05-26 14:20:25.396 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
INNER JOIN [AspNetUserRoles] AS [a0] ON [a].[Id] = [a0].[UserId]
INNER JOIN [AspNetRoles] AS [a1] ON [a0].[RoleId] = [a1].[Id]
LEFT JOIN [Admins] AS [a2] ON [a].[Id] = [a2].[UserId]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[UserId]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[UserId]
2025-05-26 14:20:25.429 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName], [a1].[Name] AS [RoleName], [a2].[Id], [a2].[FirstName], [a2].[LastName], [a2].[UserId], [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId], [s].[Id], [s].[ClassId], [s].[FirstName], [s].[LastName], [s].[UserId]
FROM [AspNetUsers] AS [a]
INNER JOIN [AspNetUserRoles] AS [a0] ON [a].[Id] = [a0].[UserId]
INNER JOIN [AspNetRoles] AS [a1] ON [a0].[RoleId] = [a1].[Id]
LEFT JOIN [Admins] AS [a2] ON [a].[Id] = [a2].[UserId]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[UserId]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[UserId]
ORDER BY [a1].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-26 14:20:25.434 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.PagedUsers'.
2025-05-26 14:20:25.436 +02:00 [INF] Executed action backend.Controllers.UserController.GetUsersPaged (backend) in 95.3852ms
2025-05-26 14:20:25.436 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetUsersPaged (backend)'
2025-05-26 14:20:25.437 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/paged?pageNumber=1&pageSize=10&sortColumn=role&sortDirection=asc&searchQuery= - 200 null application/json; charset=utf-8 99.1016ms
2025-05-26 14:20:32.397 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/class/paged?pageNumber=1&pageSize=10&sortColumn=name&sortDirection=asc - null null
2025-05-26 14:20:32.399 +02:00 [INF] CORS policy execution successful.
2025-05-26 14:20:32.399 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/class/paged?pageNumber=1&pageSize=10&sortColumn=name&sortDirection=asc - 204 null null 2.1082ms
2025-05-26 14:20:32.403 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/class/paged?pageNumber=1&pageSize=10&sortColumn=name&sortDirection=asc - null null
2025-05-26 14:20:32.405 +02:00 [INF] CORS policy execution successful.
2025-05-26 14:20:32.406 +02:00 [INF] Executing endpoint 'backend.Controllers.ClassController.GetClassesPaged (backend)'
2025-05-26 14:20:32.410 +02:00 [INF] Route matched with {action = "GetClassesPaged", controller = "Class"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClassesPaged(backend.Models.PagedRequest) on controller backend.Controllers.ClassController (backend).
2025-05-26 14:20:32.447 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Classes] AS [c]
2025-05-26 14:20:32.487 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name], [t].[CreatedAt], [t].[UpdatedAt], CASE
    WHEN [t0].[Id] IS NOT NULL THEN COALESCE([t0].[FirstName], N'') + N' ' + COALESCE([t0].[LastName], N'')
    ELSE NULL
END AS [HomeroomTeacherName], (
    SELECT COUNT(*)
    FROM [Students] AS [s]
    WHERE [t].[Id] = [s].[ClassId]) AS [StudentCount]
FROM (
    SELECT [c].[Id], [c].[CreatedAt], [c].[HomeroomTeacherId], [c].[Name], [c].[UpdatedAt]
    FROM [Classes] AS [c]
    ORDER BY [c].[Name]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN [Teachers] AS [t0] ON [t].[HomeroomTeacherId] = [t0].[Id]
ORDER BY [t].[Name]
2025-05-26 14:20:32.489 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.PagedClasses'.
2025-05-26 14:20:32.497 +02:00 [INF] Executed action backend.Controllers.ClassController.GetClassesPaged (backend) in 87.3285ms
2025-05-26 14:20:32.497 +02:00 [INF] Executed endpoint 'backend.Controllers.ClassController.GetClassesPaged (backend)'
2025-05-26 14:20:32.498 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/class/paged?pageNumber=1&pageSize=10&sortColumn=name&sortDirection=asc - 200 null application/json; charset=utf-8 95.2045ms
2025-05-26 14:20:36.875 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/roles - null null
2025-05-26 14:20:36.875 +02:00 [INF] CORS policy execution successful.
2025-05-26 14:20:36.875 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/roles - 204 null null 0.6701ms
2025-05-26 14:20:36.878 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/roles - null null
2025-05-26 14:20:36.879 +02:00 [INF] CORS policy execution successful.
2025-05-26 14:20:36.879 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetRoles (backend)'
2025-05-26 14:20:36.880 +02:00 [INF] Route matched with {action = "GetRoles", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRoles() on controller backend.Controllers.UserController (backend).
2025-05-26 14:20:36.912 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE([a].[Name], N'') AS [Name]
FROM [AspNetRoles] AS [a]
2025-05-26 14:20:36.913 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.Models.Role, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 14:20:36.913 +02:00 [INF] Executed action backend.Controllers.UserController.GetRoles (backend) in 33.1443ms
2025-05-26 14:20:36.913 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetRoles (backend)'
2025-05-26 14:20:36.913 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/roles - 200 null application/json; charset=utf-8 34.947ms
2025-05-26 14:20:37.187 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/paged?pageNumber=1&pageSize=10&sortColumn=role&sortDirection=asc&searchQuery= - null null
2025-05-26 14:20:37.187 +02:00 [INF] CORS policy execution successful.
2025-05-26 14:20:37.187 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/paged?pageNumber=1&pageSize=10&sortColumn=role&sortDirection=asc&searchQuery= - 204 null null 0.3208ms
2025-05-26 14:20:37.189 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/paged?pageNumber=1&pageSize=10&sortColumn=role&sortDirection=asc&searchQuery= - null null
2025-05-26 14:20:37.189 +02:00 [INF] CORS policy execution successful.
2025-05-26 14:20:37.189 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetUsersPaged (backend)'
2025-05-26 14:20:37.189 +02:00 [INF] Route matched with {action = "GetUsersPaged", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersPaged(backend.Models.PagedRequest) on controller backend.Controllers.UserController (backend).
2025-05-26 14:20:37.221 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
INNER JOIN [AspNetUserRoles] AS [a0] ON [a].[Id] = [a0].[UserId]
INNER JOIN [AspNetRoles] AS [a1] ON [a0].[RoleId] = [a1].[Id]
LEFT JOIN [Admins] AS [a2] ON [a].[Id] = [a2].[UserId]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[UserId]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[UserId]
2025-05-26 14:20:37.248 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName], [a1].[Name] AS [RoleName], [a2].[Id], [a2].[FirstName], [a2].[LastName], [a2].[UserId], [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId], [s].[Id], [s].[ClassId], [s].[FirstName], [s].[LastName], [s].[UserId]
FROM [AspNetUsers] AS [a]
INNER JOIN [AspNetUserRoles] AS [a0] ON [a].[Id] = [a0].[UserId]
INNER JOIN [AspNetRoles] AS [a1] ON [a0].[RoleId] = [a1].[Id]
LEFT JOIN [Admins] AS [a2] ON [a].[Id] = [a2].[UserId]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[UserId]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[UserId]
ORDER BY [a1].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-26 14:20:37.250 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.PagedUsers'.
2025-05-26 14:20:37.251 +02:00 [INF] Executed action backend.Controllers.UserController.GetUsersPaged (backend) in 61.4171ms
2025-05-26 14:20:37.251 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetUsersPaged (backend)'
2025-05-26 14:20:37.251 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/paged?pageNumber=1&pageSize=10&sortColumn=role&sortDirection=asc&searchQuery= - 200 null application/json; charset=utf-8 62.3111ms
2025-05-26 15:34:14.333 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-26 15:34:14.339 +02:00 [INF] CORS policy execution successful.
2025-05-26 15:34:14.344 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 8.0241ms
2025-05-26 15:34:14.345 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-26 15:34:14.345 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/roles - null null
2025-05-26 15:34:14.345 +02:00 [INF] CORS policy execution successful.
2025-05-26 15:34:14.346 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/roles - 204 null null 0.7328ms
2025-05-26 15:34:14.346 +02:00 [INF] CORS policy execution successful.
2025-05-26 15:34:14.348 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/roles - null null
2025-05-26 15:34:14.349 +02:00 [INF] CORS policy execution successful.
2025-05-26 15:34:14.359 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-26 15:34:14.359 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetRoles (backend)'
2025-05-26 15:34:14.362 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-26 15:34:14.362 +02:00 [INF] Route matched with {action = "GetRoles", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRoles() on controller backend.Controllers.UserController (backend).
2025-05-26 15:34:14.536 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-26 15:34:14.562 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-26 15:34:14.588 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[FirstName], [a].[LastName], [a].[UserId]
FROM [Admins] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-05-26 15:34:14.589 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-26 15:34:14.590 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 227.7707ms
2025-05-26 15:34:14.590 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-26 15:34:14.590 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 245.3484ms
2025-05-26 15:34:14.658 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/paged?pageNumber=1&pageSize=10&sortColumn=role&sortDirection=asc&searchQuery= - null null
2025-05-26 15:34:14.659 +02:00 [INF] CORS policy execution successful.
2025-05-26 15:34:14.659 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/paged?pageNumber=1&pageSize=10&sortColumn=role&sortDirection=asc&searchQuery= - 204 null null 0.6807ms
2025-05-26 15:34:14.660 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/paged?pageNumber=1&pageSize=10&sortColumn=role&sortDirection=asc&searchQuery= - null null
2025-05-26 15:34:14.660 +02:00 [INF] CORS policy execution successful.
2025-05-26 15:34:14.661 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetUsersPaged (backend)'
2025-05-26 15:34:14.661 +02:00 [INF] Route matched with {action = "GetUsersPaged", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersPaged(backend.Models.PagedRequest) on controller backend.Controllers.UserController (backend).
2025-05-26 15:34:14.667 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE([a].[Name], N'') AS [Name]
FROM [AspNetRoles] AS [a]
2025-05-26 15:34:14.668 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.Models.Role, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 15:34:14.668 +02:00 [INF] Executed action backend.Controllers.UserController.GetRoles (backend) in 306.1998ms
2025-05-26 15:34:14.668 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetRoles (backend)'
2025-05-26 15:34:14.669 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/roles - 200 null application/json; charset=utf-8 320.912ms
2025-05-26 15:34:14.715 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
INNER JOIN [AspNetUserRoles] AS [a0] ON [a].[Id] = [a0].[UserId]
INNER JOIN [AspNetRoles] AS [a1] ON [a0].[RoleId] = [a1].[Id]
LEFT JOIN [Admins] AS [a2] ON [a].[Id] = [a2].[UserId]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[UserId]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[UserId]
2025-05-26 15:34:14.743 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName], [a1].[Name] AS [RoleName], [a2].[Id], [a2].[FirstName], [a2].[LastName], [a2].[UserId], [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId], [s].[Id], [s].[ClassId], [s].[FirstName], [s].[LastName], [s].[UserId]
FROM [AspNetUsers] AS [a]
INNER JOIN [AspNetUserRoles] AS [a0] ON [a].[Id] = [a0].[UserId]
INNER JOIN [AspNetRoles] AS [a1] ON [a0].[RoleId] = [a1].[Id]
LEFT JOIN [Admins] AS [a2] ON [a].[Id] = [a2].[UserId]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[UserId]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[UserId]
ORDER BY [a1].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-26 15:34:14.744 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.PagedUsers'.
2025-05-26 15:34:14.744 +02:00 [INF] Executed action backend.Controllers.UserController.GetUsersPaged (backend) in 82.3361ms
2025-05-26 15:34:14.744 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetUsersPaged (backend)'
2025-05-26 15:34:14.744 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/paged?pageNumber=1&pageSize=10&sortColumn=role&sortDirection=asc&searchQuery= - 200 null application/json; charset=utf-8 84.0789ms
2025-05-26 15:42:45.715 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/classes-with-schedule - null null
2025-05-26 15:42:45.723 +02:00 [INF] CORS policy execution successful.
2025-05-26 15:42:45.723 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/classes-with-schedule - 204 null null 8.0598ms
2025-05-26 15:42:45.724 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/classes-with-schedule - null null
2025-05-26 15:42:45.725 +02:00 [INF] CORS policy execution successful.
2025-05-26 15:42:45.735 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetClassesWithSchedule (backend)'
2025-05-26 15:42:45.756 +02:00 [INF] Route matched with {action = "GetClassesWithSchedule", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClassesWithSchedule() on controller backend.Controllers.ScheduleController (backend).
2025-05-26 15:42:45.949 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], (
    SELECT COUNT(*)
    FROM [Schedules] AS [s]
    WHERE [c].[Id] = [s].[ClassId]) AS [EntryCount]
FROM [Classes] AS [c]
ORDER BY [c].[Name]
2025-05-26 15:42:45.951 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.ClassWithScheduleDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 15:42:45.954 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetClassesWithSchedule (backend) in 198.1991ms
2025-05-26 15:42:45.954 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetClassesWithSchedule (backend)'
2025-05-26 15:42:45.955 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/classes-with-schedule - 200 null application/json; charset=utf-8 230.4078ms
2025-05-26 15:42:47.936 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/5/subjects - null null
2025-05-26 15:42:47.936 +02:00 [INF] CORS policy execution successful.
2025-05-26 15:42:47.936 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/5/subjects - 204 null null 0.4497ms
2025-05-26 15:42:47.936 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/5 - null null
2025-05-26 15:42:47.937 +02:00 [INF] CORS policy execution successful.
2025-05-26 15:42:47.937 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/5 - 204 null null 0.2298ms
2025-05-26 15:42:47.939 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/class/5 - null null
2025-05-26 15:42:47.939 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/class/5/subjects - null null
2025-05-26 15:42:47.940 +02:00 [INF] CORS policy execution successful.
2025-05-26 15:42:47.940 +02:00 [INF] CORS policy execution successful.
2025-05-26 15:42:47.940 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetScheduleForClass (backend)'
2025-05-26 15:42:47.940 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetSubjectsForClass (backend)'
2025-05-26 15:42:47.940 +02:00 [INF] Route matched with {action = "GetScheduleForClass", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetScheduleForClass(Int32) on controller backend.Controllers.ScheduleController (backend).
2025-05-26 15:42:47.940 +02:00 [INF] Route matched with {action = "GetSubjectsForClass", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubjectsForClass(Int32) on controller backend.Controllers.ScheduleController (backend).
2025-05-26 15:42:47.966 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[HomeroomTeacherId], [t].[Name], [t].[UpdatedAt], [t0].[Id], [t0].[ClassId], [t0].[CreatedAt], [t0].[DayOfWeek], [t0].[StartTime], [t0].[SubjectId], [t0].[TeacherId], [t0].[UpdatedAt], [t0].[Id0], [t0].[CreatedAt0], [t0].[Name], [t0].[UpdatedAt0], [t0].[Id1], [t0].[FirstName], [t0].[LastName], [t0].[UserId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[CreatedAt], [c].[HomeroomTeacherId], [c].[Name], [c].[UpdatedAt]
    FROM [Classes] AS [c]
    WHERE [c].[Id] = @__classId_0
) AS [t]
LEFT JOIN (
    SELECT [s].[Id], [s].[ClassId], [s].[CreatedAt], [s].[DayOfWeek], [s].[StartTime], [s].[SubjectId], [s].[TeacherId], [s].[UpdatedAt], [s0].[Id] AS [Id0], [s0].[CreatedAt] AS [CreatedAt0], [s0].[Name], [s0].[UpdatedAt] AS [UpdatedAt0], [t1].[Id] AS [Id1], [t1].[FirstName], [t1].[LastName], [t1].[UserId]
    FROM [Schedules] AS [s]
    INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
    INNER JOIN [Teachers] AS [t1] ON [s].[TeacherId] = [t1].[Id]
) AS [t0] ON [t].[Id] = [t0].[ClassId]
ORDER BY [t].[Id], [t0].[Id], [t0].[Id0]
2025-05-26 15:42:47.967 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.ScheduleForClassDto'.
2025-05-26 15:42:47.967 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetScheduleForClass (backend) in 27.02ms
2025-05-26 15:42:47.967 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetScheduleForClass (backend)'
2025-05-26 15:42:47.967 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/class/5 - 200 null application/json; charset=utf-8 28.2288ms
2025-05-26 15:42:48.096 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[CreatedAt], [s].[Name], [s].[UpdatedAt], [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [ClassSubjects] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Teachers] AS [t] ON [c].[TeacherId] = [t].[Id]
WHERE [c].[ClassId] = @__classId_0
2025-05-26 15:42:48.097 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.SubjectWithTeachersDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 15:42:48.097 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetSubjectsForClass (backend) in 156.4329ms
2025-05-26 15:42:48.097 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetSubjectsForClass (backend)'
2025-05-26 15:42:48.097 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/class/5/subjects - 200 null application/json; charset=utf-8 157.9792ms
2025-05-26 15:43:04.939 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/auth/login - null null
2025-05-26 15:43:04.940 +02:00 [INF] CORS policy execution successful.
2025-05-26 15:43:04.940 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/auth/login - 204 null null 0.985ms
2025-05-26 15:43:04.942 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5234/api/auth/login - application/json 54
2025-05-26 15:43:04.942 +02:00 [INF] CORS policy execution successful.
2025-05-26 15:43:04.942 +02:00 [INF] Executing endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-05-26 15:43:04.942 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(backend.DTOs.Login) on controller backend.Controllers.AuthController (backend).
2025-05-26 15:43:04.988 +02:00 [INF] Executed DbCommand (32ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-05-26 15:43:05.090 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-05-26 15:43:05.114 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-26 15:43:05.138 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-26 15:43:05.161 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-26 15:43:05.163 +02:00 [INF] AuthenticationScheme: Identity.Application signed in.
2025-05-26 15:43:05.186 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-05-26 15:43:05.187 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.Threading.Tasks.Task`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-26 15:43:05.210 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-26 15:43:05.234 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-05-26 15:43:05.257 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@p20='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p21='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32), @p18='?' (DbType = Boolean), @p19='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [AdminId] = @p1, [ConcurrencyStamp] = @p2, [DateAdded] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastSuccessfulLogin] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [SecurityStamp] = @p15, [StudentId] = @p16, [TeacherId] = @p17, [TwoFactorEnabled] = @p18, [UserName] = @p19
OUTPUT 1
WHERE [Id] = @p20 AND [ConcurrencyStamp] = @p21;
2025-05-26 15:43:05.260 +02:00 [INF] Executed action backend.Controllers.AuthController.Login (backend) in 317.3836ms
2025-05-26 15:43:05.260 +02:00 [INF] Executed endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-05-26 15:43:05.260 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5234/api/auth/login - 200 null application/json; charset=utf-8 318.1571ms
2025-05-26 15:43:05.263 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-26 15:43:05.264 +02:00 [INF] CORS policy execution successful.
2025-05-26 15:43:05.264 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 0.1689ms
2025-05-26 15:43:05.265 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-26 15:43:05.265 +02:00 [INF] CORS policy execution successful.
2025-05-26 15:43:05.265 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-26 15:43:05.265 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-26 15:43:05.283 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/teacher/d2f5cf82-b1bb-44b9-8171-f8f7fbb1a6f6 - null null
2025-05-26 15:43:05.283 +02:00 [INF] CORS policy execution successful.
2025-05-26 15:43:05.283 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/teacher/d2f5cf82-b1bb-44b9-8171-f8f7fbb1a6f6 - 204 null null 0.4188ms
2025-05-26 15:43:05.284 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/teacher/d2f5cf82-b1bb-44b9-8171-f8f7fbb1a6f6 - null null
2025-05-26 15:43:05.284 +02:00 [INF] CORS policy execution successful.
2025-05-26 15:43:05.285 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetScheduleForTeacher (backend)'
2025-05-26 15:43:05.285 +02:00 [INF] Route matched with {action = "GetScheduleForTeacher", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetScheduleForTeacher(System.String) on controller backend.Controllers.ScheduleController (backend).
2025-05-26 15:43:05.288 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-26 15:43:05.309 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__userId_0
2025-05-26 15:43:05.310 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-26 15:43:05.335 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-26 15:43:05.335 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__teacher_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[DayOfWeek], [s].[StartTime], [c].[Name], [s0].[Name]
FROM [Schedules] AS [s]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
WHERE [s].[TeacherId] = @__teacher_Id_0
ORDER BY [s].[DayOfWeek], [s].[StartTime]
2025-05-26 15:43:05.335 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-26 15:43:05.335 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.TeacherScheduleEntryDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 15:43:05.335 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetScheduleForTeacher (backend) in 49.9476ms
2025-05-26 15:43:05.335 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 69.9657ms
2025-05-26 15:43:05.335 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetScheduleForTeacher (backend)'
2025-05-26 15:43:05.335 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-26 15:43:05.335 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/teacher/d2f5cf82-b1bb-44b9-8171-f8f7fbb1a6f6 - 200 null application/json; charset=utf-8 51.0137ms
2025-05-26 15:43:05.335 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 70.7027ms
2025-05-26 15:43:18.685 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/auth/login - null null
2025-05-26 15:43:18.686 +02:00 [INF] CORS policy execution successful.
2025-05-26 15:43:18.687 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/auth/login - 204 null null 1.3493ms
2025-05-26 15:43:18.688 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5234/api/auth/login - application/json 55
2025-05-26 15:43:18.688 +02:00 [INF] CORS policy execution successful.
2025-05-26 15:43:18.688 +02:00 [INF] Executing endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-05-26 15:43:18.689 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(backend.DTOs.Login) on controller backend.Controllers.AuthController (backend).
2025-05-26 15:43:18.718 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-05-26 15:43:18.819 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-05-26 15:43:18.843 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-26 15:43:18.867 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-26 15:43:18.891 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-26 15:43:18.892 +02:00 [INF] AuthenticationScheme: Identity.Application signed in.
2025-05-26 15:43:18.916 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-05-26 15:43:18.917 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.Threading.Tasks.Task`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-26 15:43:18.940 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-26 15:43:18.964 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-05-26 15:43:18.988 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@p20='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p21='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32), @p18='?' (DbType = Boolean), @p19='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [AdminId] = @p1, [ConcurrencyStamp] = @p2, [DateAdded] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastSuccessfulLogin] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [SecurityStamp] = @p15, [StudentId] = @p16, [TeacherId] = @p17, [TwoFactorEnabled] = @p18, [UserName] = @p19
OUTPUT 1
WHERE [Id] = @p20 AND [ConcurrencyStamp] = @p21;
2025-05-26 15:43:18.988 +02:00 [INF] Executed action backend.Controllers.AuthController.Login (backend) in 299.6176ms
2025-05-26 15:43:18.988 +02:00 [INF] Executed endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-05-26 15:43:18.988 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5234/api/auth/login - 200 null application/json; charset=utf-8 300.3761ms
2025-05-26 15:43:18.991 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-26 15:43:18.991 +02:00 [INF] CORS policy execution successful.
2025-05-26 15:43:18.991 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 0.1092ms
2025-05-26 15:43:18.992 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-26 15:43:18.992 +02:00 [INF] CORS policy execution successful.
2025-05-26 15:43:18.992 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-26 15:43:18.993 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-26 15:43:19.004 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/roles - null null
2025-05-26 15:43:19.004 +02:00 [INF] CORS policy execution successful.
2025-05-26 15:43:19.004 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/roles - 204 null null 0.3501ms
2025-05-26 15:43:19.006 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/roles - null null
2025-05-26 15:43:19.006 +02:00 [INF] CORS policy execution successful.
2025-05-26 15:43:19.007 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetRoles (backend)'
2025-05-26 15:43:19.007 +02:00 [INF] Route matched with {action = "GetRoles", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRoles() on controller backend.Controllers.UserController (backend).
2025-05-26 15:43:19.017 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-26 15:43:19.030 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE([a].[Name], N'') AS [Name]
FROM [AspNetRoles] AS [a]
2025-05-26 15:43:19.031 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.Models.Role, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 15:43:19.031 +02:00 [INF] Executed action backend.Controllers.UserController.GetRoles (backend) in 24.11ms
2025-05-26 15:43:19.031 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetRoles (backend)'
2025-05-26 15:43:19.031 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/roles - 200 null application/json; charset=utf-8 25.481ms
2025-05-26 15:43:19.041 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-26 15:43:19.065 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[FirstName], [a].[LastName], [a].[UserId]
FROM [Admins] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-05-26 15:43:19.065 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-26 15:43:19.065 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 72.7616ms
2025-05-26 15:43:19.065 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-26 15:43:19.065 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 73.4236ms
2025-05-26 15:43:19.314 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/paged?pageNumber=1&pageSize=10&sortColumn=role&sortDirection=asc&searchQuery= - null null
2025-05-26 15:43:19.314 +02:00 [INF] CORS policy execution successful.
2025-05-26 15:43:19.314 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/paged?pageNumber=1&pageSize=10&sortColumn=role&sortDirection=asc&searchQuery= - 204 null null 0.4544ms
2025-05-26 15:43:19.317 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/paged?pageNumber=1&pageSize=10&sortColumn=role&sortDirection=asc&searchQuery= - null null
2025-05-26 15:43:19.317 +02:00 [INF] CORS policy execution successful.
2025-05-26 15:43:19.318 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetUsersPaged (backend)'
2025-05-26 15:43:19.318 +02:00 [INF] Route matched with {action = "GetUsersPaged", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersPaged(backend.Models.PagedRequest) on controller backend.Controllers.UserController (backend).
2025-05-26 15:43:19.347 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
INNER JOIN [AspNetUserRoles] AS [a0] ON [a].[Id] = [a0].[UserId]
INNER JOIN [AspNetRoles] AS [a1] ON [a0].[RoleId] = [a1].[Id]
LEFT JOIN [Admins] AS [a2] ON [a].[Id] = [a2].[UserId]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[UserId]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[UserId]
2025-05-26 15:43:19.374 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName], [a1].[Name] AS [RoleName], [a2].[Id], [a2].[FirstName], [a2].[LastName], [a2].[UserId], [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId], [s].[Id], [s].[ClassId], [s].[FirstName], [s].[LastName], [s].[UserId]
FROM [AspNetUsers] AS [a]
INNER JOIN [AspNetUserRoles] AS [a0] ON [a].[Id] = [a0].[UserId]
INNER JOIN [AspNetRoles] AS [a1] ON [a0].[RoleId] = [a1].[Id]
LEFT JOIN [Admins] AS [a2] ON [a].[Id] = [a2].[UserId]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[UserId]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[UserId]
ORDER BY [a1].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-26 15:43:19.375 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.PagedUsers'.
2025-05-26 15:43:19.375 +02:00 [INF] Executed action backend.Controllers.UserController.GetUsersPaged (backend) in 57.0452ms
2025-05-26 15:43:19.375 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetUsersPaged (backend)'
2025-05-26 15:43:19.375 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/paged?pageNumber=1&pageSize=10&sortColumn=role&sortDirection=asc&searchQuery= - 200 null application/json; charset=utf-8 58.4147ms
2025-05-26 15:43:23.428 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/teacher/all - null null
2025-05-26 15:43:23.429 +02:00 [INF] CORS policy execution successful.
2025-05-26 15:43:23.429 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/class/all - null null
2025-05-26 15:43:23.429 +02:00 [INF] CORS policy execution successful.
2025-05-26 15:43:23.429 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/teacher/all - 204 null null 0.7059ms
2025-05-26 15:43:23.429 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/class/all - 204 null null 1.0168ms
2025-05-26 15:43:23.431 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/class/all - null null
2025-05-26 15:43:23.432 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/teacher/all - null null
2025-05-26 15:43:23.432 +02:00 [INF] CORS policy execution successful.
2025-05-26 15:43:23.432 +02:00 [INF] CORS policy execution successful.
2025-05-26 15:43:23.433 +02:00 [INF] Executing endpoint 'backend.Controllers.TeacherController.GetTeachers (backend)'
2025-05-26 15:43:23.433 +02:00 [INF] Executing endpoint 'backend.Controllers.ClassController.GetClasses (backend)'
2025-05-26 15:43:23.437 +02:00 [INF] Route matched with {action = "GetTeachers", controller = "Teacher"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTeachers() on controller backend.Controllers.TeacherController (backend).
2025-05-26 15:43:23.437 +02:00 [INF] Route matched with {action = "GetClasses", controller = "Class"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClasses() on controller backend.Controllers.ClassController (backend).
2025-05-26 15:43:23.473 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
2025-05-26 15:43:23.473 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Classes] AS [c]
2025-05-26 15:43:23.473 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.TeacherDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 15:43:23.473 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.ClassDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 15:43:23.474 +02:00 [INF] Executed action backend.Controllers.TeacherController.GetTeachers (backend) in 36.281ms
2025-05-26 15:43:23.474 +02:00 [INF] Executed endpoint 'backend.Controllers.TeacherController.GetTeachers (backend)'
2025-05-26 15:43:23.474 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/teacher/all - 200 null application/json; charset=utf-8 41.8615ms
2025-05-26 15:43:23.474 +02:00 [INF] Executed action backend.Controllers.ClassController.GetClasses (backend) in 36.2575ms
2025-05-26 15:43:23.474 +02:00 [INF] Executed endpoint 'backend.Controllers.ClassController.GetClasses (backend)'
2025-05-26 15:43:23.474 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/class/all - 200 null application/json; charset=utf-8 42.6989ms
2025-05-26 15:43:25.158 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/subject/paged?pageNumber=1&pageSize=10&sortColumn=name&sortDirection=asc - null null
2025-05-26 15:43:25.159 +02:00 [INF] CORS policy execution successful.
2025-05-26 15:43:25.159 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/subject/paged?pageNumber=1&pageSize=10&sortColumn=name&sortDirection=asc - 204 null null 1.5112ms
2025-05-26 15:43:25.161 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/subject/paged?pageNumber=1&pageSize=10&sortColumn=name&sortDirection=asc - null null
2025-05-26 15:43:25.163 +02:00 [INF] CORS policy execution successful.
2025-05-26 15:43:25.163 +02:00 [INF] Executing endpoint 'backend.Controllers.SubjectController.GetSubjectsPaged (backend)'
2025-05-26 15:43:25.167 +02:00 [INF] Route matched with {action = "GetSubjectsPaged", controller = "Subject"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubjectsPaged(backend.Models.PagedRequest) on controller backend.Controllers.SubjectController (backend).
2025-05-26 15:43:25.199 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Subjects] AS [s]
2025-05-26 15:43:25.243 +02:00 [INF] Executed DbCommand (34ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name], [t].[CreatedAt], [t].[UpdatedAt], [t0].[ClassName], [t0].[TeacherFullName], [t0].[Id], [t0].[Id0], [t0].[Id1]
FROM (
    SELECT [s].[Id], [s].[Name], [s].[CreatedAt], [s].[UpdatedAt]
    FROM [Subjects] AS [s]
    ORDER BY [s].[Name]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [c0].[Name] AS [ClassName], [t1].[FirstName] + N' ' + [t1].[LastName] AS [TeacherFullName], [c].[Id], [c0].[Id] AS [Id0], [t1].[Id] AS [Id1], [c].[SubjectId]
    FROM [ClassSubjects] AS [c]
    INNER JOIN [Classes] AS [c0] ON [c].[ClassId] = [c0].[Id]
    INNER JOIN [Teachers] AS [t1] ON [c].[TeacherId] = [t1].[Id]
) AS [t0] ON [t].[Id] = [t0].[SubjectId]
ORDER BY [t].[Name], [t].[Id], [t0].[Id], [t0].[Id0]
2025-05-26 15:43:25.249 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.PagedSubjects'.
2025-05-26 15:43:25.253 +02:00 [INF] Executed action backend.Controllers.SubjectController.GetSubjectsPaged (backend) in 85.7554ms
2025-05-26 15:43:25.253 +02:00 [INF] Executed endpoint 'backend.Controllers.SubjectController.GetSubjectsPaged (backend)'
2025-05-26 15:43:25.253 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/subject/paged?pageNumber=1&pageSize=10&sortColumn=name&sortDirection=asc - 200 null application/json; charset=utf-8 92.0158ms
2025-05-26 15:43:58.484 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/class/all - null null
2025-05-26 15:43:58.484 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/teacher/all - null null
2025-05-26 15:43:58.484 +02:00 [INF] CORS policy execution successful.
2025-05-26 15:43:58.484 +02:00 [INF] CORS policy execution successful.
2025-05-26 15:43:58.485 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/teacher/all - 204 null null 1.023ms
2025-05-26 15:43:58.485 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/class/all - 204 null null 1.1675ms
2025-05-26 15:43:58.487 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/teacher/all - null null
2025-05-26 15:43:58.487 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/class/all - null null
2025-05-26 15:43:58.487 +02:00 [INF] CORS policy execution successful.
2025-05-26 15:43:58.487 +02:00 [INF] CORS policy execution successful.
2025-05-26 15:43:58.488 +02:00 [INF] Executing endpoint 'backend.Controllers.ClassController.GetClasses (backend)'
2025-05-26 15:43:58.488 +02:00 [INF] Executing endpoint 'backend.Controllers.TeacherController.GetTeachers (backend)'
2025-05-26 15:43:58.489 +02:00 [INF] Route matched with {action = "GetClasses", controller = "Class"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClasses() on controller backend.Controllers.ClassController (backend).
2025-05-26 15:43:58.489 +02:00 [INF] Route matched with {action = "GetTeachers", controller = "Teacher"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTeachers() on controller backend.Controllers.TeacherController (backend).
2025-05-26 15:43:58.518 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Classes] AS [c]
2025-05-26 15:43:58.518 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
2025-05-26 15:43:58.518 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.ClassDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 15:43:58.518 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.TeacherDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 15:43:58.518 +02:00 [INF] Executed action backend.Controllers.TeacherController.GetTeachers (backend) in 29.244ms
2025-05-26 15:43:58.518 +02:00 [INF] Executed endpoint 'backend.Controllers.TeacherController.GetTeachers (backend)'
2025-05-26 15:43:58.518 +02:00 [INF] Executed action backend.Controllers.ClassController.GetClasses (backend) in 29.4841ms
2025-05-26 15:43:58.518 +02:00 [INF] Executed endpoint 'backend.Controllers.ClassController.GetClasses (backend)'
2025-05-26 15:43:58.519 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/class/all - 200 null application/json; charset=utf-8 31.8363ms
2025-05-26 15:43:58.519 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/teacher/all - 200 null application/json; charset=utf-8 31.8872ms
2025-05-26 15:43:58.526 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/subject/4 - null null
2025-05-26 15:43:58.526 +02:00 [INF] CORS policy execution successful.
2025-05-26 15:43:58.526 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/subject/4 - 204 null null 0.1926ms
2025-05-26 15:43:58.527 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/subject/4 - null null
2025-05-26 15:43:58.527 +02:00 [INF] CORS policy execution successful.
2025-05-26 15:43:58.528 +02:00 [INF] Executing endpoint 'backend.Controllers.SubjectController.GetSubjectById (backend)'
2025-05-26 15:43:58.531 +02:00 [INF] Route matched with {action = "GetSubjectById", controller = "Subject"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubjectById(Int32) on controller backend.Controllers.SubjectController (backend).
2025-05-26 15:43:58.569 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name], [c].[ClassId], [c].[TeacherId], [c].[Id]
FROM (
    SELECT TOP(1) [s].[Id], [s].[Name]
    FROM [Subjects] AS [s]
    WHERE [s].[Id] = @__id_0
) AS [t]
LEFT JOIN [ClassSubjects] AS [c] ON [t].[Id] = [c].[SubjectId]
ORDER BY [t].[Id]
2025-05-26 15:43:58.570 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.SubjectDto'.
2025-05-26 15:43:58.570 +02:00 [INF] Executed action backend.Controllers.SubjectController.GetSubjectById (backend) in 38.9632ms
2025-05-26 15:43:58.570 +02:00 [INF] Executed endpoint 'backend.Controllers.SubjectController.GetSubjectById (backend)'
2025-05-26 15:43:58.570 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/subject/4 - 200 null application/json; charset=utf-8 42.9272ms
2025-05-26 15:44:12.536 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/subject/update - null null
2025-05-26 15:44:12.536 +02:00 [INF] CORS policy execution successful.
2025-05-26 15:44:12.538 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/subject/update - 204 null null 2.1913ms
2025-05-26 15:44:12.539 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5234/api/subject/update - application/json 129
2025-05-26 15:44:12.539 +02:00 [INF] CORS policy execution successful.
2025-05-26 15:44:12.539 +02:00 [INF] Executing endpoint 'backend.Controllers.SubjectController.UpdateSubjectWithAssignments (backend)'
2025-05-26 15:44:12.546 +02:00 [INF] Route matched with {action = "UpdateSubjectWithAssignments", controller = "Subject"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSubjectWithAssignments(backend.DTOs.SubjectDto) on controller backend.Controllers.SubjectController (backend).
2025-05-26 15:44:12.640 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__dto_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[CreatedAt], [s].[Name], [s].[UpdatedAt]
FROM [Subjects] AS [s]
WHERE [s].[Id] = @__dto_Id_0
2025-05-26 15:44:12.670 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__dto_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassId], [c].[SubjectId], [c].[TeacherId]
FROM [ClassSubjects] AS [c]
WHERE [c].[SubjectId] = @__dto_Id_0
2025-05-26 15:44:12.777 +02:00 [INF] Executed DbCommand (32ms) [Parameters=[@p0='?' (DbType = Int32), @p4='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [ClassSubjects]
OUTPUT 1
WHERE [Id] = @p0;
UPDATE [Subjects] SET [CreatedAt] = @p1, [Name] = @p2, [UpdatedAt] = @p3
OUTPUT 1
WHERE [Id] = @p4;
MERGE [ClassSubjects] USING (
VALUES (@p5, @p6, @p7, 0),
(@p8, @p9, @p10, 1),
(@p11, @p12, @p13, 2)) AS i ([ClassId], [SubjectId], [TeacherId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([ClassId], [SubjectId], [TeacherId])
VALUES (i.[ClassId], i.[SubjectId], i.[TeacherId])
OUTPUT INSERTED.[Id], i._Position;
2025-05-26 15:44:12.818 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-26 15:44:12.819 +02:00 [INF] Executed action backend.Controllers.SubjectController.UpdateSubjectWithAssignments (backend) in 273.4314ms
2025-05-26 15:44:12.819 +02:00 [INF] Executed endpoint 'backend.Controllers.SubjectController.UpdateSubjectWithAssignments (backend)'
2025-05-26 15:44:12.819 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5234/api/subject/update - 200 null application/json; charset=utf-8 280.5644ms
2025-05-26 15:44:12.834 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/subject/paged?pageNumber=1&pageSize=10&sortColumn=name&sortDirection=asc - null null
2025-05-26 15:44:12.834 +02:00 [INF] CORS policy execution successful.
2025-05-26 15:44:12.835 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/subject/paged?pageNumber=1&pageSize=10&sortColumn=name&sortDirection=asc - 204 null null 0.2447ms
2025-05-26 15:44:12.837 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/subject/paged?pageNumber=1&pageSize=10&sortColumn=name&sortDirection=asc - null null
2025-05-26 15:44:12.838 +02:00 [INF] CORS policy execution successful.
2025-05-26 15:44:12.838 +02:00 [INF] Executing endpoint 'backend.Controllers.SubjectController.GetSubjectsPaged (backend)'
2025-05-26 15:44:12.838 +02:00 [INF] Route matched with {action = "GetSubjectsPaged", controller = "Subject"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubjectsPaged(backend.Models.PagedRequest) on controller backend.Controllers.SubjectController (backend).
2025-05-26 15:44:12.862 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Subjects] AS [s]
2025-05-26 15:44:12.887 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name], [t].[CreatedAt], [t].[UpdatedAt], [t0].[ClassName], [t0].[TeacherFullName], [t0].[Id], [t0].[Id0], [t0].[Id1]
FROM (
    SELECT [s].[Id], [s].[Name], [s].[CreatedAt], [s].[UpdatedAt]
    FROM [Subjects] AS [s]
    ORDER BY [s].[Name]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [c0].[Name] AS [ClassName], [t1].[FirstName] + N' ' + [t1].[LastName] AS [TeacherFullName], [c].[Id], [c0].[Id] AS [Id0], [t1].[Id] AS [Id1], [c].[SubjectId]
    FROM [ClassSubjects] AS [c]
    INNER JOIN [Classes] AS [c0] ON [c].[ClassId] = [c0].[Id]
    INNER JOIN [Teachers] AS [t1] ON [c].[TeacherId] = [t1].[Id]
) AS [t0] ON [t].[Id] = [t0].[SubjectId]
ORDER BY [t].[Name], [t].[Id], [t0].[Id], [t0].[Id0]
2025-05-26 15:44:12.887 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.PagedSubjects'.
2025-05-26 15:44:12.887 +02:00 [INF] Executed action backend.Controllers.SubjectController.GetSubjectsPaged (backend) in 49.0508ms
2025-05-26 15:44:12.887 +02:00 [INF] Executed endpoint 'backend.Controllers.SubjectController.GetSubjectsPaged (backend)'
2025-05-26 15:44:12.887 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/subject/paged?pageNumber=1&pageSize=10&sortColumn=name&sortDirection=asc - 200 null application/json; charset=utf-8 49.7602ms
2025-05-26 15:44:20.740 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/classes-with-schedule - null null
2025-05-26 15:44:20.740 +02:00 [INF] CORS policy execution successful.
2025-05-26 15:44:20.741 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/classes-with-schedule - 204 null null 0.6735ms
2025-05-26 15:44:20.742 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/classes-with-schedule - null null
2025-05-26 15:44:20.743 +02:00 [INF] CORS policy execution successful.
2025-05-26 15:44:20.743 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetClassesWithSchedule (backend)'
2025-05-26 15:44:20.744 +02:00 [INF] Route matched with {action = "GetClassesWithSchedule", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClassesWithSchedule() on controller backend.Controllers.ScheduleController (backend).
2025-05-26 15:44:20.773 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], (
    SELECT COUNT(*)
    FROM [Schedules] AS [s]
    WHERE [c].[Id] = [s].[ClassId]) AS [EntryCount]
FROM [Classes] AS [c]
ORDER BY [c].[Name]
2025-05-26 15:44:20.773 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.ClassWithScheduleDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 15:44:20.773 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetClassesWithSchedule (backend) in 29.4171ms
2025-05-26 15:44:20.773 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetClassesWithSchedule (backend)'
2025-05-26 15:44:20.773 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/classes-with-schedule - 200 null application/json; charset=utf-8 31.0981ms
2025-05-26 15:44:25.627 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4 - null null
2025-05-26 15:44:25.628 +02:00 [INF] CORS policy execution successful.
2025-05-26 15:44:25.628 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4 - 204 null null 0.5419ms
2025-05-26 15:44:25.628 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4/subjects - null null
2025-05-26 15:44:25.628 +02:00 [INF] CORS policy execution successful.
2025-05-26 15:44:25.628 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4/subjects - 204 null null 0.1728ms
2025-05-26 15:44:25.630 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/class/4 - null null
2025-05-26 15:44:25.630 +02:00 [INF] CORS policy execution successful.
2025-05-26 15:44:25.630 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetScheduleForClass (backend)'
2025-05-26 15:44:25.631 +02:00 [INF] Route matched with {action = "GetScheduleForClass", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetScheduleForClass(Int32) on controller backend.Controllers.ScheduleController (backend).
2025-05-26 15:44:25.635 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/class/4/subjects - null null
2025-05-26 15:44:25.635 +02:00 [INF] CORS policy execution successful.
2025-05-26 15:44:25.635 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetSubjectsForClass (backend)'
2025-05-26 15:44:25.636 +02:00 [INF] Route matched with {action = "GetSubjectsForClass", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubjectsForClass(Int32) on controller backend.Controllers.ScheduleController (backend).
2025-05-26 15:44:25.658 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[HomeroomTeacherId], [t].[Name], [t].[UpdatedAt], [t0].[Id], [t0].[ClassId], [t0].[CreatedAt], [t0].[DayOfWeek], [t0].[StartTime], [t0].[SubjectId], [t0].[TeacherId], [t0].[UpdatedAt], [t0].[Id0], [t0].[CreatedAt0], [t0].[Name], [t0].[UpdatedAt0], [t0].[Id1], [t0].[FirstName], [t0].[LastName], [t0].[UserId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[CreatedAt], [c].[HomeroomTeacherId], [c].[Name], [c].[UpdatedAt]
    FROM [Classes] AS [c]
    WHERE [c].[Id] = @__classId_0
) AS [t]
LEFT JOIN (
    SELECT [s].[Id], [s].[ClassId], [s].[CreatedAt], [s].[DayOfWeek], [s].[StartTime], [s].[SubjectId], [s].[TeacherId], [s].[UpdatedAt], [s0].[Id] AS [Id0], [s0].[CreatedAt] AS [CreatedAt0], [s0].[Name], [s0].[UpdatedAt] AS [UpdatedAt0], [t1].[Id] AS [Id1], [t1].[FirstName], [t1].[LastName], [t1].[UserId]
    FROM [Schedules] AS [s]
    INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
    INNER JOIN [Teachers] AS [t1] ON [s].[TeacherId] = [t1].[Id]
) AS [t0] ON [t].[Id] = [t0].[ClassId]
ORDER BY [t].[Id], [t0].[Id], [t0].[Id0]
2025-05-26 15:44:25.659 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[CreatedAt], [s].[Name], [s].[UpdatedAt], [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [ClassSubjects] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Teachers] AS [t] ON [c].[TeacherId] = [t].[Id]
WHERE [c].[ClassId] = @__classId_0
2025-05-26 15:44:25.659 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.ScheduleForClassDto'.
2025-05-26 15:44:25.660 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetScheduleForClass (backend) in 27.6383ms
2025-05-26 15:44:25.660 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetScheduleForClass (backend)'
2025-05-26 15:44:25.660 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/class/4 - 200 null application/json; charset=utf-8 30.0749ms
2025-05-26 15:44:25.660 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.SubjectWithTeachersDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 15:44:25.660 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetSubjectsForClass (backend) in 24.5245ms
2025-05-26 15:44:25.660 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetSubjectsForClass (backend)'
2025-05-26 15:44:25.660 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/class/4/subjects - 200 null application/json; charset=utf-8 25.6294ms
2025-05-26 15:44:37.215 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/add-entry - null null
2025-05-26 15:44:37.215 +02:00 [INF] CORS policy execution successful.
2025-05-26 15:44:37.215 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/add-entry - 204 null null 0.3736ms
2025-05-26 15:44:37.217 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5234/api/schedule/add-entry - application/json 87
2025-05-26 15:44:37.217 +02:00 [INF] CORS policy execution successful.
2025-05-26 15:44:37.218 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.AddEntry (backend)'
2025-05-26 15:44:37.222 +02:00 [INF] Route matched with {action = "AddEntry", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddEntry(backend.DTOs.ScheduleEntryDto) on controller backend.Controllers.ScheduleController (backend).
2025-05-26 15:44:37.272 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CreatedAt], [c].[HomeroomTeacherId], [c].[Name], [c].[UpdatedAt]
FROM [Classes] AS [c]
WHERE [c].[Id] = @__p_0
2025-05-26 15:44:37.299 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[CreatedAt], [s].[Name], [s].[UpdatedAt]
FROM [Subjects] AS [s]
WHERE [s].[Id] = @__p_0
2025-05-26 15:44:37.326 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[Id] = @__p_0
2025-05-26 15:44:37.367 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@__dto_ClassId_0='?' (DbType = Int32), @__dto_DayOfWeek_1='?' (DbType = Int32), @__Parse_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Schedules] AS [s]
        WHERE [s].[ClassId] = @__dto_ClassId_0 AND [s].[DayOfWeek] = @__dto_DayOfWeek_1 AND [s].[StartTime] = @__Parse_2) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-05-26 15:44:37.416 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Time), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Schedules] ([ClassId], [CreatedAt], [DayOfWeek], [StartTime], [SubjectId], [TeacherId], [UpdatedAt])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-05-26 15:44:37.419 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.ScheduleEntryDto'.
2025-05-26 15:44:37.419 +02:00 [INF] Executed action backend.Controllers.ScheduleController.AddEntry (backend) in 197.1648ms
2025-05-26 15:44:37.419 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.AddEntry (backend)'
2025-05-26 15:44:37.419 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5234/api/schedule/add-entry - 200 null application/json; charset=utf-8 202.4321ms
2025-05-26 15:44:41.174 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/subject/paged?pageNumber=1&pageSize=10&sortColumn=name&sortDirection=asc - null null
2025-05-26 15:44:41.174 +02:00 [INF] CORS policy execution successful.
2025-05-26 15:44:41.174 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/subject/paged?pageNumber=1&pageSize=10&sortColumn=name&sortDirection=asc - 204 null null 0.7585ms
2025-05-26 15:44:41.175 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/subject/paged?pageNumber=1&pageSize=10&sortColumn=name&sortDirection=asc - null null
2025-05-26 15:44:41.176 +02:00 [INF] CORS policy execution successful.
2025-05-26 15:44:41.176 +02:00 [INF] Executing endpoint 'backend.Controllers.SubjectController.GetSubjectsPaged (backend)'
2025-05-26 15:44:41.176 +02:00 [INF] Route matched with {action = "GetSubjectsPaged", controller = "Subject"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubjectsPaged(backend.Models.PagedRequest) on controller backend.Controllers.SubjectController (backend).
2025-05-26 15:44:41.201 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Subjects] AS [s]
2025-05-26 15:44:41.224 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name], [t].[CreatedAt], [t].[UpdatedAt], [t0].[ClassName], [t0].[TeacherFullName], [t0].[Id], [t0].[Id0], [t0].[Id1]
FROM (
    SELECT [s].[Id], [s].[Name], [s].[CreatedAt], [s].[UpdatedAt]
    FROM [Subjects] AS [s]
    ORDER BY [s].[Name]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [c0].[Name] AS [ClassName], [t1].[FirstName] + N' ' + [t1].[LastName] AS [TeacherFullName], [c].[Id], [c0].[Id] AS [Id0], [t1].[Id] AS [Id1], [c].[SubjectId]
    FROM [ClassSubjects] AS [c]
    INNER JOIN [Classes] AS [c0] ON [c].[ClassId] = [c0].[Id]
    INNER JOIN [Teachers] AS [t1] ON [c].[TeacherId] = [t1].[Id]
) AS [t0] ON [t].[Id] = [t0].[SubjectId]
ORDER BY [t].[Name], [t].[Id], [t0].[Id], [t0].[Id0]
2025-05-26 15:44:41.225 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.PagedSubjects'.
2025-05-26 15:44:41.225 +02:00 [INF] Executed action backend.Controllers.SubjectController.GetSubjectsPaged (backend) in 48.4296ms
2025-05-26 15:44:41.225 +02:00 [INF] Executed endpoint 'backend.Controllers.SubjectController.GetSubjectsPaged (backend)'
2025-05-26 15:44:41.225 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/subject/paged?pageNumber=1&pageSize=10&sortColumn=name&sortDirection=asc - 200 null application/json; charset=utf-8 49.6697ms
2025-05-26 15:44:42.439 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/classes-with-schedule - null null
2025-05-26 15:44:42.439 +02:00 [INF] CORS policy execution successful.
2025-05-26 15:44:42.439 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/classes-with-schedule - 204 null null 0.3009ms
2025-05-26 15:44:42.440 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/classes-with-schedule - null null
2025-05-26 15:44:42.440 +02:00 [INF] CORS policy execution successful.
2025-05-26 15:44:42.441 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetClassesWithSchedule (backend)'
2025-05-26 15:44:42.441 +02:00 [INF] Route matched with {action = "GetClassesWithSchedule", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClassesWithSchedule() on controller backend.Controllers.ScheduleController (backend).
2025-05-26 15:44:42.475 +02:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], (
    SELECT COUNT(*)
    FROM [Schedules] AS [s]
    WHERE [c].[Id] = [s].[ClassId]) AS [EntryCount]
FROM [Classes] AS [c]
ORDER BY [c].[Name]
2025-05-26 15:44:42.476 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.ClassWithScheduleDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 15:44:42.476 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetClassesWithSchedule (backend) in 35.3025ms
2025-05-26 15:44:42.476 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetClassesWithSchedule (backend)'
2025-05-26 15:44:42.476 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/classes-with-schedule - 200 null application/json; charset=utf-8 36.3024ms
2025-05-26 15:44:44.775 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/5 - null null
2025-05-26 15:44:44.775 +02:00 [INF] CORS policy execution successful.
2025-05-26 15:44:44.775 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/5 - 204 null null 0.3245ms
2025-05-26 15:44:44.776 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/5/subjects - null null
2025-05-26 15:44:44.776 +02:00 [INF] CORS policy execution successful.
2025-05-26 15:44:44.776 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/5/subjects - 204 null null 0.2333ms
2025-05-26 15:44:44.777 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/class/5 - null null
2025-05-26 15:44:44.777 +02:00 [INF] CORS policy execution successful.
2025-05-26 15:44:44.778 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetScheduleForClass (backend)'
2025-05-26 15:44:44.778 +02:00 [INF] Route matched with {action = "GetScheduleForClass", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetScheduleForClass(Int32) on controller backend.Controllers.ScheduleController (backend).
2025-05-26 15:44:44.781 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/class/5/subjects - null null
2025-05-26 15:44:44.781 +02:00 [INF] CORS policy execution successful.
2025-05-26 15:44:44.782 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetSubjectsForClass (backend)'
2025-05-26 15:44:44.782 +02:00 [INF] Route matched with {action = "GetSubjectsForClass", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubjectsForClass(Int32) on controller backend.Controllers.ScheduleController (backend).
2025-05-26 15:44:44.812 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[CreatedAt], [s].[Name], [s].[UpdatedAt], [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [ClassSubjects] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Teachers] AS [t] ON [c].[TeacherId] = [t].[Id]
WHERE [c].[ClassId] = @__classId_0
2025-05-26 15:44:44.812 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[HomeroomTeacherId], [t].[Name], [t].[UpdatedAt], [t0].[Id], [t0].[ClassId], [t0].[CreatedAt], [t0].[DayOfWeek], [t0].[StartTime], [t0].[SubjectId], [t0].[TeacherId], [t0].[UpdatedAt], [t0].[Id0], [t0].[CreatedAt0], [t0].[Name], [t0].[UpdatedAt0], [t0].[Id1], [t0].[FirstName], [t0].[LastName], [t0].[UserId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[CreatedAt], [c].[HomeroomTeacherId], [c].[Name], [c].[UpdatedAt]
    FROM [Classes] AS [c]
    WHERE [c].[Id] = @__classId_0
) AS [t]
LEFT JOIN (
    SELECT [s].[Id], [s].[ClassId], [s].[CreatedAt], [s].[DayOfWeek], [s].[StartTime], [s].[SubjectId], [s].[TeacherId], [s].[UpdatedAt], [s0].[Id] AS [Id0], [s0].[CreatedAt] AS [CreatedAt0], [s0].[Name], [s0].[UpdatedAt] AS [UpdatedAt0], [t1].[Id] AS [Id1], [t1].[FirstName], [t1].[LastName], [t1].[UserId]
    FROM [Schedules] AS [s]
    INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
    INNER JOIN [Teachers] AS [t1] ON [s].[TeacherId] = [t1].[Id]
) AS [t0] ON [t].[Id] = [t0].[ClassId]
ORDER BY [t].[Id], [t0].[Id], [t0].[Id0]
2025-05-26 15:44:44.813 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.ScheduleForClassDto'.
2025-05-26 15:44:44.813 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.SubjectWithTeachersDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 15:44:44.813 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetScheduleForClass (backend) in 34.5813ms
2025-05-26 15:44:44.813 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetSubjectsForClass (backend) in 29.741ms
2025-05-26 15:44:44.813 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetScheduleForClass (backend)'
2025-05-26 15:44:44.813 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetSubjectsForClass (backend)'
2025-05-26 15:44:44.813 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/class/5 - 200 null application/json; charset=utf-8 35.9775ms
2025-05-26 15:44:44.813 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/class/5/subjects - 200 null application/json; charset=utf-8 32.2262ms
2025-05-26 15:44:53.395 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/add-entry - null null
2025-05-26 15:44:53.396 +02:00 [INF] CORS policy execution successful.
2025-05-26 15:44:53.396 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/add-entry - 204 null null 1.4252ms
2025-05-26 15:44:53.397 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5234/api/schedule/add-entry - application/json 87
2025-05-26 15:44:53.397 +02:00 [INF] CORS policy execution successful.
2025-05-26 15:44:53.397 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.AddEntry (backend)'
2025-05-26 15:44:53.398 +02:00 [INF] Route matched with {action = "AddEntry", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddEntry(backend.DTOs.ScheduleEntryDto) on controller backend.Controllers.ScheduleController (backend).
2025-05-26 15:44:53.435 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CreatedAt], [c].[HomeroomTeacherId], [c].[Name], [c].[UpdatedAt]
FROM [Classes] AS [c]
WHERE [c].[Id] = @__p_0
2025-05-26 15:44:53.459 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[CreatedAt], [s].[Name], [s].[UpdatedAt]
FROM [Subjects] AS [s]
WHERE [s].[Id] = @__p_0
2025-05-26 15:44:53.483 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[Id] = @__p_0
2025-05-26 15:44:53.507 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__dto_ClassId_0='?' (DbType = Int32), @__dto_DayOfWeek_1='?' (DbType = Int32), @__Parse_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Schedules] AS [s]
        WHERE [s].[ClassId] = @__dto_ClassId_0 AND [s].[DayOfWeek] = @__dto_DayOfWeek_1 AND [s].[StartTime] = @__Parse_2) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-05-26 15:44:53.535 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Time), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Schedules] ([ClassId], [CreatedAt], [DayOfWeek], [StartTime], [SubjectId], [TeacherId], [UpdatedAt])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-05-26 15:44:53.537 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.ScheduleEntryDto'.
2025-05-26 15:44:53.537 +02:00 [INF] Executed action backend.Controllers.ScheduleController.AddEntry (backend) in 139.2054ms
2025-05-26 15:44:53.537 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.AddEntry (backend)'
2025-05-26 15:44:53.537 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5234/api/schedule/add-entry - 200 null application/json; charset=utf-8 140.209ms
2025-05-26 15:44:57.446 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/roles - null null
2025-05-26 15:44:57.447 +02:00 [INF] CORS policy execution successful.
2025-05-26 15:44:57.447 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/roles - 204 null null 0.462ms
2025-05-26 15:44:57.449 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/roles - null null
2025-05-26 15:44:57.449 +02:00 [INF] CORS policy execution successful.
2025-05-26 15:44:57.449 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetRoles (backend)'
2025-05-26 15:44:57.450 +02:00 [INF] Route matched with {action = "GetRoles", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRoles() on controller backend.Controllers.UserController (backend).
2025-05-26 15:44:57.480 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE([a].[Name], N'') AS [Name]
FROM [AspNetRoles] AS [a]
2025-05-26 15:44:57.481 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.Models.Role, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 15:44:57.481 +02:00 [INF] Executed action backend.Controllers.UserController.GetRoles (backend) in 31.1357ms
2025-05-26 15:44:57.481 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetRoles (backend)'
2025-05-26 15:44:57.481 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/roles - 200 null application/json; charset=utf-8 32.4851ms
2025-05-26 15:44:57.753 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/paged?pageNumber=1&pageSize=10&sortColumn=role&sortDirection=asc&searchQuery= - null null
2025-05-26 15:44:57.754 +02:00 [INF] CORS policy execution successful.
2025-05-26 15:44:57.754 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/paged?pageNumber=1&pageSize=10&sortColumn=role&sortDirection=asc&searchQuery= - 204 null null 0.3705ms
2025-05-26 15:44:57.755 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/paged?pageNumber=1&pageSize=10&sortColumn=role&sortDirection=asc&searchQuery= - null null
2025-05-26 15:44:57.755 +02:00 [INF] CORS policy execution successful.
2025-05-26 15:44:57.755 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetUsersPaged (backend)'
2025-05-26 15:44:57.755 +02:00 [INF] Route matched with {action = "GetUsersPaged", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersPaged(backend.Models.PagedRequest) on controller backend.Controllers.UserController (backend).
2025-05-26 15:44:57.789 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
INNER JOIN [AspNetUserRoles] AS [a0] ON [a].[Id] = [a0].[UserId]
INNER JOIN [AspNetRoles] AS [a1] ON [a0].[RoleId] = [a1].[Id]
LEFT JOIN [Admins] AS [a2] ON [a].[Id] = [a2].[UserId]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[UserId]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[UserId]
2025-05-26 15:44:57.816 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName], [a1].[Name] AS [RoleName], [a2].[Id], [a2].[FirstName], [a2].[LastName], [a2].[UserId], [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId], [s].[Id], [s].[ClassId], [s].[FirstName], [s].[LastName], [s].[UserId]
FROM [AspNetUsers] AS [a]
INNER JOIN [AspNetUserRoles] AS [a0] ON [a].[Id] = [a0].[UserId]
INNER JOIN [AspNetRoles] AS [a1] ON [a0].[RoleId] = [a1].[Id]
LEFT JOIN [Admins] AS [a2] ON [a].[Id] = [a2].[UserId]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[UserId]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[UserId]
ORDER BY [a1].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-26 15:44:57.817 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.PagedUsers'.
2025-05-26 15:44:57.817 +02:00 [INF] Executed action backend.Controllers.UserController.GetUsersPaged (backend) in 61.8355ms
2025-05-26 15:44:57.817 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetUsersPaged (backend)'
2025-05-26 15:44:57.817 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/paged?pageNumber=1&pageSize=10&sortColumn=role&sortDirection=asc&searchQuery= - 200 null application/json; charset=utf-8 62.794ms
2025-05-26 15:45:08.295 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/auth/login - null null
2025-05-26 15:45:08.296 +02:00 [INF] CORS policy execution successful.
2025-05-26 15:45:08.296 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/auth/login - 204 null null 1.476ms
2025-05-26 15:45:08.299 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5234/api/auth/login - application/json 54
2025-05-26 15:45:08.300 +02:00 [INF] CORS policy execution successful.
2025-05-26 15:45:08.300 +02:00 [INF] Executing endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-05-26 15:45:08.300 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(backend.DTOs.Login) on controller backend.Controllers.AuthController (backend).
2025-05-26 15:45:08.326 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-05-26 15:45:08.418 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-05-26 15:45:08.441 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-26 15:45:08.465 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-26 15:45:08.488 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-26 15:45:08.489 +02:00 [INF] AuthenticationScheme: Identity.Application signed in.
2025-05-26 15:45:08.514 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-05-26 15:45:08.515 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.Threading.Tasks.Task`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-26 15:45:08.537 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-26 15:45:08.561 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-05-26 15:45:08.588 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[@p20='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p21='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32), @p18='?' (DbType = Boolean), @p19='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [AdminId] = @p1, [ConcurrencyStamp] = @p2, [DateAdded] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastSuccessfulLogin] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [SecurityStamp] = @p15, [StudentId] = @p16, [TeacherId] = @p17, [TwoFactorEnabled] = @p18, [UserName] = @p19
OUTPUT 1
WHERE [Id] = @p20 AND [ConcurrencyStamp] = @p21;
2025-05-26 15:45:08.588 +02:00 [INF] Executed action backend.Controllers.AuthController.Login (backend) in 288.485ms
2025-05-26 15:45:08.588 +02:00 [INF] Executed endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-05-26 15:45:08.588 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5234/api/auth/login - 200 null application/json; charset=utf-8 289.2369ms
2025-05-26 15:45:08.593 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-26 15:45:08.593 +02:00 [INF] CORS policy execution successful.
2025-05-26 15:45:08.593 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 0.1717ms
2025-05-26 15:45:08.594 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-26 15:45:08.594 +02:00 [INF] CORS policy execution successful.
2025-05-26 15:45:08.596 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-26 15:45:08.596 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-26 15:45:08.607 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/teacher/d2f5cf82-b1bb-44b9-8171-f8f7fbb1a6f6 - null null
2025-05-26 15:45:08.607 +02:00 [INF] CORS policy execution successful.
2025-05-26 15:45:08.607 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/teacher/d2f5cf82-b1bb-44b9-8171-f8f7fbb1a6f6 - 204 null null 0.3346ms
2025-05-26 15:45:08.608 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/teacher/d2f5cf82-b1bb-44b9-8171-f8f7fbb1a6f6 - null null
2025-05-26 15:45:08.609 +02:00 [INF] CORS policy execution successful.
2025-05-26 15:45:08.609 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetScheduleForTeacher (backend)'
2025-05-26 15:45:08.610 +02:00 [INF] Route matched with {action = "GetScheduleForTeacher", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetScheduleForTeacher(System.String) on controller backend.Controllers.ScheduleController (backend).
2025-05-26 15:45:08.623 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-26 15:45:08.635 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__userId_0
2025-05-26 15:45:08.646 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-26 15:45:08.660 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__teacher_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[DayOfWeek], [s].[StartTime], [c].[Name], [s0].[Name]
FROM [Schedules] AS [s]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
WHERE [s].[TeacherId] = @__teacher_Id_0
ORDER BY [s].[DayOfWeek], [s].[StartTime]
2025-05-26 15:45:08.660 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.TeacherScheduleEntryDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 15:45:08.660 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetScheduleForTeacher (backend) in 50.3785ms
2025-05-26 15:45:08.660 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetScheduleForTeacher (backend)'
2025-05-26 15:45:08.660 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/teacher/d2f5cf82-b1bb-44b9-8171-f8f7fbb1a6f6 - 200 null application/json; charset=utf-8 51.8366ms
2025-05-26 15:45:08.670 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-26 15:45:08.670 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-26 15:45:08.670 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 74.4342ms
2025-05-26 15:45:08.670 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-26 15:45:08.670 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 76.7314ms
2025-05-26 15:45:15.453 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - null null
2025-05-26 15:45:15.453 +02:00 [INF] CORS policy execution successful.
2025-05-26 15:45:15.453 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - 204 null null 0.324ms
2025-05-26 15:45:15.454 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - null null
2025-05-26 15:45:15.454 +02:00 [INF] CORS policy execution successful.
2025-05-26 15:45:15.455 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-26 15:45:15.455 +02:00 [INF] Route matched with {action = "GetTodayLessons", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTodayLessons() on controller backend.Controllers.AttendanceController (backend).
2025-05-26 15:45:15.483 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-26 15:45:15.507 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__teacherId_0='?' (DbType = Int32), @__today_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s0].[Name], [c].[Name], [s].[StartTime], CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Attendances] AS [a]
        WHERE [a].[ScheduleId] = [s].[Id] AND CONVERT(date, [a].[Date]) = CONVERT(date, GETDATE())) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
FROM [Schedules] AS [s]
INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
WHERE [s].[TeacherId] = @__teacherId_0 AND [s].[DayOfWeek] = @__today_1
ORDER BY [s].[StartTime]
2025-05-26 15:45:15.508 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.LessonForAttendanceDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 15:45:15.508 +02:00 [INF] Executed action backend.Controllers.AttendanceController.GetTodayLessons (backend) in 52.5365ms
2025-05-26 15:45:15.508 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-26 15:45:15.508 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - 200 null application/json; charset=utf-8 54.4397ms
2025-05-26 15:59:01.063 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - null null
2025-05-26 15:59:01.071 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-26 15:59:01.071 +02:00 [INF] CORS policy execution successful.
2025-05-26 15:59:01.071 +02:00 [INF] CORS policy execution successful.
2025-05-26 15:59:01.072 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 1.4468ms
2025-05-26 15:59:01.072 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - 204 null null 8.99ms
2025-05-26 15:59:01.125 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-26 15:59:01.127 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - null null
2025-05-26 15:59:01.142 +02:00 [INF] CORS policy execution successful.
2025-05-26 15:59:01.144 +02:00 [INF] CORS policy execution successful.
2025-05-26 15:59:01.166 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-26 15:59:01.166 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-26 15:59:01.166 +02:00 [INF] Route matched with {action = "GetTodayLessons", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTodayLessons() on controller backend.Controllers.AttendanceController (backend).
2025-05-26 15:59:01.166 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-26 15:59:01.333 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-26 15:59:01.383 +02:00 [INF] Executed DbCommand (48ms) [Parameters=[@__teacherId_0='?' (DbType = Int32), @__today_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s0].[Name], [c].[Name], [s].[StartTime], CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Attendances] AS [a]
        WHERE [a].[ScheduleId] = [s].[Id] AND CONVERT(date, [a].[Date]) = CONVERT(date, GETDATE())) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
FROM [Schedules] AS [s]
INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
WHERE [s].[TeacherId] = @__teacherId_0 AND [s].[DayOfWeek] = @__today_1
ORDER BY [s].[StartTime]
2025-05-26 15:59:01.383 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.LessonForAttendanceDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 15:59:01.384 +02:00 [INF] Executed action backend.Controllers.AttendanceController.GetTodayLessons (backend) in 217.0197ms
2025-05-26 15:59:01.384 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-26 15:59:01.384 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - 200 null application/json; charset=utf-8 259.2602ms
2025-05-26 15:59:01.527 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-26 15:59:01.550 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-26 15:59:01.574 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-26 15:59:01.574 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-26 15:59:01.574 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 407.7566ms
2025-05-26 15:59:01.574 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-26 15:59:01.574 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 449.4725ms
2025-05-26 16:55:00.564 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/teacher/d2f5cf82-b1bb-44b9-8171-f8f7fbb1a6f6 - null null
2025-05-26 16:55:00.566 +02:00 [INF] CORS policy execution successful.
2025-05-26 16:55:00.566 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/teacher/d2f5cf82-b1bb-44b9-8171-f8f7fbb1a6f6 - 204 null null 2.6196ms
2025-05-26 16:55:00.568 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/teacher/d2f5cf82-b1bb-44b9-8171-f8f7fbb1a6f6 - null null
2025-05-26 16:55:00.568 +02:00 [INF] CORS policy execution successful.
2025-05-26 16:55:00.575 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetScheduleForTeacher (backend)'
2025-05-26 16:55:00.576 +02:00 [INF] Route matched with {action = "GetScheduleForTeacher", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetScheduleForTeacher(System.String) on controller backend.Controllers.ScheduleController (backend).
2025-05-26 16:55:00.805 +02:00 [INF] Executed DbCommand (32ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__userId_0
2025-05-26 16:55:00.839 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[@__teacher_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[DayOfWeek], [s].[StartTime], [c].[Name], [s0].[Name]
FROM [Schedules] AS [s]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
WHERE [s].[TeacherId] = @__teacher_Id_0
ORDER BY [s].[DayOfWeek], [s].[StartTime]
2025-05-26 16:55:00.840 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.TeacherScheduleEntryDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 16:55:00.840 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetScheduleForTeacher (backend) in 263.926ms
2025-05-26 16:55:00.840 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetScheduleForTeacher (backend)'
2025-05-26 16:55:00.840 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/teacher/d2f5cf82-b1bb-44b9-8171-f8f7fbb1a6f6 - 200 null application/json; charset=utf-8 272.3604ms
2025-05-26 16:55:11.417 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - null null
2025-05-26 16:55:11.417 +02:00 [INF] CORS policy execution successful.
2025-05-26 16:55:11.417 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - 204 null null 0.3314ms
2025-05-26 16:55:11.418 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - null null
2025-05-26 16:55:11.418 +02:00 [INF] CORS policy execution successful.
2025-05-26 16:55:11.419 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-26 16:55:11.420 +02:00 [INF] Route matched with {action = "GetTodayLessons", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTodayLessons() on controller backend.Controllers.AttendanceController (backend).
2025-05-26 16:55:11.459 +02:00 [INF] Executed DbCommand (37ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-26 16:55:11.493 +02:00 [INF] Executed DbCommand (32ms) [Parameters=[@__teacherId_0='?' (DbType = Int32), @__today_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s0].[Name], [c].[Name], [s].[StartTime], CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Attendances] AS [a]
        WHERE [a].[ScheduleId] = [s].[Id] AND CONVERT(date, [a].[Date]) = CONVERT(date, GETDATE())) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
FROM [Schedules] AS [s]
INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
WHERE [s].[TeacherId] = @__teacherId_0 AND [s].[DayOfWeek] = @__today_1
ORDER BY [s].[StartTime]
2025-05-26 16:55:11.493 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.LessonForAttendanceDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 16:55:11.493 +02:00 [INF] Executed action backend.Controllers.AttendanceController.GetTodayLessons (backend) in 73.5851ms
2025-05-26 16:55:11.493 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-26 16:55:11.494 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - 200 null application/json; charset=utf-8 75.3071ms
2025-05-26 17:00:47.737 +02:00 [INF] Application is starting
2025-05-26 17:00:47.788 +02:00 [INF] User profile is available. Using '/Users/pawelstaniul/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-05-26 17:00:47.819 +02:00 [WRN] The WebRootPath was not found: /Users/pawelstaniul/Desktop/Programy/school-logbook/backend/wwwroot. Static files may be unavailable.
2025-05-26 17:00:47.834 +02:00 [INF] Now listening on: http://localhost:5234
2025-05-26 17:00:47.835 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-26 17:00:47.836 +02:00 [INF] Hosting environment: Development
2025-05-26 17:00:47.836 +02:00 [INF] Content root path: /Users/pawelstaniul/Desktop/Programy/school-logbook/backend
2025-05-26 17:03:50.591 +02:00 [INF] Application is shutting down...
2025-05-26 17:05:04.253 +02:00 [FTL] Application startup failed: The host was aborted.,    at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at backend.Program.Main(String[] args) in /Users/pawelstaniul/Desktop/Programy/school-logbook/backend/Program.cs:line 43
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at backend.Program.Main(String[] args) in /Users/pawelstaniul/Desktop/Programy/school-logbook/backend/Program.cs:line 43
2025-05-26 17:05:20.245 +02:00 [FTL] Application startup failed: The host was aborted.,    at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at backend.Program.Main(String[] args) in /Users/pawelstaniul/Desktop/Programy/school-logbook/backend/Program.cs:line 43
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at backend.Program.Main(String[] args) in /Users/pawelstaniul/Desktop/Programy/school-logbook/backend/Program.cs:line 43
2025-05-26 17:05:29.667 +02:00 [INF] Application is starting
2025-05-26 17:05:29.702 +02:00 [INF] User profile is available. Using '/Users/pawelstaniul/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-05-26 17:05:29.728 +02:00 [WRN] The WebRootPath was not found: /Users/pawelstaniul/Desktop/Programy/school-logbook/backend/wwwroot. Static files may be unavailable.
2025-05-26 17:05:29.734 +02:00 [INF] Now listening on: http://localhost:5234
2025-05-26 17:05:29.735 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-26 17:05:29.736 +02:00 [INF] Hosting environment: Development
2025-05-26 17:05:29.736 +02:00 [INF] Content root path: /Users/pawelstaniul/Desktop/Programy/school-logbook/backend
2025-05-26 17:05:30.324 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/swagger/index.html - null null
2025-05-26 17:05:30.372 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/swagger/index.html - 200 null text/html;charset=utf-8 48.3145ms
2025-05-26 17:05:30.837 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/_framework/aspnetcore-browser-refresh.js - null null
2025-05-26 17:05:30.843 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/_framework/aspnetcore-browser-refresh.js - 200 13732 application/javascript; charset=utf-8 5.3557ms
2025-05-26 17:05:30.919 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/swagger/v1/swagger.json - null null
2025-05-26 17:05:30.975 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 56.5352ms
2025-05-26 17:06:04.502 +02:00 [INF] Application is starting
2025-05-26 17:06:04.537 +02:00 [INF] User profile is available. Using '/Users/pawelstaniul/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-05-26 17:06:04.572 +02:00 [WRN] The WebRootPath was not found: /Users/pawelstaniul/Desktop/Programy/school-logbook/backend/wwwroot. Static files may be unavailable.
2025-05-26 17:06:04.581 +02:00 [INF] Now listening on: http://localhost:5234
2025-05-26 17:06:04.583 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-26 17:06:04.584 +02:00 [INF] Hosting environment: Development
2025-05-26 17:06:04.584 +02:00 [INF] Content root path: /Users/pawelstaniul/Desktop/Programy/school-logbook/backend
2025-05-26 17:06:04.614 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/swagger/index.html - null null
2025-05-26 17:06:04.650 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/swagger/index.html - 200 null text/html;charset=utf-8 36.4059ms
2025-05-26 17:06:04.694 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/_framework/aspnetcore-browser-refresh.js - null null
2025-05-26 17:06:04.698 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/_framework/aspnetcore-browser-refresh.js - 200 13732 application/javascript; charset=utf-8 4.2931ms
2025-05-26 17:06:04.836 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/swagger/v1/swagger.json - null null
2025-05-26 17:06:04.892 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 56.487ms
2025-05-26 17:07:45.492 +02:00 [INF] Application is starting
2025-05-26 17:07:45.538 +02:00 [INF] User profile is available. Using '/Users/pawelstaniul/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-05-26 17:07:45.566 +02:00 [WRN] The WebRootPath was not found: /Users/pawelstaniul/Desktop/Programy/school-logbook/backend/wwwroot. Static files may be unavailable.
2025-05-26 17:07:45.572 +02:00 [INF] Now listening on: http://localhost:5234
2025-05-26 17:07:45.574 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-26 17:07:45.575 +02:00 [INF] Hosting environment: Development
2025-05-26 17:07:45.575 +02:00 [INF] Content root path: /Users/pawelstaniul/Desktop/Programy/school-logbook/backend
2025-05-26 17:07:45.609 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/swagger/index.html - null null
2025-05-26 17:07:45.654 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/swagger/index.html - 200 null text/html;charset=utf-8 46.201ms
2025-05-26 17:07:45.675 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/_framework/aspnetcore-browser-refresh.js - null null
2025-05-26 17:07:45.676 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/_framework/aspnetcore-browser-refresh.js - 200 13732 application/javascript; charset=utf-8 1.3384ms
2025-05-26 17:07:45.831 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/swagger/v1/swagger.json - null null
2025-05-26 17:07:45.891 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 60.3434ms
2025-05-26 17:20:37.765 +02:00 [INF] Application is starting
2025-05-26 17:20:37.796 +02:00 [INF] User profile is available. Using '/Users/pawelstaniul/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-05-26 17:20:37.820 +02:00 [WRN] The WebRootPath was not found: /Users/pawelstaniul/Desktop/Programy/school-logbook/backend/wwwroot. Static files may be unavailable.
2025-05-26 17:20:37.826 +02:00 [INF] Now listening on: http://localhost:5234
2025-05-26 17:20:37.827 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-26 17:20:37.827 +02:00 [INF] Hosting environment: Development
2025-05-26 17:20:37.827 +02:00 [INF] Content root path: /Users/pawelstaniul/Desktop/Programy/school-logbook/backend
2025-05-26 17:21:36.624 +02:00 [INF] Application is starting
2025-05-26 17:21:36.655 +02:00 [INF] User profile is available. Using '/Users/pawelstaniul/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-05-26 17:21:36.682 +02:00 [WRN] The WebRootPath was not found: /Users/pawelstaniul/Desktop/Programy/school-logbook/backend/wwwroot. Static files may be unavailable.
2025-05-26 17:21:36.688 +02:00 [INF] Now listening on: http://localhost:5234
2025-05-26 17:21:36.689 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-26 17:21:36.689 +02:00 [INF] Hosting environment: Development
2025-05-26 17:21:36.690 +02:00 [INF] Content root path: /Users/pawelstaniul/Desktop/Programy/school-logbook/backend
2025-05-26 18:55:24.057 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/auth/login - null null
2025-05-26 18:55:24.101 +02:00 [WRN] Failed to determine the https port for redirect.
2025-05-26 18:55:24.117 +02:00 [INF] CORS policy execution successful.
2025-05-26 18:55:24.120 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/auth/login - 204 null null 65.0056ms
2025-05-26 18:55:24.122 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5234/api/auth/login - application/json 54
2025-05-26 18:55:24.125 +02:00 [INF] CORS policy execution successful.
2025-05-26 18:55:24.151 +02:00 [INF] Executing endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-05-26 18:55:24.169 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(backend.DTOs.Login) on controller backend.Controllers.AuthController (backend).
2025-05-26 18:55:24.940 +02:00 [INF] Executed DbCommand (38ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-05-26 18:55:25.067 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-05-26 18:55:25.094 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-26 18:55:25.113 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-26 18:55:25.137 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-26 18:55:25.143 +02:00 [INF] AuthenticationScheme: Identity.Application signed in.
2025-05-26 18:55:25.159 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-05-26 18:55:25.165 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.Threading.Tasks.Task`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-26 18:55:25.175 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-26 18:55:25.199 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-05-26 18:55:25.261 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@p20='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p21='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32), @p18='?' (DbType = Boolean), @p19='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [AdminId] = @p1, [ConcurrencyStamp] = @p2, [DateAdded] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastSuccessfulLogin] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [SecurityStamp] = @p15, [StudentId] = @p16, [TeacherId] = @p17, [TwoFactorEnabled] = @p18, [UserName] = @p19
OUTPUT 1
WHERE [Id] = @p20 AND [ConcurrencyStamp] = @p21;
2025-05-26 18:55:25.277 +02:00 [INF] Executed action backend.Controllers.AuthController.Login (backend) in 1107.0885ms
2025-05-26 18:55:25.277 +02:00 [INF] Executed endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-05-26 18:55:25.281 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5234/api/auth/login - 200 null application/json; charset=utf-8 1158.5367ms
2025-05-26 18:55:25.281 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-26 18:55:25.282 +02:00 [INF] CORS policy execution successful.
2025-05-26 18:55:25.282 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 0.6405ms
2025-05-26 18:55:25.282 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-26 18:55:25.285 +02:00 [INF] CORS policy execution successful.
2025-05-26 18:55:25.296 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/teacher/d2f5cf82-b1bb-44b9-8171-f8f7fbb1a6f6 - null null
2025-05-26 18:55:25.297 +02:00 [INF] CORS policy execution successful.
2025-05-26 18:55:25.297 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/teacher/d2f5cf82-b1bb-44b9-8171-f8f7fbb1a6f6 - 204 null null 0.7306ms
2025-05-26 18:55:25.299 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/teacher/d2f5cf82-b1bb-44b9-8171-f8f7fbb1a6f6 - null null
2025-05-26 18:55:25.300 +02:00 [INF] CORS policy execution successful.
2025-05-26 18:55:25.324 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetScheduleForTeacher (backend)'
2025-05-26 18:55:25.326 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-26 18:55:25.328 +02:00 [INF] Route matched with {action = "GetScheduleForTeacher", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetScheduleForTeacher(System.String) on controller backend.Controllers.ScheduleController (backend).
2025-05-26 18:55:25.331 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-26 18:55:25.374 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__userId_0
2025-05-26 18:55:25.412 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__teacher_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[DayOfWeek], [s].[StartTime], [c].[Name], [s0].[Name]
FROM [Schedules] AS [s]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
WHERE [s].[TeacherId] = @__teacher_Id_0
ORDER BY [s].[DayOfWeek], [s].[StartTime]
2025-05-26 18:55:25.414 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.TeacherScheduleEntryDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 18:55:25.419 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetScheduleForTeacher (backend) in 90.4111ms
2025-05-26 18:55:25.419 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetScheduleForTeacher (backend)'
2025-05-26 18:55:25.419 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/teacher/d2f5cf82-b1bb-44b9-8171-f8f7fbb1a6f6 - 200 null application/json; charset=utf-8 120.323ms
2025-05-26 18:55:25.459 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-26 18:55:25.474 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-26 18:55:25.493 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-26 18:55:25.494 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-26 18:55:25.499 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 167.7305ms
2025-05-26 18:55:25.499 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-26 18:55:25.500 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 216.9872ms
2025-05-26 18:55:34.606 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/teacher/d2f5cf82-b1bb-44b9-8171-f8f7fbb1a6f6 - null null
2025-05-26 18:55:34.608 +02:00 [INF] CORS policy execution successful.
2025-05-26 18:55:34.608 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/teacher/d2f5cf82-b1bb-44b9-8171-f8f7fbb1a6f6 - 204 null null 1.7977ms
2025-05-26 18:55:34.610 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/teacher/d2f5cf82-b1bb-44b9-8171-f8f7fbb1a6f6 - null null
2025-05-26 18:55:34.610 +02:00 [INF] CORS policy execution successful.
2025-05-26 18:55:34.617 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetScheduleForTeacher (backend)'
2025-05-26 18:55:34.618 +02:00 [INF] Route matched with {action = "GetScheduleForTeacher", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetScheduleForTeacher(System.String) on controller backend.Controllers.ScheduleController (backend).
2025-05-26 18:55:34.662 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__userId_0
2025-05-26 18:55:34.678 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__teacher_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[DayOfWeek], [s].[StartTime], [c].[Name], [s0].[Name]
FROM [Schedules] AS [s]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
WHERE [s].[TeacherId] = @__teacher_Id_0
ORDER BY [s].[DayOfWeek], [s].[StartTime]
2025-05-26 18:55:34.678 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.TeacherScheduleEntryDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 18:55:34.679 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetScheduleForTeacher (backend) in 60.8393ms
2025-05-26 18:55:34.679 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetScheduleForTeacher (backend)'
2025-05-26 18:55:34.680 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/teacher/d2f5cf82-b1bb-44b9-8171-f8f7fbb1a6f6 - 200 null application/json; charset=utf-8 69.7296ms
2025-05-26 19:05:15.365 +02:00 [INF] Application is starting
2025-05-26 19:05:15.396 +02:00 [INF] User profile is available. Using '/Users/pawelstaniul/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-05-26 19:05:15.424 +02:00 [WRN] The WebRootPath was not found: /Users/pawelstaniul/Desktop/Programy/school-logbook/backend/wwwroot. Static files may be unavailable.
2025-05-26 19:05:15.429 +02:00 [INF] Now listening on: http://localhost:5234
2025-05-26 19:05:15.430 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-26 19:05:15.431 +02:00 [INF] Hosting environment: Development
2025-05-26 19:05:15.431 +02:00 [INF] Content root path: /Users/pawelstaniul/Desktop/Programy/school-logbook/backend
2025-05-26 19:08:03.992 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/teacher/d2f5cf82-b1bb-44b9-8171-f8f7fbb1a6f6 - null null
2025-05-26 19:08:04.050 +02:00 [WRN] Failed to determine the https port for redirect.
2025-05-26 19:08:04.068 +02:00 [INF] CORS policy execution successful.
2025-05-26 19:08:04.075 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/teacher/d2f5cf82-b1bb-44b9-8171-f8f7fbb1a6f6 - 204 null null 83.5504ms
2025-05-26 19:08:04.079 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/teacher/d2f5cf82-b1bb-44b9-8171-f8f7fbb1a6f6 - null null
2025-05-26 19:08:04.084 +02:00 [INF] CORS policy execution successful.
2025-05-26 19:08:04.215 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetScheduleForTeacher (backend)'
2025-05-26 19:08:04.236 +02:00 [INF] Route matched with {action = "GetScheduleForTeacher", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetScheduleForTeacher(System.String) on controller backend.Controllers.ScheduleController (backend).
2025-05-26 19:08:05.076 +02:00 [INF] Executed DbCommand (34ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__userId_0
2025-05-26 19:08:05.137 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__teacher_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[DayOfWeek], [s].[StartTime], [c].[Name], [s0].[Name]
FROM [Schedules] AS [s]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
WHERE [s].[TeacherId] = @__teacher_Id_0
ORDER BY [s].[DayOfWeek], [s].[StartTime]
2025-05-26 19:08:05.141 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.TeacherScheduleEntryDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 19:08:05.155 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetScheduleForTeacher (backend) in 917.3907ms
2025-05-26 19:08:05.155 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetScheduleForTeacher (backend)'
2025-05-26 19:08:05.159 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/teacher/d2f5cf82-b1bb-44b9-8171-f8f7fbb1a6f6 - 200 null application/json; charset=utf-8 1079.803ms
2025-05-26 19:08:06.093 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-26 19:08:06.094 +02:00 [INF] CORS policy execution successful.
2025-05-26 19:08:06.095 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 1.8376ms
2025-05-26 19:08:06.096 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-26 19:08:06.098 +02:00 [INF] CORS policy execution successful.
2025-05-26 19:08:06.101 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-26 19:08:06.104 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-26 19:08:06.119 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/teacher/d2f5cf82-b1bb-44b9-8171-f8f7fbb1a6f6 - null null
2025-05-26 19:08:06.119 +02:00 [INF] CORS policy execution successful.
2025-05-26 19:08:06.122 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetScheduleForTeacher (backend)'
2025-05-26 19:08:06.133 +02:00 [INF] Route matched with {action = "GetScheduleForTeacher", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetScheduleForTeacher(System.String) on controller backend.Controllers.ScheduleController (backend).
2025-05-26 19:08:06.166 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__userId_0
2025-05-26 19:08:06.183 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__teacher_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[DayOfWeek], [s].[StartTime], [c].[Name], [s0].[Name]
FROM [Schedules] AS [s]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
WHERE [s].[TeacherId] = @__teacher_Id_0
ORDER BY [s].[DayOfWeek], [s].[StartTime]
2025-05-26 19:08:06.184 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.TeacherScheduleEntryDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 19:08:06.185 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetScheduleForTeacher (backend) in 51.7607ms
2025-05-26 19:08:06.185 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetScheduleForTeacher (backend)'
2025-05-26 19:08:06.186 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/teacher/d2f5cf82-b1bb-44b9-8171-f8f7fbb1a6f6 - 200 null application/json; charset=utf-8 66.8675ms
2025-05-26 19:08:06.258 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-26 19:08:06.284 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-26 19:08:06.303 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-26 19:08:06.303 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-26 19:08:06.311 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 206.562ms
2025-05-26 19:08:06.311 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-26 19:08:06.312 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 216.6716ms
2025-05-26 19:23:20.123 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-26 19:23:20.123 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/teacher/d2f5cf82-b1bb-44b9-8171-f8f7fbb1a6f6 - null null
2025-05-26 19:23:20.200 +02:00 [INF] CORS policy execution successful.
2025-05-26 19:23:20.201 +02:00 [INF] CORS policy execution successful.
2025-05-26 19:23:20.205 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/teacher/d2f5cf82-b1bb-44b9-8171-f8f7fbb1a6f6 - 204 null null 84.4117ms
2025-05-26 19:23:20.205 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 84.2194ms
2025-05-26 19:23:20.213 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-26 19:23:20.213 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/teacher/d2f5cf82-b1bb-44b9-8171-f8f7fbb1a6f6 - null null
2025-05-26 19:23:20.215 +02:00 [INF] CORS policy execution successful.
2025-05-26 19:23:20.215 +02:00 [INF] CORS policy execution successful.
2025-05-26 19:23:20.224 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-26 19:23:20.224 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetScheduleForTeacher (backend)'
2025-05-26 19:23:20.247 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-26 19:23:20.243 +02:00 [INF] Route matched with {action = "GetScheduleForTeacher", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetScheduleForTeacher(System.String) on controller backend.Controllers.ScheduleController (backend).
2025-05-26 19:23:20.525 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__userId_0
2025-05-26 19:23:20.541 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__teacher_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[DayOfWeek], [s].[StartTime], [c].[Name], [s0].[Name]
FROM [Schedules] AS [s]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
WHERE [s].[TeacherId] = @__teacher_Id_0
ORDER BY [s].[DayOfWeek], [s].[StartTime]
2025-05-26 19:23:20.541 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.TeacherScheduleEntryDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-26 19:23:20.542 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetScheduleForTeacher (backend) in 292.7682ms
2025-05-26 19:23:20.542 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetScheduleForTeacher (backend)'
2025-05-26 19:23:20.542 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/teacher/d2f5cf82-b1bb-44b9-8171-f8f7fbb1a6f6 - 200 null application/json; charset=utf-8 329.2901ms
2025-05-26 19:23:20.605 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-26 19:23:20.622 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-26 19:23:20.638 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-26 19:23:20.638 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-26 19:23:20.639 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 390.5548ms
2025-05-26 19:23:20.639 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-26 19:23:20.639 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 426.7569ms
2025-05-26 19:43:28.605 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-26 19:43:28.608 +02:00 [INF] CORS policy execution successful.
2025-05-26 19:43:28.617 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 6.3042ms
2025-05-26 19:43:28.618 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-26 19:43:28.628 +02:00 [INF] CORS policy execution successful.
2025-05-26 19:43:28.641 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-26 19:43:28.644 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-26 19:43:28.845 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-26 19:43:28.870 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-26 19:43:28.890 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-26 19:43:28.893 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-26 19:43:28.895 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 250.6723ms
2025-05-26 19:43:28.896 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-26 19:43:28.896 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 277.6841ms
2025-05-26 19:46:45.530 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-26 19:46:45.533 +02:00 [INF] CORS policy execution successful.
2025-05-26 19:46:45.537 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 7.0781ms
2025-05-26 19:46:45.539 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-26 19:46:45.540 +02:00 [INF] CORS policy execution successful.
2025-05-26 19:46:45.550 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-26 19:46:45.552 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-26 19:46:45.607 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-26 19:46:45.626 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-26 19:46:45.677 +02:00 [INF] Executed DbCommand (40ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-26 19:46:45.677 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-26 19:46:45.678 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 125.6977ms
2025-05-26 19:46:45.678 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-26 19:46:45.678 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 139.2112ms
2025-05-26 19:50:31.065 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-26 19:50:31.067 +02:00 [INF] CORS policy execution successful.
2025-05-26 19:50:31.068 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 3.1346ms
2025-05-26 19:50:31.072 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-26 19:50:31.073 +02:00 [INF] CORS policy execution successful.
2025-05-26 19:50:31.077 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-26 19:50:31.089 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-26 19:50:31.119 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-26 19:50:31.151 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-26 19:50:31.167 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-26 19:50:31.168 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-26 19:50:31.169 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 77.4877ms
2025-05-26 19:50:31.169 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-26 19:50:31.169 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 97.2556ms
2025-05-26 19:50:52.881 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/grade/subjects - null null
2025-05-26 19:50:52.886 +02:00 [INF] CORS policy execution successful.
2025-05-26 19:50:52.888 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/grade/subjects - 204 null null 6.7826ms
2025-05-26 19:50:52.893 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/grade/subjects - null null
2025-05-26 19:50:52.896 +02:00 [INF] CORS policy execution successful.
2025-05-26 19:50:52.912 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/grade/subjects - 404 0 null 18.6869ms
2025-05-26 19:50:52.931 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5234/api/grade/subjects, Response status code: 404
2025-05-26 19:51:30.974 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-26 19:51:30.978 +02:00 [INF] CORS policy execution successful.
2025-05-26 19:51:30.979 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 5.4072ms
2025-05-26 19:51:30.980 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-26 19:51:30.981 +02:00 [INF] CORS policy execution successful.
2025-05-26 19:51:30.995 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/grade/subjects - null null
2025-05-26 19:51:30.995 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-26 19:51:30.995 +02:00 [INF] CORS policy execution successful.
2025-05-26 19:51:30.995 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/grade/subjects - 204 null null 0.5444ms
2025-05-26 19:51:30.998 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/grade/subjects - null null
2025-05-26 19:51:30.998 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-26 19:51:30.999 +02:00 [INF] CORS policy execution successful.
2025-05-26 19:51:31.011 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/grade/subjects - 404 0 null 13.4907ms
2025-05-26 19:51:31.013 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5234/api/grade/subjects, Response status code: 404
2025-05-26 19:51:31.058 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-26 19:51:31.078 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-26 19:51:31.096 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-26 19:51:31.097 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-26 19:51:31.097 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 99.4507ms
2025-05-26 19:51:31.097 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-26 19:51:31.097 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 117.0388ms
