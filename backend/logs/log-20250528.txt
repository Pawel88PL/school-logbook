2025-05-28 08:29:35.837 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/auth/login - null null
2025-05-28 08:29:35.850 +02:00 [INF] CORS policy execution successful.
2025-05-28 08:29:35.851 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/auth/login - 204 null null 13.771ms
2025-05-28 08:29:35.854 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5234/api/auth/login - application/json 54
2025-05-28 08:29:35.856 +02:00 [INF] CORS policy execution successful.
2025-05-28 08:29:35.865 +02:00 [INF] Executing endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-05-28 08:29:35.891 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(backend.DTOs.Login) on controller backend.Controllers.AuthController (backend).
2025-05-28 08:29:36.123 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-05-28 08:29:36.270 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-05-28 08:29:36.296 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-28 08:29:36.323 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-28 08:29:36.355 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-28 08:29:36.365 +02:00 [INF] AuthenticationScheme: Identity.Application signed in.
2025-05-28 08:29:36.390 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-05-28 08:29:36.403 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.Threading.Tasks.Task`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-28 08:29:36.424 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-28 08:29:36.461 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-05-28 08:29:36.562 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@p20='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p21='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32), @p18='?' (DbType = Boolean), @p19='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [AdminId] = @p1, [ConcurrencyStamp] = @p2, [DateAdded] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastSuccessfulLogin] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [SecurityStamp] = @p15, [StudentId] = @p16, [TeacherId] = @p17, [TwoFactorEnabled] = @p18, [UserName] = @p19
OUTPUT 1
WHERE [Id] = @p20 AND [ConcurrencyStamp] = @p21;
2025-05-28 08:29:36.577 +02:00 [INF] Executed action backend.Controllers.AuthController.Login (backend) in 685.1933ms
2025-05-28 08:29:36.577 +02:00 [INF] Executed endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-05-28 08:29:36.578 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5234/api/auth/login - 200 null application/json; charset=utf-8 723.8789ms
2025-05-28 08:29:36.584 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-28 08:29:36.584 +02:00 [INF] CORS policy execution successful.
2025-05-28 08:29:36.585 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 0.8409ms
2025-05-28 08:29:36.586 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-28 08:29:36.587 +02:00 [INF] CORS policy execution successful.
2025-05-28 08:29:36.589 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-28 08:29:36.589 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-28 08:29:36.613 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/teacher/d2f5cf82-b1bb-44b9-8171-f8f7fbb1a6f6 - null null
2025-05-28 08:29:36.613 +02:00 [INF] CORS policy execution successful.
2025-05-28 08:29:36.614 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/teacher/d2f5cf82-b1bb-44b9-8171-f8f7fbb1a6f6 - 204 null null 0.6344ms
2025-05-28 08:29:36.617 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/teacher/d2f5cf82-b1bb-44b9-8171-f8f7fbb1a6f6 - null null
2025-05-28 08:29:36.618 +02:00 [INF] CORS policy execution successful.
2025-05-28 08:29:36.618 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetScheduleForTeacher (backend)'
2025-05-28 08:29:36.645 +02:00 [INF] Route matched with {action = "GetScheduleForTeacher", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetScheduleForTeacher(System.String) on controller backend.Controllers.ScheduleController (backend).
2025-05-28 08:29:36.695 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-28 08:29:36.719 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-28 08:29:36.744 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-28 08:29:36.764 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-28 08:29:36.764 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 174.0903ms
2025-05-28 08:29:36.764 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-28 08:29:36.765 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 178.7237ms
2025-05-28 08:29:36.850 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__userId_0
2025-05-28 08:29:36.895 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__teacher_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[DayOfWeek], [s].[StartTime], [c].[Name], [s0].[Name]
FROM [Schedules] AS [s]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
WHERE [s].[TeacherId] = @__teacher_Id_0
ORDER BY [s].[DayOfWeek], [s].[StartTime]
2025-05-28 08:29:36.897 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.TeacherScheduleEntryDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-28 08:29:36.902 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetScheduleForTeacher (backend) in 256.2945ms
2025-05-28 08:29:36.902 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetScheduleForTeacher (backend)'
2025-05-28 08:29:36.902 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/teacher/d2f5cf82-b1bb-44b9-8171-f8f7fbb1a6f6 - 200 null application/json; charset=utf-8 285.781ms
2025-05-28 08:29:45.043 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - null null
2025-05-28 08:29:45.044 +02:00 [INF] CORS policy execution successful.
2025-05-28 08:29:45.044 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - 204 null null 1.0652ms
2025-05-28 08:29:45.052 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - null null
2025-05-28 08:29:45.054 +02:00 [INF] CORS policy execution successful.
2025-05-28 08:29:45.058 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-28 08:29:45.062 +02:00 [INF] Route matched with {action = "GetTodayLessons", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTodayLessons() on controller backend.Controllers.AttendanceController (backend).
2025-05-28 08:29:45.094 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-28 08:29:45.153 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__teacherId_0='?' (DbType = Int32), @__today_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s0].[Name], [c].[Name], [s].[StartTime], CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Attendances] AS [a]
        WHERE [a].[ScheduleId] = [s].[Id] AND CONVERT(date, [a].[Date]) = CONVERT(date, GETDATE())) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
FROM [Schedules] AS [s]
INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
WHERE [s].[TeacherId] = @__teacherId_0 AND [s].[DayOfWeek] = @__today_1
ORDER BY [s].[StartTime]
2025-05-28 08:29:45.153 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.LessonForAttendanceDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-28 08:29:45.155 +02:00 [INF] Executed action backend.Controllers.AttendanceController.GetTodayLessons (backend) in 92.8645ms
2025-05-28 08:29:45.155 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-28 08:29:45.155 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - 200 null application/json; charset=utf-8 103.4074ms
2025-05-28 08:29:53.240 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/grade/subjects - null null
2025-05-28 08:29:53.241 +02:00 [INF] CORS policy execution successful.
2025-05-28 08:29:53.241 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/grade/subjects - 204 null null 1.0481ms
2025-05-28 08:29:53.243 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/grade/subjects - null null
2025-05-28 08:29:53.243 +02:00 [INF] CORS policy execution successful.
2025-05-28 08:29:53.244 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/grade/subjects - 404 0 null 1.3829ms
2025-05-28 08:29:53.245 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5234/api/grade/subjects, Response status code: 404
2025-05-28 08:30:06.949 +02:00 [INF] Application is shutting down...
2025-05-28 08:30:37.512 +02:00 [INF] Application is starting
2025-05-28 08:30:37.541 +02:00 [INF] User profile is available. Using '/Users/pawelstaniul/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-05-28 08:30:37.569 +02:00 [WRN] The WebRootPath was not found: /Users/pawelstaniul/Desktop/Programy/school-logbook/backend/wwwroot. Static files may be unavailable.
2025-05-28 08:30:37.575 +02:00 [INF] Now listening on: http://localhost:5234
2025-05-28 08:30:37.577 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-28 08:30:37.577 +02:00 [INF] Hosting environment: Development
2025-05-28 08:30:37.577 +02:00 [INF] Content root path: /Users/pawelstaniul/Desktop/Programy/school-logbook/backend
2025-05-28 08:30:37.873 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/swagger/index.html - null null
2025-05-28 08:30:37.925 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/swagger/index.html - 200 null text/html;charset=utf-8 52.4752ms
2025-05-28 08:30:37.943 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/_framework/aspnetcore-browser-refresh.js - null null
2025-05-28 08:30:37.946 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/_framework/aspnetcore-browser-refresh.js - 200 13732 application/javascript; charset=utf-8 2.7976ms
2025-05-28 08:30:38.013 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/swagger/v1/swagger.json - null null
2025-05-28 08:30:38.068 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 54.6693ms
2025-05-28 08:30:40.820 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-28 08:30:40.835 +02:00 [WRN] Failed to determine the https port for redirect.
2025-05-28 08:30:40.869 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/grade/subjects - null null
2025-05-28 08:30:40.891 +02:00 [INF] CORS policy execution successful.
2025-05-28 08:30:40.896 +02:00 [INF] CORS policy execution successful.
2025-05-28 08:30:40.897 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 77.5718ms
2025-05-28 08:30:40.900 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/grade/subjects - 204 null null 31.104ms
2025-05-28 08:30:40.907 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-28 08:30:40.908 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/grade/subjects - null null
2025-05-28 08:30:40.911 +02:00 [INF] CORS policy execution successful.
2025-05-28 08:30:40.912 +02:00 [INF] CORS policy execution successful.
2025-05-28 08:30:41.017 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-28 08:30:41.018 +02:00 [INF] Executing endpoint 'backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend)'
2025-05-28 08:30:41.052 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-28 08:30:41.052 +02:00 [INF] Route matched with {action = "GetSubjectsForCurrentTeacher", controller = "Grade"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubjectsForCurrentTeacher() on controller backend.Controllers.GradeController (backend).
2025-05-28 08:30:41.835 +02:00 [INF] Executed DbCommand (41ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-28 08:30:41.905 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [c].[SubjectId], [s].[Name] AS [SubjectName], [c0].[Name] AS [ClassName]
FROM [ClassSubjects] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Classes] AS [c0] ON [c].[ClassId] = [c0].[Id]
WHERE [c].[TeacherId] = @__teacherId_0
2025-05-28 08:30:41.909 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.SubjectWithClassDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-28 08:30:41.914 +02:00 [INF] Executed action backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend) in 860.0011ms
2025-05-28 08:30:41.914 +02:00 [INF] Executed endpoint 'backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend)'
2025-05-28 08:30:41.919 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/grade/subjects - 200 null application/json; charset=utf-8 1011.0429ms
2025-05-28 08:30:41.932 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-28 08:30:41.964 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-28 08:30:41.992 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-28 08:30:41.993 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-28 08:30:41.996 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 944.3567ms
2025-05-28 08:30:41.997 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-28 08:30:41.997 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 1089.6655ms
2025-05-28 08:30:49.233 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/grade/students/4 - null null
2025-05-28 08:30:49.238 +02:00 [INF] CORS policy execution successful.
2025-05-28 08:30:49.238 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/grade/students/4 - 204 null null 5.0937ms
2025-05-28 08:30:49.241 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/grade/students/4 - null null
2025-05-28 08:30:49.243 +02:00 [INF] CORS policy execution successful.
2025-05-28 08:30:49.250 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/grade/students/4 - 404 0 null 9.4539ms
2025-05-28 08:30:49.252 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5234/api/grade/students/4, Response status code: 404
2025-05-28 08:33:27.526 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-28 08:33:27.533 +02:00 [INF] CORS policy execution successful.
2025-05-28 08:33:27.535 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 8.8452ms
2025-05-28 08:33:27.538 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-28 08:33:27.538 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/grade/subjects - null null
2025-05-28 08:33:27.538 +02:00 [INF] CORS policy execution successful.
2025-05-28 08:33:27.539 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/grade/subjects - 204 null null 1.3115ms
2025-05-28 08:33:27.539 +02:00 [INF] CORS policy execution successful.
2025-05-28 08:33:27.551 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/grade/subjects - null null
2025-05-28 08:33:27.557 +02:00 [INF] CORS policy execution successful.
2025-05-28 08:33:27.568 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-28 08:33:27.581 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-28 08:33:27.584 +02:00 [INF] Executing endpoint 'backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend)'
2025-05-28 08:33:27.584 +02:00 [INF] Route matched with {action = "GetSubjectsForCurrentTeacher", controller = "Grade"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubjectsForCurrentTeacher() on controller backend.Controllers.GradeController (backend).
2025-05-28 08:33:27.723 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-28 08:33:27.723 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-28 08:33:27.749 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-28 08:33:27.749 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [c].[SubjectId], [s].[Name] AS [SubjectName], [c0].[Name] AS [ClassName]
FROM [ClassSubjects] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Classes] AS [c0] ON [c].[ClassId] = [c0].[Id]
WHERE [c].[TeacherId] = @__teacherId_0
2025-05-28 08:33:27.750 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.SubjectWithClassDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-28 08:33:27.753 +02:00 [INF] Executed action backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend) in 167.9471ms
2025-05-28 08:33:27.753 +02:00 [INF] Executed endpoint 'backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend)'
2025-05-28 08:33:27.754 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/grade/subjects - 200 null application/json; charset=utf-8 202.9443ms
2025-05-28 08:33:27.777 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-28 08:33:27.778 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-28 08:33:27.779 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 197.2534ms
2025-05-28 08:33:27.779 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-28 08:33:27.779 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 241.0107ms
2025-05-28 08:33:31.947 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/grade/students/4 - null null
2025-05-28 08:33:31.948 +02:00 [INF] CORS policy execution successful.
2025-05-28 08:33:31.949 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/grade/students/4 - 204 null null 1.6779ms
2025-05-28 08:33:31.950 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/grade/students/4 - null null
2025-05-28 08:33:31.951 +02:00 [INF] CORS policy execution successful.
2025-05-28 08:33:31.951 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/grade/students/4 - 404 0 null 0.8865ms
2025-05-28 08:33:31.951 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5234/api/grade/students/4, Response status code: 404
2025-05-28 08:33:45.627 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-28 08:33:45.628 +02:00 [INF] CORS policy execution successful.
2025-05-28 08:33:45.629 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 1.3878ms
2025-05-28 08:33:45.631 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-28 08:33:45.631 +02:00 [INF] CORS policy execution successful.
2025-05-28 08:33:45.632 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-28 08:33:45.634 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-28 08:33:45.662 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/grade/subjects - null null
2025-05-28 08:33:45.664 +02:00 [INF] CORS policy execution successful.
2025-05-28 08:33:45.664 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/grade/subjects - 204 null null 1.7178ms
2025-05-28 08:33:45.668 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/grade/subjects - null null
2025-05-28 08:33:45.669 +02:00 [INF] CORS policy execution successful.
2025-05-28 08:33:45.675 +02:00 [INF] Executing endpoint 'backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend)'
2025-05-28 08:33:45.675 +02:00 [INF] Route matched with {action = "GetSubjectsForCurrentTeacher", controller = "Grade"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubjectsForCurrentTeacher() on controller backend.Controllers.GradeController (backend).
2025-05-28 08:33:45.685 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-28 08:33:45.710 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-28 08:33:45.710 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-28 08:33:45.748 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [c].[SubjectId], [s].[Name] AS [SubjectName], [c0].[Name] AS [ClassName]
FROM [ClassSubjects] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Classes] AS [c0] ON [c].[ClassId] = [c0].[Id]
WHERE [c].[TeacherId] = @__teacherId_0
2025-05-28 08:33:45.748 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-28 08:33:45.749 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.SubjectWithClassDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-28 08:33:45.749 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-28 08:33:45.749 +02:00 [INF] Executed action backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend) in 73.563ms
2025-05-28 08:33:45.749 +02:00 [INF] Executed endpoint 'backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend)'
2025-05-28 08:33:45.749 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 114.3357ms
2025-05-28 08:33:45.749 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-28 08:33:45.749 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/grade/subjects - 200 null application/json; charset=utf-8 80.8387ms
2025-05-28 08:33:45.749 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 118.4251ms
2025-05-28 08:42:31.137 +02:00 [INF] Application is starting
2025-05-28 08:42:31.170 +02:00 [INF] User profile is available. Using '/Users/pawelstaniul/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-05-28 08:42:31.198 +02:00 [WRN] The WebRootPath was not found: /Users/pawelstaniul/Desktop/Programy/school-logbook/backend/wwwroot. Static files may be unavailable.
2025-05-28 08:42:31.206 +02:00 [INF] Now listening on: http://localhost:5234
2025-05-28 08:42:31.207 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-28 08:42:31.208 +02:00 [INF] Hosting environment: Development
2025-05-28 08:42:31.208 +02:00 [INF] Content root path: /Users/pawelstaniul/Desktop/Programy/school-logbook/backend
2025-05-28 08:42:35.518 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-28 08:42:35.518 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/grade/subjects - null null
2025-05-28 08:42:35.594 +02:00 [WRN] Failed to determine the https port for redirect.
2025-05-28 08:42:35.635 +02:00 [INF] CORS policy execution successful.
2025-05-28 08:42:35.635 +02:00 [INF] CORS policy execution successful.
2025-05-28 08:42:35.638 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 125.7264ms
2025-05-28 08:42:35.638 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/grade/subjects - 204 null null 126.2437ms
2025-05-28 08:42:35.641 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-28 08:42:35.641 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/grade/subjects - null null
2025-05-28 08:42:35.647 +02:00 [INF] CORS policy execution successful.
2025-05-28 08:42:35.647 +02:00 [INF] CORS policy execution successful.
2025-05-28 08:42:35.747 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-28 08:42:35.748 +02:00 [INF] Executing endpoint 'backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend)'
2025-05-28 08:42:35.761 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-28 08:42:35.761 +02:00 [INF] Route matched with {action = "GetSubjectsForCurrentTeacher", controller = "Grade"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubjectsForCurrentTeacher() on controller backend.Controllers.GradeController (backend).
2025-05-28 08:42:36.574 +02:00 [INF] Executed DbCommand (44ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-28 08:42:36.631 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-28 08:42:36.664 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-28 08:42:36.665 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-28 08:42:36.668 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-28 08:42:36.680 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 917.8147ms
2025-05-28 08:42:36.680 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-28 08:42:36.683 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 1042.5131ms
2025-05-28 08:42:36.699 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [c].[SubjectId], [s].[Name] AS [SubjectName], [c0].[Name] AS [ClassName]
FROM [ClassSubjects] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Classes] AS [c0] ON [c].[ClassId] = [c0].[Id]
WHERE [c].[TeacherId] = @__teacherId_0
2025-05-28 08:42:36.700 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.SubjectWithClassDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-28 08:42:36.703 +02:00 [INF] Executed action backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend) in 942.1983ms
2025-05-28 08:42:36.703 +02:00 [INF] Executed endpoint 'backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend)'
2025-05-28 08:42:36.704 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/grade/subjects - 200 null application/json; charset=utf-8 1063.0032ms
2025-05-28 08:42:37.718 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/grade/students/4 - null null
2025-05-28 08:42:37.719 +02:00 [INF] CORS policy execution successful.
2025-05-28 08:42:37.719 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/grade/students/4 - 204 null null 1.0373ms
2025-05-28 08:42:37.721 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/grade/students/4 - null null
2025-05-28 08:42:37.722 +02:00 [INF] CORS policy execution successful.
2025-05-28 08:42:37.727 +02:00 [INF] Executing endpoint 'backend.Controllers.GradeController.GetStudentsForSubject (backend)'
2025-05-28 08:42:37.737 +02:00 [INF] Route matched with {action = "GetStudentsForSubject", controller = "Grade"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentsForSubject(Int32) on controller backend.Controllers.GradeController (backend).
2025-05-28 08:42:37.802 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-28 08:42:37.838 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@__teacherId_0='?' (DbType = Int32), @__subjectId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [c].[ClassId]
FROM [ClassSubjects] AS [c]
WHERE [c].[TeacherId] = @__teacherId_0 AND [c].[SubjectId] = @__subjectId_1
2025-05-28 08:42:37.864 +02:00 [ERR] Błąd podczas pobierania uczniów do oceny.
System.InvalidOperationException: The LINQ expression 'DbSet<Student>()
    .Where(s => __classIds_0
        .Contains(s.ClassId ?? 0))
    .OrderBy(s => new StudentDto{ 
        Id = s.Id, 
        FirstName = s.FirstName, 
        LastName = s.LastName 
    }
    .FullName)' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at backend.Services.GradeService.GetStudentsForSubjectAsync(Int32 teacherId, Int32 subjectId) in /Users/pawelstaniul/Desktop/Programy/school-logbook/backend/Services/GradeService.cs:line 53
   at backend.Controllers.GradeController.GetStudentsForSubject(Int32 subjectId) in /Users/pawelstaniul/Desktop/Programy/school-logbook/backend/Controllers/GradeController.cs:line 48
2025-05-28 08:42:37.872 +02:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-28 08:42:37.874 +02:00 [INF] Executed action backend.Controllers.GradeController.GetStudentsForSubject (backend) in 136.798ms
2025-05-28 08:42:37.874 +02:00 [INF] Executed endpoint 'backend.Controllers.GradeController.GetStudentsForSubject (backend)'
2025-05-28 08:42:37.874 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/grade/students/4 - 400 null application/json; charset=utf-8 153.243ms
2025-05-28 08:42:49.318 +02:00 [INF] Application is shutting down...
2025-05-28 08:42:55.942 +02:00 [INF] Application is starting
2025-05-28 08:42:56.002 +02:00 [INF] User profile is available. Using '/Users/pawelstaniul/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-05-28 08:42:56.035 +02:00 [WRN] The WebRootPath was not found: /Users/pawelstaniul/Desktop/Programy/school-logbook/backend/wwwroot. Static files may be unavailable.
2025-05-28 08:42:56.077 +02:00 [INF] Now listening on: http://localhost:5234
2025-05-28 08:42:56.079 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-28 08:42:56.079 +02:00 [INF] Hosting environment: Development
2025-05-28 08:42:56.079 +02:00 [INF] Content root path: /Users/pawelstaniul/Desktop/Programy/school-logbook/backend
2025-05-28 08:42:56.227 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/swagger/index.html - null null
2025-05-28 08:42:56.272 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/swagger/index.html - 200 null text/html;charset=utf-8 45.358ms
2025-05-28 08:42:56.568 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/swagger/v1/swagger.json - null null
2025-05-28 08:42:56.624 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 55.5451ms
2025-05-28 08:43:07.411 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-28 08:43:07.427 +02:00 [WRN] Failed to determine the https port for redirect.
2025-05-28 08:43:07.451 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/grade/subjects - null null
2025-05-28 08:43:07.558 +02:00 [INF] CORS policy execution successful.
2025-05-28 08:43:07.558 +02:00 [INF] CORS policy execution successful.
2025-05-28 08:43:07.560 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 149.689ms
2025-05-28 08:43:07.562 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/grade/subjects - 204 null null 111.8429ms
2025-05-28 08:43:07.568 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-28 08:43:07.568 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/grade/subjects - null null
2025-05-28 08:43:07.572 +02:00 [INF] CORS policy execution successful.
2025-05-28 08:43:07.573 +02:00 [INF] CORS policy execution successful.
2025-05-28 08:43:07.659 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-28 08:43:07.662 +02:00 [INF] Executing endpoint 'backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend)'
2025-05-28 08:43:07.674 +02:00 [INF] Route matched with {action = "GetSubjectsForCurrentTeacher", controller = "Grade"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubjectsForCurrentTeacher() on controller backend.Controllers.GradeController (backend).
2025-05-28 08:43:07.674 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-28 08:43:08.628 +02:00 [INF] Executed DbCommand (47ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-28 08:43:08.685 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-28 08:43:08.719 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-28 08:43:08.720 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-28 08:43:08.725 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-28 08:43:08.732 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 1056.6434ms
2025-05-28 08:43:08.733 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-28 08:43:08.736 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 1168.1974ms
2025-05-28 08:43:08.754 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [c].[SubjectId], [s].[Name] AS [SubjectName], [c0].[Name] AS [ClassName]
FROM [ClassSubjects] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Classes] AS [c0] ON [c].[ClassId] = [c0].[Id]
WHERE [c].[TeacherId] = @__teacherId_0
2025-05-28 08:43:08.755 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.SubjectWithClassDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-28 08:43:08.757 +02:00 [INF] Executed action backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend) in 1082.5317ms
2025-05-28 08:43:08.757 +02:00 [INF] Executed endpoint 'backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend)'
2025-05-28 08:43:08.758 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/grade/subjects - 200 null application/json; charset=utf-8 1189.7355ms
2025-05-28 08:43:10.815 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/grade/students/4 - null null
2025-05-28 08:43:10.819 +02:00 [INF] CORS policy execution successful.
2025-05-28 08:43:10.819 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/grade/students/4 - 204 null null 4.1998ms
2025-05-28 08:43:10.821 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/grade/students/4 - null null
2025-05-28 08:43:10.822 +02:00 [INF] CORS policy execution successful.
2025-05-28 08:43:10.829 +02:00 [INF] Executing endpoint 'backend.Controllers.GradeController.GetStudentsForSubject (backend)'
2025-05-28 08:43:10.843 +02:00 [INF] Route matched with {action = "GetStudentsForSubject", controller = "Grade"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentsForSubject(Int32) on controller backend.Controllers.GradeController (backend).
2025-05-28 08:43:20.352 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-28 08:43:27.448 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__teacherId_0='?' (DbType = Int32), @__subjectId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [c].[ClassId]
FROM [ClassSubjects] AS [c]
WHERE [c].[TeacherId] = @__teacherId_0 AND [c].[SubjectId] = @__subjectId_1
2025-05-28 08:43:47.741 +02:00 [ERR] Błąd podczas pobierania uczniów do oceny.
System.InvalidOperationException: The LINQ expression 'DbSet<Student>()
    .Where(s => __classIds_0
        .Contains(s.ClassId ?? 0))
    .OrderBy(s => new StudentDto{ 
        Id = s.Id, 
        FirstName = s.FirstName, 
        LastName = s.LastName 
    }
    .FullName)' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at backend.Services.GradeService.GetStudentsForSubjectAsync(Int32 teacherId, Int32 subjectId) in /Users/pawelstaniul/Desktop/Programy/school-logbook/backend/Services/GradeService.cs:line 53
   at backend.Controllers.GradeController.GetStudentsForSubject(Int32 subjectId) in /Users/pawelstaniul/Desktop/Programy/school-logbook/backend/Controllers/GradeController.cs:line 48
2025-05-28 08:44:24.483 +02:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-28 08:44:24.488 +02:00 [INF] Executed action backend.Controllers.GradeController.GetStudentsForSubject (backend) in 73647.0515ms
2025-05-28 08:44:24.488 +02:00 [INF] Executed endpoint 'backend.Controllers.GradeController.GetStudentsForSubject (backend)'
2025-05-28 08:44:24.489 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/grade/students/4 - 400 null application/json; charset=utf-8 73670.6216ms
2025-05-28 08:44:58.037 +02:00 [INF] Application is starting
2025-05-28 08:44:58.090 +02:00 [INF] User profile is available. Using '/Users/pawelstaniul/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-05-28 08:44:58.120 +02:00 [WRN] The WebRootPath was not found: /Users/pawelstaniul/Desktop/Programy/school-logbook/backend/wwwroot. Static files may be unavailable.
2025-05-28 08:44:58.135 +02:00 [INF] Now listening on: http://localhost:5234
2025-05-28 08:44:58.137 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-28 08:44:58.137 +02:00 [INF] Hosting environment: Development
2025-05-28 08:44:58.137 +02:00 [INF] Content root path: /Users/pawelstaniul/Desktop/Programy/school-logbook/backend
2025-05-28 08:44:58.266 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/swagger/index.html - null null
2025-05-28 08:44:58.303 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/swagger/index.html - 200 null text/html;charset=utf-8 37.5697ms
2025-05-28 08:44:58.727 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/swagger/v1/swagger.json - null null
2025-05-28 08:44:58.783 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 55.3832ms
2025-05-28 08:45:02.290 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-28 08:45:02.300 +02:00 [WRN] Failed to determine the https port for redirect.
2025-05-28 08:45:02.317 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/grade/subjects - null null
2025-05-28 08:45:02.341 +02:00 [INF] CORS policy execution successful.
2025-05-28 08:45:02.342 +02:00 [INF] CORS policy execution successful.
2025-05-28 08:45:02.354 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 63.8282ms
2025-05-28 08:45:02.369 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/grade/subjects - 204 null null 50.9996ms
2025-05-28 08:45:02.381 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-28 08:45:02.382 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/grade/subjects - null null
2025-05-28 08:45:02.387 +02:00 [INF] CORS policy execution successful.
2025-05-28 08:45:02.387 +02:00 [INF] CORS policy execution successful.
2025-05-28 08:45:02.507 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-28 08:45:02.511 +02:00 [INF] Executing endpoint 'backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend)'
2025-05-28 08:45:02.533 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-28 08:45:02.533 +02:00 [INF] Route matched with {action = "GetSubjectsForCurrentTeacher", controller = "Grade"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubjectsForCurrentTeacher() on controller backend.Controllers.GradeController (backend).
2025-05-28 08:45:03.441 +02:00 [INF] Executed DbCommand (47ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-28 08:45:03.502 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-28 08:45:03.577 +02:00 [INF] Executed DbCommand (65ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-28 08:45:03.580 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-28 08:45:03.584 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-28 08:45:03.593 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 1057.4707ms
2025-05-28 08:45:03.593 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-28 08:45:03.598 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 1217.7868ms
2025-05-28 08:45:03.620 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [c].[SubjectId], [s].[Name] AS [SubjectName], [c0].[Name] AS [ClassName]
FROM [ClassSubjects] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Classes] AS [c0] ON [c].[ClassId] = [c0].[Id]
WHERE [c].[TeacherId] = @__teacherId_0
2025-05-28 08:45:03.621 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.SubjectWithClassDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-28 08:45:03.622 +02:00 [INF] Executed action backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend) in 1088.6105ms
2025-05-28 08:45:03.622 +02:00 [INF] Executed endpoint 'backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend)'
2025-05-28 08:45:03.623 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/grade/subjects - 200 null application/json; charset=utf-8 1241.1138ms
2025-05-28 08:45:04.631 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/grade/students/4 - null null
2025-05-28 08:45:04.632 +02:00 [INF] CORS policy execution successful.
2025-05-28 08:45:04.632 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/grade/students/4 - 204 null null 1.2667ms
2025-05-28 08:45:04.634 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/grade/students/4 - null null
2025-05-28 08:45:04.635 +02:00 [INF] CORS policy execution successful.
2025-05-28 08:45:04.646 +02:00 [INF] Executing endpoint 'backend.Controllers.GradeController.GetStudentsForSubject (backend)'
2025-05-28 08:45:04.655 +02:00 [INF] Route matched with {action = "GetStudentsForSubject", controller = "Grade"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentsForSubject(Int32) on controller backend.Controllers.GradeController (backend).
2025-05-28 08:45:14.797 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-28 08:45:16.451 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__teacherId_0='?' (DbType = Int32), @__subjectId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [c].[ClassId]
FROM [ClassSubjects] AS [c]
WHERE [c].[TeacherId] = @__teacherId_0 AND [c].[SubjectId] = @__subjectId_1
2025-05-28 08:45:22.912 +02:00 [ERR] Błąd podczas pobierania uczniów do oceny.
System.InvalidOperationException: The LINQ expression 'DbSet<Student>()
    .Where(s => __classIds_0
        .Contains(s.ClassId.Value))
    .OrderBy(s => new StudentDto{ 
        Id = s.Id, 
        FirstName = s.FirstName, 
        LastName = s.LastName 
    }
    .FullName)' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at backend.Services.GradeService.GetStudentsForSubjectAsync(Int32 teacherId, Int32 subjectId) in /Users/pawelstaniul/Desktop/Programy/school-logbook/backend/Services/GradeService.cs:line 53
   at backend.Controllers.GradeController.GetStudentsForSubject(Int32 subjectId) in /Users/pawelstaniul/Desktop/Programy/school-logbook/backend/Controllers/GradeController.cs:line 48
2025-05-28 08:45:22.917 +02:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-28 08:45:22.922 +02:00 [INF] Executed action backend.Controllers.GradeController.GetStudentsForSubject (backend) in 18266.9132ms
2025-05-28 08:45:22.922 +02:00 [INF] Executed endpoint 'backend.Controllers.GradeController.GetStudentsForSubject (backend)'
2025-05-28 08:45:22.923 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/grade/students/4 - 400 null application/json; charset=utf-8 18289.3511ms
2025-05-28 08:45:33.035 +02:00 [INF] Application is starting
2025-05-28 08:45:33.063 +02:00 [INF] User profile is available. Using '/Users/pawelstaniul/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-05-28 08:45:33.088 +02:00 [WRN] The WebRootPath was not found: /Users/pawelstaniul/Desktop/Programy/school-logbook/backend/wwwroot. Static files may be unavailable.
2025-05-28 08:45:33.101 +02:00 [ERR] Hosting failed to start
System.IO.IOException: Failed to bind to address http://127.0.0.1:5234: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Address already in use
 ---> System.Net.Sockets.SocketException (48): Address already in use
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAsync(ListenOptions[] listenOptions, AddressBindContext context, Func`2 useHttps, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__15_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2025-05-28 08:45:33.110 +02:00 [FTL] Application startup failed: Failed to bind to address http://127.0.0.1:5234: address already in use.,    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAsync(ListenOptions[] listenOptions, AddressBindContext context, Func`2 useHttps, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__15_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
   at Microsoft.Extensions.Hosting.Internal.Host.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at backend.Program.Main(String[] args) in /Users/pawelstaniul/Desktop/Programy/school-logbook/backend/Program.cs:line 51
System.IO.IOException: Failed to bind to address http://127.0.0.1:5234: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Address already in use
 ---> System.Net.Sockets.SocketException (48): Address already in use
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAsync(ListenOptions[] listenOptions, AddressBindContext context, Func`2 useHttps, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__15_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
   at Microsoft.Extensions.Hosting.Internal.Host.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at backend.Program.Main(String[] args) in /Users/pawelstaniul/Desktop/Programy/school-logbook/backend/Program.cs:line 51
2025-05-28 08:45:40.596 +02:00 [INF] Application is starting
2025-05-28 08:45:40.625 +02:00 [INF] User profile is available. Using '/Users/pawelstaniul/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-05-28 08:45:40.647 +02:00 [WRN] The WebRootPath was not found: /Users/pawelstaniul/Desktop/Programy/school-logbook/backend/wwwroot. Static files may be unavailable.
2025-05-28 08:45:40.657 +02:00 [ERR] Hosting failed to start
System.IO.IOException: Failed to bind to address http://127.0.0.1:5234: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Address already in use
 ---> System.Net.Sockets.SocketException (48): Address already in use
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAsync(ListenOptions[] listenOptions, AddressBindContext context, Func`2 useHttps, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__15_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2025-05-28 08:45:40.666 +02:00 [FTL] Application startup failed: Failed to bind to address http://127.0.0.1:5234: address already in use.,    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAsync(ListenOptions[] listenOptions, AddressBindContext context, Func`2 useHttps, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__15_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
   at Microsoft.Extensions.Hosting.Internal.Host.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at backend.Program.Main(String[] args) in /Users/pawelstaniul/Desktop/Programy/school-logbook/backend/Program.cs:line 51
System.IO.IOException: Failed to bind to address http://127.0.0.1:5234: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Address already in use
 ---> System.Net.Sockets.SocketException (48): Address already in use
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAsync(ListenOptions[] listenOptions, AddressBindContext context, Func`2 useHttps, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__15_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
   at Microsoft.Extensions.Hosting.Internal.Host.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at backend.Program.Main(String[] args) in /Users/pawelstaniul/Desktop/Programy/school-logbook/backend/Program.cs:line 51
2025-05-28 08:45:52.096 +02:00 [INF] Application is starting
2025-05-28 08:45:52.128 +02:00 [INF] User profile is available. Using '/Users/pawelstaniul/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-05-28 08:45:52.153 +02:00 [WRN] The WebRootPath was not found: /Users/pawelstaniul/Desktop/Programy/school-logbook/backend/wwwroot. Static files may be unavailable.
2025-05-28 08:45:52.167 +02:00 [ERR] Hosting failed to start
System.IO.IOException: Failed to bind to address http://127.0.0.1:5234: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Address already in use
 ---> System.Net.Sockets.SocketException (48): Address already in use
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAsync(ListenOptions[] listenOptions, AddressBindContext context, Func`2 useHttps, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__15_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2025-05-28 08:45:52.207 +02:00 [FTL] Application startup failed: Failed to bind to address http://127.0.0.1:5234: address already in use.,    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAsync(ListenOptions[] listenOptions, AddressBindContext context, Func`2 useHttps, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__15_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
   at Microsoft.Extensions.Hosting.Internal.Host.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at backend.Program.Main(String[] args) in /Users/pawelstaniul/Desktop/Programy/school-logbook/backend/Program.cs:line 51
System.IO.IOException: Failed to bind to address http://127.0.0.1:5234: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Address already in use
 ---> System.Net.Sockets.SocketException (48): Address already in use
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAsync(ListenOptions[] listenOptions, AddressBindContext context, Func`2 useHttps, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__15_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
   at Microsoft.Extensions.Hosting.Internal.Host.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at backend.Program.Main(String[] args) in /Users/pawelstaniul/Desktop/Programy/school-logbook/backend/Program.cs:line 51
2025-05-28 08:46:24.789 +02:00 [INF] Application is starting
2025-05-28 08:46:24.823 +02:00 [INF] User profile is available. Using '/Users/pawelstaniul/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-05-28 08:46:24.846 +02:00 [WRN] The WebRootPath was not found: /Users/pawelstaniul/Desktop/Programy/school-logbook/backend/wwwroot. Static files may be unavailable.
2025-05-28 08:46:24.857 +02:00 [ERR] Hosting failed to start
System.IO.IOException: Failed to bind to address http://127.0.0.1:5234: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Address already in use
 ---> System.Net.Sockets.SocketException (48): Address already in use
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAsync(ListenOptions[] listenOptions, AddressBindContext context, Func`2 useHttps, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__15_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2025-05-28 08:46:24.868 +02:00 [FTL] Application startup failed: Failed to bind to address http://127.0.0.1:5234: address already in use.,    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAsync(ListenOptions[] listenOptions, AddressBindContext context, Func`2 useHttps, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__15_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
   at Microsoft.Extensions.Hosting.Internal.Host.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at backend.Program.Main(String[] args) in /Users/pawelstaniul/Desktop/Programy/school-logbook/backend/Program.cs:line 51
System.IO.IOException: Failed to bind to address http://127.0.0.1:5234: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Address already in use
 ---> System.Net.Sockets.SocketException (48): Address already in use
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAsync(ListenOptions[] listenOptions, AddressBindContext context, Func`2 useHttps, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__15_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
   at Microsoft.Extensions.Hosting.Internal.Host.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at backend.Program.Main(String[] args) in /Users/pawelstaniul/Desktop/Programy/school-logbook/backend/Program.cs:line 51
2025-05-28 08:46:39.987 +02:00 [INF] Application is starting
2025-05-28 08:46:40.024 +02:00 [INF] User profile is available. Using '/Users/pawelstaniul/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-05-28 08:46:40.051 +02:00 [WRN] The WebRootPath was not found: /Users/pawelstaniul/Desktop/Programy/school-logbook/backend/wwwroot. Static files may be unavailable.
2025-05-28 08:46:40.062 +02:00 [ERR] Hosting failed to start
System.IO.IOException: Failed to bind to address http://127.0.0.1:5234: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Address already in use
 ---> System.Net.Sockets.SocketException (48): Address already in use
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAsync(ListenOptions[] listenOptions, AddressBindContext context, Func`2 useHttps, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__15_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2025-05-28 08:46:40.071 +02:00 [FTL] Application startup failed: Failed to bind to address http://127.0.0.1:5234: address already in use.,    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAsync(ListenOptions[] listenOptions, AddressBindContext context, Func`2 useHttps, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__15_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
   at Microsoft.Extensions.Hosting.Internal.Host.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at backend.Program.Main(String[] args) in /Users/pawelstaniul/Desktop/Programy/school-logbook/backend/Program.cs:line 51
System.IO.IOException: Failed to bind to address http://127.0.0.1:5234: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Address already in use
 ---> System.Net.Sockets.SocketException (48): Address already in use
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAsync(ListenOptions[] listenOptions, AddressBindContext context, Func`2 useHttps, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__15_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
   at Microsoft.Extensions.Hosting.Internal.Host.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at backend.Program.Main(String[] args) in /Users/pawelstaniul/Desktop/Programy/school-logbook/backend/Program.cs:line 51
2025-05-28 08:47:08.025 +02:00 [INF] Application is starting
2025-05-28 08:47:08.062 +02:00 [INF] User profile is available. Using '/Users/pawelstaniul/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-05-28 08:47:08.084 +02:00 [WRN] The WebRootPath was not found: /Users/pawelstaniul/Desktop/Programy/school-logbook/backend/wwwroot. Static files may be unavailable.
2025-05-28 08:47:08.090 +02:00 [INF] Now listening on: http://localhost:5234
2025-05-28 08:47:08.091 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-28 08:47:08.091 +02:00 [INF] Hosting environment: Development
2025-05-28 08:47:08.091 +02:00 [INF] Content root path: /Users/pawelstaniul/Desktop/Programy/school-logbook/backend
2025-05-28 08:47:08.509 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/swagger/index.html - null null
2025-05-28 08:47:08.551 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/swagger/index.html - 200 null text/html;charset=utf-8 42.8225ms
2025-05-28 08:47:08.663 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/_framework/aspnetcore-browser-refresh.js - null null
2025-05-28 08:47:08.666 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/_framework/aspnetcore-browser-refresh.js - 200 13732 application/javascript; charset=utf-8 2.9224ms
2025-05-28 08:47:08.702 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/swagger/v1/swagger.json - null null
2025-05-28 08:47:08.758 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 56.0543ms
2025-05-28 08:47:12.417 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-28 08:47:12.422 +02:00 [WRN] Failed to determine the https port for redirect.
2025-05-28 08:47:12.459 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/grade/subjects - null null
2025-05-28 08:47:12.481 +02:00 [INF] CORS policy execution successful.
2025-05-28 08:47:12.482 +02:00 [INF] CORS policy execution successful.
2025-05-28 08:47:12.484 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 66.4119ms
2025-05-28 08:47:12.485 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/grade/subjects - 204 null null 26.1361ms
2025-05-28 08:47:12.486 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-28 08:47:12.491 +02:00 [INF] CORS policy execution successful.
2025-05-28 08:47:12.493 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/grade/subjects - null null
2025-05-28 08:47:12.494 +02:00 [INF] CORS policy execution successful.
2025-05-28 08:47:12.595 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-28 08:47:12.596 +02:00 [INF] Executing endpoint 'backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend)'
2025-05-28 08:47:12.614 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-28 08:47:12.614 +02:00 [INF] Route matched with {action = "GetSubjectsForCurrentTeacher", controller = "Grade"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubjectsForCurrentTeacher() on controller backend.Controllers.GradeController (backend).
2025-05-28 08:47:13.450 +02:00 [INF] Executed DbCommand (43ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-28 08:47:13.517 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [c].[SubjectId], [s].[Name] AS [SubjectName], [c0].[Name] AS [ClassName]
FROM [ClassSubjects] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Classes] AS [c0] ON [c].[ClassId] = [c0].[Id]
WHERE [c].[TeacherId] = @__teacherId_0
2025-05-28 08:47:13.521 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.SubjectWithClassDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-28 08:47:13.524 +02:00 [INF] Executed action backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend) in 908.6347ms
2025-05-28 08:47:13.525 +02:00 [INF] Executed endpoint 'backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend)'
2025-05-28 08:47:13.528 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/grade/subjects - 200 null application/json; charset=utf-8 1034.939ms
2025-05-28 08:47:13.545 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-28 08:47:13.577 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-28 08:47:13.605 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-28 08:47:13.605 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-28 08:47:13.609 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 994.6673ms
2025-05-28 08:47:13.609 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-28 08:47:13.610 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 1124.2521ms
2025-05-28 08:47:14.495 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/grade/students/4 - null null
2025-05-28 08:47:14.498 +02:00 [INF] CORS policy execution successful.
2025-05-28 08:47:14.498 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/grade/students/4 - 204 null null 3.566ms
2025-05-28 08:47:14.500 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/grade/students/4 - null null
2025-05-28 08:47:14.500 +02:00 [INF] CORS policy execution successful.
2025-05-28 08:47:14.506 +02:00 [INF] Executing endpoint 'backend.Controllers.GradeController.GetStudentsForSubject (backend)'
2025-05-28 08:47:14.514 +02:00 [INF] Route matched with {action = "GetStudentsForSubject", controller = "Grade"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentsForSubject(Int32) on controller backend.Controllers.GradeController (backend).
2025-05-28 08:47:14.596 +02:00 [INF] Executed DbCommand (32ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-28 08:47:14.628 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__teacherId_0='?' (DbType = Int32), @__subjectId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [c].[ClassId]
FROM [ClassSubjects] AS [c]
WHERE [c].[TeacherId] = @__teacherId_0 AND [c].[SubjectId] = @__subjectId_1
2025-05-28 08:47:14.654 +02:00 [ERR] Błąd podczas pobierania uczniów do oceny.
System.InvalidOperationException: The LINQ expression 'DbSet<Student>()
    .Where(s => __classIds_0
        .Contains(s.ClassId.Value))
    .OrderBy(s => string.Format(
        format: "{0} {1}", 
        arg0: s.LastName, 
        arg1: s.FirstName))' could not be translated. Additional information: Translation of method 'string.Format' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at backend.Services.GradeService.GetStudentsForSubjectAsync(Int32 teacherId, Int32 subjectId) in /Users/pawelstaniul/Desktop/Programy/school-logbook/backend/Services/GradeService.cs:line 53
   at backend.Controllers.GradeController.GetStudentsForSubject(Int32 subjectId) in /Users/pawelstaniul/Desktop/Programy/school-logbook/backend/Controllers/GradeController.cs:line 48
2025-05-28 08:47:14.661 +02:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-28 08:47:14.662 +02:00 [INF] Executed action backend.Controllers.GradeController.GetStudentsForSubject (backend) in 148.0935ms
2025-05-28 08:47:14.662 +02:00 [INF] Executed endpoint 'backend.Controllers.GradeController.GetStudentsForSubject (backend)'
2025-05-28 08:47:14.662 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/grade/students/4 - 400 null application/json; charset=utf-8 162.6183ms
2025-05-28 08:47:41.542 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-28 08:47:41.545 +02:00 [INF] CORS policy execution successful.
2025-05-28 08:47:41.546 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 3.7841ms
2025-05-28 08:47:41.551 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-28 08:47:41.557 +02:00 [INF] CORS policy execution successful.
2025-05-28 08:47:41.558 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-28 08:47:41.565 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/grade/subjects - null null
2025-05-28 08:47:41.565 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-28 08:47:41.565 +02:00 [INF] CORS policy execution successful.
2025-05-28 08:47:41.565 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/grade/subjects - 204 null null 0.5249ms
2025-05-28 08:47:41.567 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/grade/subjects - null null
2025-05-28 08:47:41.580 +02:00 [INF] CORS policy execution successful.
2025-05-28 08:47:41.581 +02:00 [INF] Executing endpoint 'backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend)'
2025-05-28 08:47:41.586 +02:00 [INF] Route matched with {action = "GetSubjectsForCurrentTeacher", controller = "Grade"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubjectsForCurrentTeacher() on controller backend.Controllers.GradeController (backend).
2025-05-28 08:47:41.608 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-28 08:47:41.614 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-28 08:47:41.633 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-28 08:47:41.640 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [c].[SubjectId], [s].[Name] AS [SubjectName], [c0].[Name] AS [ClassName]
FROM [ClassSubjects] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Classes] AS [c0] ON [c].[ClassId] = [c0].[Id]
WHERE [c].[TeacherId] = @__teacherId_0
2025-05-28 08:47:41.641 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.SubjectWithClassDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-28 08:47:41.643 +02:00 [INF] Executed action backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend) in 56.6408ms
2025-05-28 08:47:41.643 +02:00 [INF] Executed endpoint 'backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend)'
2025-05-28 08:47:41.643 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/grade/subjects - 200 null application/json; charset=utf-8 75.9534ms
2025-05-28 08:47:41.664 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-28 08:47:41.665 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-28 08:47:41.675 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 109.6737ms
2025-05-28 08:47:41.675 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-28 08:47:41.676 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 124.8932ms
2025-05-28 08:47:42.814 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/grade/students/4 - null null
2025-05-28 08:47:42.814 +02:00 [INF] CORS policy execution successful.
2025-05-28 08:47:42.815 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/grade/students/4 - 204 null null 1.1658ms
2025-05-28 08:47:42.817 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/grade/students/4 - null null
2025-05-28 08:47:42.817 +02:00 [INF] CORS policy execution successful.
2025-05-28 08:47:42.818 +02:00 [INF] Executing endpoint 'backend.Controllers.GradeController.GetStudentsForSubject (backend)'
2025-05-28 08:47:42.825 +02:00 [INF] Route matched with {action = "GetStudentsForSubject", controller = "Grade"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentsForSubject(Int32) on controller backend.Controllers.GradeController (backend).
2025-05-28 08:47:42.857 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-28 08:47:42.881 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__teacherId_0='?' (DbType = Int32), @__subjectId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [c].[ClassId]
FROM [ClassSubjects] AS [c]
WHERE [c].[TeacherId] = @__teacherId_0 AND [c].[SubjectId] = @__subjectId_1
2025-05-28 08:47:42.928 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[@__classIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[FirstName], [s].[LastName]
FROM [Students] AS [s]
WHERE [s].[ClassId] IN (
    SELECT [c].[value]
    FROM OPENJSON(@__classIds_0) WITH ([value] int '$') AS [c]
)
ORDER BY [s].[LastName]
2025-05-28 08:47:42.930 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.StudentDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-28 08:47:42.931 +02:00 [INF] Executed action backend.Controllers.GradeController.GetStudentsForSubject (backend) in 105.7957ms
2025-05-28 08:47:42.931 +02:00 [INF] Executed endpoint 'backend.Controllers.GradeController.GetStudentsForSubject (backend)'
2025-05-28 08:47:42.931 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/grade/students/4 - 200 null application/json; charset=utf-8 114.6831ms
2025-05-28 08:47:59.494 +02:00 [INF] Application is starting
2025-05-28 08:47:59.528 +02:00 [INF] User profile is available. Using '/Users/pawelstaniul/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-05-28 08:47:59.551 +02:00 [WRN] The WebRootPath was not found: /Users/pawelstaniul/Desktop/Programy/school-logbook/backend/wwwroot. Static files may be unavailable.
2025-05-28 08:47:59.556 +02:00 [INF] Now listening on: http://localhost:5234
2025-05-28 08:47:59.558 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-28 08:47:59.558 +02:00 [INF] Hosting environment: Development
2025-05-28 08:47:59.558 +02:00 [INF] Content root path: /Users/pawelstaniul/Desktop/Programy/school-logbook/backend
2025-05-28 08:48:00.966 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/grade/subjects - null null
2025-05-28 08:48:00.966 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-28 08:48:00.995 +02:00 [WRN] Failed to determine the https port for redirect.
2025-05-28 08:48:01.019 +02:00 [INF] CORS policy execution successful.
2025-05-28 08:48:01.040 +02:00 [INF] CORS policy execution successful.
2025-05-28 08:48:01.049 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/grade/subjects - 204 null null 81.5957ms
2025-05-28 08:48:01.051 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 81.7147ms
2025-05-28 08:48:01.053 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/grade/subjects - null null
2025-05-28 08:48:01.053 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-28 08:48:01.059 +02:00 [INF] CORS policy execution successful.
2025-05-28 08:48:01.059 +02:00 [INF] CORS policy execution successful.
2025-05-28 08:48:01.144 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-28 08:48:01.145 +02:00 [INF] Executing endpoint 'backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend)'
2025-05-28 08:48:01.157 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-28 08:48:01.157 +02:00 [INF] Route matched with {action = "GetSubjectsForCurrentTeacher", controller = "Grade"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubjectsForCurrentTeacher() on controller backend.Controllers.GradeController (backend).
2025-05-28 08:48:01.906 +02:00 [INF] Executed DbCommand (43ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-28 08:48:01.960 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-28 08:48:01.995 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-28 08:48:01.999 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-28 08:48:02.002 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-28 08:48:02.011 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 852.4013ms
2025-05-28 08:48:02.011 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-28 08:48:02.014 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 960.9542ms
2025-05-28 08:48:02.037 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [c].[SubjectId], [s].[Name] AS [SubjectName], [c0].[Name] AS [ClassName]
FROM [ClassSubjects] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Classes] AS [c0] ON [c].[ClassId] = [c0].[Id]
WHERE [c].[TeacherId] = @__teacherId_0
2025-05-28 08:48:02.038 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.SubjectWithClassDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-28 08:48:02.042 +02:00 [INF] Executed action backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend) in 884.7595ms
2025-05-28 08:48:02.042 +02:00 [INF] Executed endpoint 'backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend)'
2025-05-28 08:48:02.042 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/grade/subjects - 200 null application/json; charset=utf-8 988.8346ms
2025-05-28 08:48:03.429 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/grade/students/4 - null null
2025-05-28 08:48:03.430 +02:00 [INF] CORS policy execution successful.
2025-05-28 08:48:03.431 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/grade/students/4 - 204 null null 1.7022ms
2025-05-28 08:48:03.432 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/grade/students/4 - null null
2025-05-28 08:48:03.433 +02:00 [INF] CORS policy execution successful.
2025-05-28 08:48:03.442 +02:00 [INF] Executing endpoint 'backend.Controllers.GradeController.GetStudentsForSubject (backend)'
2025-05-28 08:48:03.454 +02:00 [INF] Route matched with {action = "GetStudentsForSubject", controller = "Grade"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentsForSubject(Int32) on controller backend.Controllers.GradeController (backend).
2025-05-28 08:48:03.524 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-28 08:48:03.562 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[@__teacherId_0='?' (DbType = Int32), @__subjectId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [c].[ClassId]
FROM [ClassSubjects] AS [c]
WHERE [c].[TeacherId] = @__teacherId_0 AND [c].[SubjectId] = @__subjectId_1
2025-05-28 08:48:03.624 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@__classIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[FirstName], [s].[LastName]
FROM [Students] AS [s]
WHERE COALESCE([s].[ClassId], 0) IN (
    SELECT [c].[value]
    FROM OPENJSON(@__classIds_0) WITH ([value] int '$') AS [c]
)
ORDER BY [s].[LastName]
2025-05-28 08:48:03.624 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.StudentDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-28 08:48:03.626 +02:00 [INF] Executed action backend.Controllers.GradeController.GetStudentsForSubject (backend) in 172.5042ms
2025-05-28 08:48:03.627 +02:00 [INF] Executed endpoint 'backend.Controllers.GradeController.GetStudentsForSubject (backend)'
2025-05-28 08:48:03.627 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/grade/students/4 - 200 null application/json; charset=utf-8 194.2482ms
2025-05-28 08:48:41.471 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-28 08:48:41.473 +02:00 [INF] CORS policy execution successful.
2025-05-28 08:48:41.473 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 2.6752ms
2025-05-28 08:48:41.476 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-28 08:48:41.477 +02:00 [INF] CORS policy execution successful.
2025-05-28 08:48:41.479 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-28 08:48:41.480 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-28 08:48:41.496 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/grade/subjects - null null
2025-05-28 08:48:41.496 +02:00 [INF] CORS policy execution successful.
2025-05-28 08:48:41.496 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/grade/subjects - 204 null null 0.5399ms
2025-05-28 08:48:41.497 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/grade/subjects - null null
2025-05-28 08:48:41.498 +02:00 [INF] CORS policy execution successful.
2025-05-28 08:48:41.500 +02:00 [INF] Executing endpoint 'backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend)'
2025-05-28 08:48:41.500 +02:00 [INF] Route matched with {action = "GetSubjectsForCurrentTeacher", controller = "Grade"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubjectsForCurrentTeacher() on controller backend.Controllers.GradeController (backend).
2025-05-28 08:48:41.523 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-28 08:48:41.548 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-28 08:48:41.548 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-28 08:48:41.576 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [c].[SubjectId], [s].[Name] AS [SubjectName], [c0].[Name] AS [ClassName]
FROM [ClassSubjects] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Classes] AS [c0] ON [c].[ClassId] = [c0].[Id]
WHERE [c].[TeacherId] = @__teacherId_0
2025-05-28 08:48:41.576 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-28 08:48:41.576 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-28 08:48:41.576 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.SubjectWithClassDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-28 08:48:41.577 +02:00 [INF] Executed action backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend) in 77.1888ms
2025-05-28 08:48:41.578 +02:00 [INF] Executed endpoint 'backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend)'
2025-05-28 08:48:41.578 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/grade/subjects - 200 null application/json; charset=utf-8 80.9516ms
2025-05-28 08:48:41.578 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 97.7539ms
2025-05-28 08:48:41.579 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-28 08:48:41.579 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 102.6673ms
2025-05-28 08:49:08.770 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-28 08:49:08.771 +02:00 [INF] CORS policy execution successful.
2025-05-28 08:49:08.771 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 1.1246ms
2025-05-28 08:49:08.773 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-28 08:49:08.773 +02:00 [INF] CORS policy execution successful.
2025-05-28 08:49:08.774 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-28 08:49:08.774 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-28 08:49:08.801 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/grade/subjects - null null
2025-05-28 08:49:08.801 +02:00 [INF] CORS policy execution successful.
2025-05-28 08:49:08.801 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/grade/subjects - 204 null null 0.3833ms
2025-05-28 08:49:08.802 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/grade/subjects - null null
2025-05-28 08:49:08.802 +02:00 [INF] CORS policy execution successful.
2025-05-28 08:49:08.803 +02:00 [INF] Executing endpoint 'backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend)'
2025-05-28 08:49:08.803 +02:00 [INF] Route matched with {action = "GetSubjectsForCurrentTeacher", controller = "Grade"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubjectsForCurrentTeacher() on controller backend.Controllers.GradeController (backend).
2025-05-28 08:49:08.816 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-28 08:49:08.828 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-28 08:49:08.839 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-28 08:49:08.855 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [c].[SubjectId], [s].[Name] AS [SubjectName], [c0].[Name] AS [ClassName]
FROM [ClassSubjects] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Classes] AS [c0] ON [c].[ClassId] = [c0].[Id]
WHERE [c].[TeacherId] = @__teacherId_0
2025-05-28 08:49:08.855 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.SubjectWithClassDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-28 08:49:08.856 +02:00 [INF] Executed action backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend) in 52.6474ms
2025-05-28 08:49:08.856 +02:00 [INF] Executed endpoint 'backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend)'
2025-05-28 08:49:08.856 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/grade/subjects - 200 null application/json; charset=utf-8 53.7427ms
2025-05-28 08:49:08.864 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-28 08:49:08.866 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-28 08:49:08.867 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 92.1485ms
2025-05-28 08:49:08.867 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-28 08:49:08.867 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 93.8788ms
2025-05-28 08:49:50.748 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-28 08:49:50.755 +02:00 [INF] CORS policy execution successful.
2025-05-28 08:49:50.768 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 19.0314ms
2025-05-28 08:49:50.775 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-28 08:49:50.776 +02:00 [INF] CORS policy execution successful.
2025-05-28 08:49:50.782 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/grade/subjects - null null
2025-05-28 08:49:50.782 +02:00 [INF] CORS policy execution successful.
2025-05-28 08:49:50.784 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/grade/subjects - 204 null null 1.079ms
2025-05-28 08:49:50.784 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-28 08:49:50.786 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-28 08:49:50.788 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/grade/subjects - null null
2025-05-28 08:49:50.788 +02:00 [INF] CORS policy execution successful.
2025-05-28 08:49:50.789 +02:00 [INF] Executing endpoint 'backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend)'
2025-05-28 08:49:50.790 +02:00 [INF] Route matched with {action = "GetSubjectsForCurrentTeacher", controller = "Grade"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubjectsForCurrentTeacher() on controller backend.Controllers.GradeController (backend).
2025-05-28 08:49:50.828 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-28 08:49:50.844 +02:00 [INF] Executed DbCommand (47ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-28 08:49:50.864 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [c].[SubjectId], [s].[Name] AS [SubjectName], [c0].[Name] AS [ClassName]
FROM [ClassSubjects] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Classes] AS [c0] ON [c].[ClassId] = [c0].[Id]
WHERE [c].[TeacherId] = @__teacherId_0
2025-05-28 08:49:50.870 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-28 08:49:50.871 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.SubjectWithClassDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-28 08:49:50.884 +02:00 [INF] Executed action backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend) in 94.6524ms
2025-05-28 08:49:50.884 +02:00 [INF] Executed endpoint 'backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend)'
2025-05-28 08:49:50.885 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/grade/subjects - 200 null application/json; charset=utf-8 97.1947ms
2025-05-28 08:49:50.907 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-28 08:49:50.907 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-28 08:49:50.907 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 121.3065ms
2025-05-28 08:49:50.907 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-28 08:49:50.907 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 132.6123ms
2025-05-28 08:50:40.087 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-28 08:50:40.088 +02:00 [INF] CORS policy execution successful.
2025-05-28 08:50:40.089 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 1.6337ms
2025-05-28 08:50:40.090 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-28 08:50:40.093 +02:00 [INF] CORS policy execution successful.
2025-05-28 08:50:40.096 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/grade/subjects - null null
2025-05-28 08:50:40.098 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-28 08:50:40.099 +02:00 [INF] CORS policy execution successful.
2025-05-28 08:50:40.099 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/grade/subjects - 204 null null 2.9201ms
2025-05-28 08:50:40.101 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/grade/subjects - null null
2025-05-28 08:50:40.102 +02:00 [INF] CORS policy execution successful.
2025-05-28 08:50:40.103 +02:00 [INF] Executing endpoint 'backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend)'
2025-05-28 08:50:40.109 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-28 08:50:40.109 +02:00 [INF] Route matched with {action = "GetSubjectsForCurrentTeacher", controller = "Grade"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubjectsForCurrentTeacher() on controller backend.Controllers.GradeController (backend).
2025-05-28 08:50:40.148 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-28 08:50:40.148 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-28 08:50:40.192 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-28 08:50:40.205 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SubjectId], [t].[SubjectName], [t].[ClassName]
FROM (
    SELECT DISTINCT [c].[SubjectId], [s].[Name] AS [SubjectName], [c0].[Name] AS [ClassName]
    FROM [ClassSubjects] AS [c]
    INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
    INNER JOIN [Classes] AS [c0] ON [c].[ClassId] = [c0].[Id]
    WHERE [c].[TeacherId] = @__teacherId_0
) AS [t]
ORDER BY [t].[SubjectName]
2025-05-28 08:50:40.205 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.SubjectWithClassDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-28 08:50:40.207 +02:00 [INF] Executed action backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend) in 97.2965ms
2025-05-28 08:50:40.207 +02:00 [INF] Executed endpoint 'backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend)'
2025-05-28 08:50:40.207 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/grade/subjects - 200 null application/json; charset=utf-8 106.5112ms
2025-05-28 08:50:40.217 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-28 08:50:40.218 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-28 08:50:40.223 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 113.6392ms
2025-05-28 08:50:40.223 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-28 08:50:40.225 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 135.266ms
2025-05-28 08:51:04.278 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/grade/students/4 - null null
2025-05-28 08:51:04.279 +02:00 [INF] CORS policy execution successful.
2025-05-28 08:51:04.280 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/grade/students/4 - 204 null null 2.1476ms
2025-05-28 08:51:04.281 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/grade/students/4 - null null
2025-05-28 08:51:04.282 +02:00 [INF] CORS policy execution successful.
2025-05-28 08:51:04.283 +02:00 [INF] Executing endpoint 'backend.Controllers.GradeController.GetStudentsForSubject (backend)'
2025-05-28 08:51:04.290 +02:00 [INF] Route matched with {action = "GetStudentsForSubject", controller = "Grade"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentsForSubject(Int32) on controller backend.Controllers.GradeController (backend).
2025-05-28 08:51:04.317 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-28 08:51:04.391 +02:00 [INF] Executed DbCommand (73ms) [Parameters=[@__teacherId_0='?' (DbType = Int32), @__subjectId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [c].[ClassId]
FROM [ClassSubjects] AS [c]
WHERE [c].[TeacherId] = @__teacherId_0 AND [c].[SubjectId] = @__subjectId_1
2025-05-28 08:51:04.465 +02:00 [INF] Executed DbCommand (72ms) [Parameters=[@__classIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[FirstName], [s].[LastName]
FROM [Students] AS [s]
WHERE COALESCE([s].[ClassId], 0) IN (
    SELECT [c].[value]
    FROM OPENJSON(@__classIds_0) WITH ([value] int '$') AS [c]
)
ORDER BY [s].[LastName]
2025-05-28 08:51:04.466 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.StudentDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-28 08:51:04.469 +02:00 [INF] Executed action backend.Controllers.GradeController.GetStudentsForSubject (backend) in 179.23ms
2025-05-28 08:51:04.469 +02:00 [INF] Executed endpoint 'backend.Controllers.GradeController.GetStudentsForSubject (backend)'
2025-05-28 08:51:04.470 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/grade/students/4 - 200 null application/json; charset=utf-8 188.2422ms
2025-05-28 08:51:10.824 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/grade/students/4 - null null
2025-05-28 08:51:10.824 +02:00 [INF] CORS policy execution successful.
2025-05-28 08:51:10.825 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/grade/students/4 - 204 null null 0.5477ms
2025-05-28 08:51:10.827 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/grade/students/4 - null null
2025-05-28 08:51:10.827 +02:00 [INF] CORS policy execution successful.
2025-05-28 08:51:10.828 +02:00 [INF] Executing endpoint 'backend.Controllers.GradeController.GetStudentsForSubject (backend)'
2025-05-28 08:51:10.828 +02:00 [INF] Route matched with {action = "GetStudentsForSubject", controller = "Grade"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentsForSubject(Int32) on controller backend.Controllers.GradeController (backend).
2025-05-28 08:51:10.854 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-28 08:51:10.877 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__teacherId_0='?' (DbType = Int32), @__subjectId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [c].[ClassId]
FROM [ClassSubjects] AS [c]
WHERE [c].[TeacherId] = @__teacherId_0 AND [c].[SubjectId] = @__subjectId_1
2025-05-28 08:51:10.903 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__classIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[FirstName], [s].[LastName]
FROM [Students] AS [s]
WHERE COALESCE([s].[ClassId], 0) IN (
    SELECT [c].[value]
    FROM OPENJSON(@__classIds_0) WITH ([value] int '$') AS [c]
)
ORDER BY [s].[LastName]
2025-05-28 08:51:10.903 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.StudentDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-28 08:51:10.903 +02:00 [INF] Executed action backend.Controllers.GradeController.GetStudentsForSubject (backend) in 75.4832ms
2025-05-28 08:51:10.903 +02:00 [INF] Executed endpoint 'backend.Controllers.GradeController.GetStudentsForSubject (backend)'
2025-05-28 08:51:10.904 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/grade/students/4 - 200 null application/json; charset=utf-8 76.9689ms
2025-05-28 08:52:12.380 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-28 08:52:12.383 +02:00 [INF] CORS policy execution successful.
2025-05-28 08:52:12.384 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 4.2515ms
2025-05-28 08:52:12.385 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-28 08:52:12.394 +02:00 [INF] CORS policy execution successful.
2025-05-28 08:52:12.405 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-28 08:52:12.406 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/grade/subjects - null null
2025-05-28 08:52:12.408 +02:00 [INF] CORS policy execution successful.
2025-05-28 08:52:12.409 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/grade/subjects - 204 null null 2.7452ms
2025-05-28 08:52:12.409 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-28 08:52:12.410 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/grade/subjects - null null
2025-05-28 08:52:12.410 +02:00 [INF] CORS policy execution successful.
2025-05-28 08:52:12.411 +02:00 [INF] Executing endpoint 'backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend)'
2025-05-28 08:52:12.411 +02:00 [INF] Route matched with {action = "GetSubjectsForCurrentTeacher", controller = "Grade"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubjectsForCurrentTeacher() on controller backend.Controllers.GradeController (backend).
2025-05-28 08:52:12.439 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-28 08:52:12.439 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-28 08:52:12.468 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-28 08:52:12.468 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SubjectId], [t].[SubjectName], [t].[ClassName]
FROM (
    SELECT DISTINCT [c].[SubjectId], [s].[Name] AS [SubjectName], [c0].[Name] AS [ClassName]
    FROM [ClassSubjects] AS [c]
    INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
    INNER JOIN [Classes] AS [c0] ON [c].[ClassId] = [c0].[Id]
    WHERE [c].[TeacherId] = @__teacherId_0
) AS [t]
ORDER BY [t].[SubjectName]
2025-05-28 08:52:12.479 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.SubjectWithClassDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-28 08:52:12.480 +02:00 [INF] Executed action backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend) in 68.9278ms
2025-05-28 08:52:12.482 +02:00 [INF] Executed endpoint 'backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend)'
2025-05-28 08:52:12.483 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/grade/subjects - 200 null application/json; charset=utf-8 73.4458ms
2025-05-28 08:52:12.503 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-28 08:52:12.504 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-28 08:52:12.504 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 95.3066ms
2025-05-28 08:52:12.504 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-28 08:52:12.504 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 119.1349ms
2025-05-28 08:58:52.193 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-28 08:58:52.196 +02:00 [INF] CORS policy execution successful.
2025-05-28 08:58:52.197 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 4.0682ms
2025-05-28 08:58:52.198 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-28 08:58:52.202 +02:00 [INF] CORS policy execution successful.
2025-05-28 08:58:52.221 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-28 08:58:52.235 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-28 08:58:52.291 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/grade/subjects - null null
2025-05-28 08:58:52.291 +02:00 [INF] CORS policy execution successful.
2025-05-28 08:58:52.291 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/grade/subjects - 204 null null 0.6702ms
2025-05-28 08:58:52.294 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/grade/subjects - null null
2025-05-28 08:58:52.296 +02:00 [INF] CORS policy execution successful.
2025-05-28 08:58:52.297 +02:00 [INF] Executing endpoint 'backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend)'
2025-05-28 08:58:52.304 +02:00 [INF] Route matched with {action = "GetSubjectsForCurrentTeacher", controller = "Grade"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubjectsForCurrentTeacher() on controller backend.Controllers.GradeController (backend).
2025-05-28 08:58:52.439 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-28 08:58:52.463 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-28 08:58:52.488 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-28 08:58:52.488 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-28 08:58:52.490 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 254.967ms
2025-05-28 08:58:52.490 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-28 08:58:52.491 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 292.2632ms
2025-05-28 08:58:52.568 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-28 08:58:52.592 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SubjectId], [t].[SubjectName], [t].[ClassName]
FROM (
    SELECT DISTINCT [c].[SubjectId], [s].[Name] AS [SubjectName], [c0].[Name] AS [ClassName]
    FROM [ClassSubjects] AS [c]
    INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
    INNER JOIN [Classes] AS [c0] ON [c].[ClassId] = [c0].[Id]
    WHERE [c].[TeacherId] = @__teacherId_0
) AS [t]
ORDER BY [t].[SubjectName]
2025-05-28 08:58:52.593 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.SubjectWithClassDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-28 08:58:52.594 +02:00 [INF] Executed action backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend) in 290.4926ms
2025-05-28 08:58:52.594 +02:00 [INF] Executed endpoint 'backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend)'
2025-05-28 08:58:52.594 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/grade/subjects - 200 null application/json; charset=utf-8 300.0921ms
2025-05-28 08:58:56.895 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-28 08:58:56.900 +02:00 [INF] CORS policy execution successful.
2025-05-28 08:58:56.902 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-28 08:58:56.903 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-28 08:58:56.911 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/grade/subjects - null null
2025-05-28 08:58:56.911 +02:00 [INF] CORS policy execution successful.
2025-05-28 08:58:56.915 +02:00 [INF] Executing endpoint 'backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend)'
2025-05-28 08:58:56.917 +02:00 [INF] Route matched with {action = "GetSubjectsForCurrentTeacher", controller = "Grade"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubjectsForCurrentTeacher() on controller backend.Controllers.GradeController (backend).
2025-05-28 08:58:56.948 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-28 08:58:56.949 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-28 08:58:56.973 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SubjectId], [t].[SubjectName], [t].[ClassName]
FROM (
    SELECT DISTINCT [c].[SubjectId], [s].[Name] AS [SubjectName], [c0].[Name] AS [ClassName]
    FROM [ClassSubjects] AS [c]
    INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
    INNER JOIN [Classes] AS [c0] ON [c].[ClassId] = [c0].[Id]
    WHERE [c].[TeacherId] = @__teacherId_0
) AS [t]
ORDER BY [t].[SubjectName]
2025-05-28 08:58:56.975 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-28 08:58:56.978 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.SubjectWithClassDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-28 08:58:56.982 +02:00 [INF] Executed action backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend) in 64.2383ms
2025-05-28 08:58:56.983 +02:00 [INF] Executed endpoint 'backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend)'
2025-05-28 08:58:56.983 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/grade/subjects - 200 null application/json; charset=utf-8 72.2817ms
2025-05-28 08:58:57.007 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-28 08:58:57.008 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-28 08:58:57.008 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 105.4429ms
2025-05-28 08:58:57.008 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-28 08:58:57.009 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 114.4235ms
2025-05-28 08:59:35.265 +02:00 [INF] Application is starting
2025-05-28 08:59:35.298 +02:00 [INF] User profile is available. Using '/Users/pawelstaniul/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-05-28 08:59:35.324 +02:00 [WRN] The WebRootPath was not found: /Users/pawelstaniul/Desktop/Programy/school-logbook/backend/wwwroot. Static files may be unavailable.
2025-05-28 08:59:35.330 +02:00 [INF] Now listening on: http://localhost:5234
2025-05-28 08:59:35.331 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-28 08:59:35.331 +02:00 [INF] Hosting environment: Development
2025-05-28 08:59:35.331 +02:00 [INF] Content root path: /Users/pawelstaniul/Desktop/Programy/school-logbook/backend
2025-05-28 08:59:36.763 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/grade/subjects - null null
2025-05-28 08:59:36.764 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-28 08:59:36.778 +02:00 [WRN] Failed to determine the https port for redirect.
2025-05-28 08:59:36.825 +02:00 [INF] CORS policy execution successful.
2025-05-28 08:59:36.825 +02:00 [INF] CORS policy execution successful.
2025-05-28 08:59:36.828 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/grade/subjects - 204 null null 66.6538ms
2025-05-28 08:59:36.827 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 65.5272ms
2025-05-28 08:59:36.832 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/grade/subjects - null null
2025-05-28 08:59:36.832 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-28 08:59:36.841 +02:00 [INF] CORS policy execution successful.
2025-05-28 08:59:36.841 +02:00 [INF] CORS policy execution successful.
2025-05-28 08:59:36.925 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-28 08:59:36.926 +02:00 [INF] Executing endpoint 'backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend)'
2025-05-28 08:59:36.941 +02:00 [INF] Route matched with {action = "GetSubjectsForCurrentTeacher", controller = "Grade"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubjectsForCurrentTeacher() on controller backend.Controllers.GradeController (backend).
2025-05-28 08:59:36.941 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-28 08:59:37.701 +02:00 [INF] Executed DbCommand (43ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-28 08:59:37.771 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SubjectId], [t].[SubjectName], [t].[ClassId], [t].[ClassName]
FROM (
    SELECT DISTINCT [c].[SubjectId], [s].[Name] AS [SubjectName], [c].[ClassId], [c0].[Name] AS [ClassName]
    FROM [ClassSubjects] AS [c]
    INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
    INNER JOIN [Classes] AS [c0] ON [c].[ClassId] = [c0].[Id]
    WHERE [c].[TeacherId] = @__teacherId_0
) AS [t]
ORDER BY [t].[SubjectName]
2025-05-28 08:59:37.776 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.SubjectWithClassDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-28 08:59:37.786 +02:00 [INF] Executed action backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend) in 842.5012ms
2025-05-28 08:59:37.786 +02:00 [INF] Executed endpoint 'backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend)'
2025-05-28 08:59:37.791 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/grade/subjects - 200 null application/json; charset=utf-8 959.0815ms
2025-05-28 08:59:37.800 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-28 08:59:37.832 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-28 08:59:37.859 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-28 08:59:37.860 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-28 08:59:37.868 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 925.9058ms
2025-05-28 08:59:37.868 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-28 08:59:37.869 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 1036.9822ms
2025-05-28 09:15:33.471 +02:00 [INF] Application is starting
2025-05-28 09:15:33.506 +02:00 [INF] User profile is available. Using '/Users/pawelstaniul/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-05-28 09:15:33.531 +02:00 [WRN] The WebRootPath was not found: /Users/pawelstaniul/Desktop/Programy/school-logbook/backend/wwwroot. Static files may be unavailable.
2025-05-28 09:15:33.537 +02:00 [INF] Now listening on: http://localhost:5234
2025-05-28 09:15:33.538 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-28 09:15:33.538 +02:00 [INF] Hosting environment: Development
2025-05-28 09:15:33.538 +02:00 [INF] Content root path: /Users/pawelstaniul/Desktop/Programy/school-logbook/backend
2025-05-28 09:26:18.484 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-28 09:26:18.495 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/grade/subjects - null null
2025-05-28 09:26:18.535 +02:00 [WRN] Failed to determine the https port for redirect.
2025-05-28 09:26:18.580 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:26:18.580 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:26:18.586 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 104.1914ms
2025-05-28 09:26:18.586 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/grade/subjects - 204 null null 89.774ms
2025-05-28 09:26:18.595 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-28 09:26:18.595 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/grade/subjects - null null
2025-05-28 09:26:18.608 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:26:18.608 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:26:18.690 +02:00 [INF] Executing endpoint 'backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend)'
2025-05-28 09:26:18.690 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-28 09:26:18.704 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-28 09:26:18.704 +02:00 [INF] Route matched with {action = "GetSubjectsForCurrentTeacher", controller = "Grade"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubjectsForCurrentTeacher() on controller backend.Controllers.GradeController (backend).
2025-05-28 09:26:19.560 +02:00 [INF] Executed DbCommand (47ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-28 09:26:19.616 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-28 09:26:19.650 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-28 09:26:19.654 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-28 09:26:19.654 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-28 09:26:19.666 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 960.4062ms
2025-05-28 09:26:19.667 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-28 09:26:19.670 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 1075.0354ms
2025-05-28 09:26:19.693 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SubjectId], [t].[SubjectName], [t].[ClassId], [t].[ClassName]
FROM (
    SELECT DISTINCT [c].[SubjectId], [s].[Name] AS [SubjectName], [c].[ClassId], [c0].[Name] AS [ClassName]
    FROM [ClassSubjects] AS [c]
    INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
    INNER JOIN [Classes] AS [c0] ON [c].[ClassId] = [c0].[Id]
    WHERE [c].[TeacherId] = @__teacherId_0
) AS [t]
ORDER BY [t].[SubjectName]
2025-05-28 09:26:19.694 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.SubjectWithClassDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-28 09:26:19.697 +02:00 [INF] Executed action backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend) in 992.8832ms
2025-05-28 09:26:19.697 +02:00 [INF] Executed endpoint 'backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend)'
2025-05-28 09:26:19.698 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/grade/subjects - 200 null application/json; charset=utf-8 1103.003ms
2025-05-28 09:26:23.991 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-28 09:26:24.007 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:26:24.008 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 19.0112ms
2025-05-28 09:26:24.010 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-28 09:26:24.011 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:26:24.013 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/grade/subjects - null null
2025-05-28 09:26:24.013 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:26:24.014 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/grade/subjects - 204 null null 0.6657ms
2025-05-28 09:26:24.016 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/grade/subjects - null null
2025-05-28 09:26:24.017 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:26:24.022 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-28 09:26:24.024 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-28 09:26:24.025 +02:00 [INF] Executing endpoint 'backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend)'
2025-05-28 09:26:24.026 +02:00 [INF] Route matched with {action = "GetSubjectsForCurrentTeacher", controller = "Grade"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubjectsForCurrentTeacher() on controller backend.Controllers.GradeController (backend).
2025-05-28 09:26:24.135 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-28 09:26:24.135 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-28 09:26:24.161 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-28 09:26:24.161 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SubjectId], [t].[SubjectName], [t].[ClassId], [t].[ClassName]
FROM (
    SELECT DISTINCT [c].[SubjectId], [s].[Name] AS [SubjectName], [c].[ClassId], [c0].[Name] AS [ClassName]
    FROM [ClassSubjects] AS [c]
    INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
    INNER JOIN [Classes] AS [c0] ON [c].[ClassId] = [c0].[Id]
    WHERE [c].[TeacherId] = @__teacherId_0
) AS [t]
ORDER BY [t].[SubjectName]
2025-05-28 09:26:24.162 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.SubjectWithClassDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-28 09:26:24.163 +02:00 [INF] Executed action backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend) in 136.9636ms
2025-05-28 09:26:24.164 +02:00 [INF] Executed endpoint 'backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend)'
2025-05-28 09:26:24.164 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/grade/subjects - 200 null application/json; charset=utf-8 147.697ms
2025-05-28 09:26:24.187 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-28 09:26:24.188 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-28 09:26:24.188 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 163.8409ms
2025-05-28 09:26:24.190 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-28 09:26:24.193 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 182.2837ms
2025-05-28 09:26:41.567 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-28 09:26:41.577 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:26:41.584 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/grade/subjects - null null
2025-05-28 09:26:41.580 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 17.5943ms
2025-05-28 09:26:41.584 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:26:41.585 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-28 09:26:41.585 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/grade/subjects - 204 null null 1.0165ms
2025-05-28 09:26:41.585 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:26:41.586 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/grade/subjects - null null
2025-05-28 09:26:41.586 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:26:41.594 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-28 09:26:41.595 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-28 09:26:41.602 +02:00 [INF] Executing endpoint 'backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend)'
2025-05-28 09:26:41.603 +02:00 [INF] Route matched with {action = "GetSubjectsForCurrentTeacher", controller = "Grade"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubjectsForCurrentTeacher() on controller backend.Controllers.GradeController (backend).
2025-05-28 09:26:41.639 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-28 09:26:41.662 +02:00 [INF] Executed DbCommand (43ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-28 09:26:41.687 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SubjectId], [t].[SubjectName], [t].[ClassId], [t].[ClassName]
FROM (
    SELECT DISTINCT [c].[SubjectId], [s].[Name] AS [SubjectName], [c].[ClassId], [c0].[Name] AS [ClassName]
    FROM [ClassSubjects] AS [c]
    INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
    INNER JOIN [Classes] AS [c0] ON [c].[ClassId] = [c0].[Id]
    WHERE [c].[TeacherId] = @__teacherId_0
) AS [t]
ORDER BY [t].[SubjectName]
2025-05-28 09:26:41.688 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-28 09:26:41.694 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.SubjectWithClassDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-28 09:26:41.696 +02:00 [INF] Executed action backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend) in 92.6306ms
2025-05-28 09:26:41.697 +02:00 [INF] Executed endpoint 'backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend)'
2025-05-28 09:26:41.697 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/grade/subjects - 200 null application/json; charset=utf-8 110.965ms
2025-05-28 09:26:41.718 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-28 09:26:41.718 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-28 09:26:41.718 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 122.9069ms
2025-05-28 09:26:41.718 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-28 09:26:41.718 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 133.7756ms
2025-05-28 09:30:11.032 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-28 09:30:11.035 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:30:11.037 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 5.3897ms
2025-05-28 09:30:11.040 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-28 09:30:11.043 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:30:11.049 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/grade/subjects - null null
2025-05-28 09:30:11.057 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:30:11.058 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/grade/subjects - 204 null null 10.4801ms
2025-05-28 09:30:11.060 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/grade/subjects - null null
2025-05-28 09:30:11.060 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:30:11.061 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-28 09:30:11.061 +02:00 [INF] Executing endpoint 'backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend)'
2025-05-28 09:30:11.062 +02:00 [INF] Route matched with {action = "GetSubjectsForCurrentTeacher", controller = "Grade"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubjectsForCurrentTeacher() on controller backend.Controllers.GradeController (backend).
2025-05-28 09:30:11.062 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-28 09:30:11.100 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-28 09:30:11.100 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-28 09:30:11.127 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-28 09:30:11.127 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SubjectId], [t].[SubjectName], [t].[ClassId], [t].[ClassName]
FROM (
    SELECT DISTINCT [c].[SubjectId], [s].[Name] AS [SubjectName], [c].[ClassId], [c0].[Name] AS [ClassName]
    FROM [ClassSubjects] AS [c]
    INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
    INNER JOIN [Classes] AS [c0] ON [c].[ClassId] = [c0].[Id]
    WHERE [c].[TeacherId] = @__teacherId_0
) AS [t]
ORDER BY [t].[SubjectName]
2025-05-28 09:30:11.132 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.SubjectWithClassDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-28 09:30:11.133 +02:00 [INF] Executed action backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend) in 70.8185ms
2025-05-28 09:30:11.133 +02:00 [INF] Executed endpoint 'backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend)'
2025-05-28 09:30:11.133 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/grade/subjects - 200 null application/json; charset=utf-8 73.2803ms
2025-05-28 09:30:11.161 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-28 09:30:11.162 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-28 09:30:11.162 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 99.807ms
2025-05-28 09:30:11.162 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-28 09:30:11.162 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 122.1575ms
2025-05-28 09:30:23.977 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-28 09:30:23.981 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:30:23.981 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 4.7781ms
2025-05-28 09:30:23.982 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-28 09:30:23.983 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:30:23.985 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-28 09:30:23.986 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-28 09:30:24.064 +02:00 [INF] Executed DbCommand (33ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-28 09:30:24.067 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/grade/subjects - null null
2025-05-28 09:30:24.068 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:30:24.068 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/grade/subjects - 204 null null 0.3955ms
2025-05-28 09:30:24.072 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/grade/subjects - null null
2025-05-28 09:30:24.073 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:30:24.074 +02:00 [INF] Executing endpoint 'backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend)'
2025-05-28 09:30:24.074 +02:00 [INF] Route matched with {action = "GetSubjectsForCurrentTeacher", controller = "Grade"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubjectsForCurrentTeacher() on controller backend.Controllers.GradeController (backend).
2025-05-28 09:30:24.090 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-28 09:30:24.099 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-28 09:30:24.117 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-28 09:30:24.118 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-28 09:30:24.118 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 131.7325ms
2025-05-28 09:30:24.119 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-28 09:30:24.119 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 136.2047ms
2025-05-28 09:30:24.126 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SubjectId], [t].[SubjectName], [t].[ClassId], [t].[ClassName]
FROM (
    SELECT DISTINCT [c].[SubjectId], [s].[Name] AS [SubjectName], [c].[ClassId], [c0].[Name] AS [ClassName]
    FROM [ClassSubjects] AS [c]
    INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
    INNER JOIN [Classes] AS [c0] ON [c].[ClassId] = [c0].[Id]
    WHERE [c].[TeacherId] = @__teacherId_0
) AS [t]
ORDER BY [t].[SubjectName]
2025-05-28 09:30:24.127 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.SubjectWithClassDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-28 09:30:24.128 +02:00 [INF] Executed action backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend) in 54.0793ms
2025-05-28 09:30:24.128 +02:00 [INF] Executed endpoint 'backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend)'
2025-05-28 09:30:24.128 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/grade/subjects - 200 null application/json; charset=utf-8 56.4854ms
2025-05-28 09:33:01.472 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-28 09:33:01.475 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:33:01.481 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 4.9617ms
2025-05-28 09:33:01.484 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-28 09:33:01.486 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:33:01.492 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-28 09:33:01.499 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-28 09:33:01.542 +02:00 [INF] Executed DbCommand (34ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-28 09:33:01.555 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/grade/subjects - null null
2025-05-28 09:33:01.561 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:33:01.562 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/grade/subjects - 204 null null 6.4458ms
2025-05-28 09:33:01.565 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/grade/subjects - null null
2025-05-28 09:33:01.566 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:33:01.572 +02:00 [INF] Executing endpoint 'backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend)'
2025-05-28 09:33:01.572 +02:00 [INF] Route matched with {action = "GetSubjectsForCurrentTeacher", controller = "Grade"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubjectsForCurrentTeacher() on controller backend.Controllers.GradeController (backend).
2025-05-28 09:33:01.573 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-28 09:33:01.598 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-28 09:33:01.598 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-28 09:33:01.598 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-28 09:33:01.599 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 100.1177ms
2025-05-28 09:33:01.600 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-28 09:33:01.600 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 115.3313ms
2025-05-28 09:33:01.625 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SubjectId], [t].[SubjectName], [t].[ClassId], [t].[ClassName]
FROM (
    SELECT DISTINCT [c].[SubjectId], [s].[Name] AS [SubjectName], [c].[ClassId], [c0].[Name] AS [ClassName]
    FROM [ClassSubjects] AS [c]
    INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
    INNER JOIN [Classes] AS [c0] ON [c].[ClassId] = [c0].[Id]
    WHERE [c].[TeacherId] = @__teacherId_0
) AS [t]
ORDER BY [t].[SubjectName]
2025-05-28 09:33:01.625 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.SubjectWithClassDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-28 09:33:01.626 +02:00 [INF] Executed action backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend) in 53.71ms
2025-05-28 09:33:01.626 +02:00 [INF] Executed endpoint 'backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend)'
2025-05-28 09:33:01.626 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/grade/subjects - 200 null application/json; charset=utf-8 60.934ms
2025-05-28 09:33:17.380 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-28 09:33:17.385 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:33:17.399 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 19.2567ms
2025-05-28 09:33:17.411 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/grade/subjects - null null
2025-05-28 09:33:17.411 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:33:17.411 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-28 09:33:17.412 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/grade/subjects - 204 null null 0.4433ms
2025-05-28 09:33:17.415 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/grade/subjects - null null
2025-05-28 09:33:17.420 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:33:17.421 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:33:17.424 +02:00 [INF] Executing endpoint 'backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend)'
2025-05-28 09:33:17.424 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-28 09:33:17.426 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-28 09:33:17.426 +02:00 [INF] Route matched with {action = "GetSubjectsForCurrentTeacher", controller = "Grade"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubjectsForCurrentTeacher() on controller backend.Controllers.GradeController (backend).
2025-05-28 09:33:17.460 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-28 09:33:17.460 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-28 09:33:17.488 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-28 09:33:17.489 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SubjectId], [t].[SubjectName], [t].[ClassId], [t].[ClassName]
FROM (
    SELECT DISTINCT [c].[SubjectId], [s].[Name] AS [SubjectName], [c].[ClassId], [c0].[Name] AS [ClassName]
    FROM [ClassSubjects] AS [c]
    INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
    INNER JOIN [Classes] AS [c0] ON [c].[ClassId] = [c0].[Id]
    WHERE [c].[TeacherId] = @__teacherId_0
) AS [t]
ORDER BY [t].[SubjectName]
2025-05-28 09:33:17.490 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.SubjectWithClassDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-28 09:33:17.492 +02:00 [INF] Executed action backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend) in 66.3369ms
2025-05-28 09:33:17.492 +02:00 [INF] Executed endpoint 'backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend)'
2025-05-28 09:33:17.493 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/grade/subjects - 200 null application/json; charset=utf-8 77.789ms
2025-05-28 09:33:17.514 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-28 09:33:17.514 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-28 09:33:17.515 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 88.8623ms
2025-05-28 09:33:17.515 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-28 09:33:17.515 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 103.805ms
2025-05-28 09:33:47.901 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-28 09:33:47.903 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:33:47.925 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 23.7693ms
2025-05-28 09:33:47.927 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-28 09:33:47.928 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:33:47.930 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-28 09:33:47.931 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-28 09:33:47.960 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-28 09:33:47.982 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/grade/subjects - null null
2025-05-28 09:33:47.983 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:33:47.983 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/grade/subjects - 204 null null 1.3783ms
2025-05-28 09:33:47.986 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/grade/subjects - null null
2025-05-28 09:33:47.986 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-28 09:33:47.987 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:33:47.987 +02:00 [INF] Executing endpoint 'backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend)'
2025-05-28 09:33:47.988 +02:00 [INF] Route matched with {action = "GetSubjectsForCurrentTeacher", controller = "Grade"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubjectsForCurrentTeacher() on controller backend.Controllers.GradeController (backend).
2025-05-28 09:33:48.013 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-28 09:33:48.013 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-28 09:33:48.013 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-28 09:33:48.013 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 82.5289ms
2025-05-28 09:33:48.014 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-28 09:33:48.014 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 87.051ms
2025-05-28 09:33:48.038 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SubjectId], [t].[SubjectName], [t].[ClassId], [t].[ClassName]
FROM (
    SELECT DISTINCT [c].[SubjectId], [s].[Name] AS [SubjectName], [c].[ClassId], [c0].[Name] AS [ClassName]
    FROM [ClassSubjects] AS [c]
    INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
    INNER JOIN [Classes] AS [c0] ON [c].[ClassId] = [c0].[Id]
    WHERE [c].[TeacherId] = @__teacherId_0
) AS [t]
ORDER BY [t].[SubjectName]
2025-05-28 09:33:48.038 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.SubjectWithClassDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-28 09:33:48.039 +02:00 [INF] Executed action backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend) in 50.9557ms
2025-05-28 09:33:48.039 +02:00 [INF] Executed endpoint 'backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend)'
2025-05-28 09:33:48.039 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/grade/subjects - 200 null application/json; charset=utf-8 52.9943ms
2025-05-28 09:34:12.144 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-28 09:34:12.156 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:34:12.157 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 13.8156ms
2025-05-28 09:34:12.159 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-28 09:34:12.160 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:34:12.176 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/grade/subjects - null null
2025-05-28 09:34:12.176 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:34:12.177 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/grade/subjects - 204 null null 0.9434ms
2025-05-28 09:34:12.181 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/grade/subjects - null null
2025-05-28 09:34:12.182 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-28 09:34:12.182 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:34:12.183 +02:00 [INF] Executing endpoint 'backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend)'
2025-05-28 09:34:12.183 +02:00 [INF] Route matched with {action = "GetSubjectsForCurrentTeacher", controller = "Grade"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubjectsForCurrentTeacher() on controller backend.Controllers.GradeController (backend).
2025-05-28 09:34:12.183 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-28 09:34:12.233 +02:00 [INF] Executed DbCommand (40ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-28 09:34:12.233 +02:00 [INF] Executed DbCommand (41ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-28 09:34:12.276 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SubjectId], [t].[SubjectName], [t].[ClassId], [t].[ClassName]
FROM (
    SELECT DISTINCT [c].[SubjectId], [s].[Name] AS [SubjectName], [c].[ClassId], [c0].[Name] AS [ClassName]
    FROM [ClassSubjects] AS [c]
    INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
    INNER JOIN [Classes] AS [c0] ON [c].[ClassId] = [c0].[Id]
    WHERE [c].[TeacherId] = @__teacherId_0
) AS [t]
ORDER BY [t].[SubjectName]
2025-05-28 09:34:12.278 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.SubjectWithClassDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-28 09:34:12.279 +02:00 [INF] Executed action backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend) in 95.7027ms
2025-05-28 09:34:12.279 +02:00 [INF] Executed endpoint 'backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend)'
2025-05-28 09:34:12.279 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/grade/subjects - 200 null application/json; charset=utf-8 98.2749ms
2025-05-28 09:34:12.282 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-28 09:34:12.306 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-28 09:34:12.307 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-28 09:34:12.307 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 124.0361ms
2025-05-28 09:34:12.307 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-28 09:34:12.308 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 148.3947ms
2025-05-28 09:34:14.930 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/grade/students/4/4 - null null
2025-05-28 09:34:14.933 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:34:14.933 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/grade/students/4/4 - 204 null null 2.8328ms
2025-05-28 09:34:14.934 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/grade/students/4/4 - null null
2025-05-28 09:34:14.935 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:34:14.937 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/grade/students/4/4 - 404 0 null 2.2829ms
2025-05-28 09:34:14.939 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5234/api/grade/students/4/4, Response status code: 404
2025-05-28 09:34:27.763 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/grade/students/12/10 - null null
2025-05-28 09:34:27.764 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:34:27.764 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/grade/students/12/10 - 204 null null 1.2827ms
2025-05-28 09:34:27.767 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/grade/students/12/10 - null null
2025-05-28 09:34:27.767 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:34:27.767 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/grade/students/12/10 - 404 0 null 0.7893ms
2025-05-28 09:34:27.768 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5234/api/grade/students/12/10, Response status code: 404
2025-05-28 09:34:29.746 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/grade/students/4/5 - null null
2025-05-28 09:34:29.747 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:34:29.747 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/grade/students/4/5 - 204 null null 0.4275ms
2025-05-28 09:34:29.748 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/grade/students/4/5 - null null
2025-05-28 09:34:29.748 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:34:29.749 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/grade/students/4/5 - 404 0 null 0.6266ms
2025-05-28 09:34:29.749 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5234/api/grade/students/4/5, Response status code: 404
2025-05-28 09:34:31.812 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/grade/students/4/7 - null null
2025-05-28 09:34:31.812 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:34:31.812 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/grade/students/4/7 - 204 null null 0.4053ms
2025-05-28 09:34:31.813 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/grade/students/4/7 - null null
2025-05-28 09:34:31.813 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:34:31.814 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/grade/students/4/7 - 404 0 null 0.663ms
2025-05-28 09:34:31.814 +02:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5234/api/grade/students/4/7, Response status code: 404
2025-05-28 09:35:29.760 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-28 09:35:29.784 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:35:29.784 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/grade/subjects - null null
2025-05-28 09:35:29.784 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:35:29.784 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 23.9521ms
2025-05-28 09:35:29.784 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/grade/subjects - 204 null null 0.3432ms
2025-05-28 09:35:29.791 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/grade/subjects - null null
2025-05-28 09:35:29.791 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-28 09:35:29.806 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:35:29.807 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:35:29.810 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-28 09:35:29.812 +02:00 [INF] Executing endpoint 'backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend)'
2025-05-28 09:35:29.819 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-28 09:35:29.819 +02:00 [INF] Route matched with {action = "GetSubjectsForCurrentTeacher", controller = "Grade"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubjectsForCurrentTeacher() on controller backend.Controllers.GradeController (backend).
2025-05-28 09:35:29.861 +02:00 [INF] Executed DbCommand (39ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-28 09:35:29.864 +02:00 [INF] Executed DbCommand (41ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-28 09:35:29.892 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-28 09:35:29.892 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SubjectId], [t].[SubjectName], [t].[ClassId], [t].[ClassName]
FROM (
    SELECT DISTINCT [c].[SubjectId], [s].[Name] AS [SubjectName], [c].[ClassId], [c0].[Name] AS [ClassName]
    FROM [ClassSubjects] AS [c]
    INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
    INNER JOIN [Classes] AS [c0] ON [c].[ClassId] = [c0].[Id]
    WHERE [c].[TeacherId] = @__teacherId_0
) AS [t]
ORDER BY [t].[SubjectName]
2025-05-28 09:35:29.892 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.SubjectWithClassDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-28 09:35:29.897 +02:00 [INF] Executed action backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend) in 77.0566ms
2025-05-28 09:35:29.897 +02:00 [INF] Executed endpoint 'backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend)'
2025-05-28 09:35:29.897 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/grade/subjects - 200 null application/json; charset=utf-8 106.234ms
2025-05-28 09:35:29.917 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-28 09:35:29.918 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-28 09:35:29.921 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 101.5108ms
2025-05-28 09:35:29.921 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-28 09:35:29.922 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 130.6189ms
2025-05-28 09:35:31.278 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/grade/students/12/10 - null null
2025-05-28 09:35:31.279 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:35:31.279 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/grade/students/12/10 - 204 null null 1.4221ms
2025-05-28 09:35:31.281 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/grade/students/12/10 - null null
2025-05-28 09:35:31.281 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:35:31.281 +02:00 [INF] Executing endpoint 'backend.Controllers.GradeController.GetStudentsForSubjectAndClass (backend)'
2025-05-28 09:35:31.297 +02:00 [INF] Route matched with {action = "GetStudentsForSubjectAndClass", controller = "Grade"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentsForSubjectAndClass(Int32, Int32) on controller backend.Controllers.GradeController (backend).
2025-05-28 09:35:31.335 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-28 09:35:31.382 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@__teacherId_0='?' (DbType = Int32), @__subjectId_1='?' (DbType = Int32), @__classId_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [ClassSubjects] AS [c]
        WHERE [c].[TeacherId] = @__teacherId_0 AND [c].[SubjectId] = @__subjectId_1 AND [c].[ClassId] = @__classId_2) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-05-28 09:35:31.395 +02:00 [ERR] Błąd podczas pobierania uczniów do oceny.
System.InvalidOperationException: The LINQ expression 'DbSet<Student>()
    .Where(s => s.ClassId == __classId_0)
    .OrderBy(s => new StudentDto{ 
        Id = s.Id, 
        FullName = s.FirstName + " " + s.LastName 
    }
    .LastName)' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at backend.Services.GradeService.GetStudentsForSubjectAndClassAsync(Int32 teacherId, Int32 subjectId, Int32 classId)
   at backend.Controllers.GradeController.GetStudentsForSubjectAndClass(Int32 subjectId, Int32 classId)
2025-05-28 09:35:31.408 +02:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-28 09:35:31.411 +02:00 [INF] Executed action backend.Controllers.GradeController.GetStudentsForSubjectAndClass (backend) in 113.0802ms
2025-05-28 09:35:31.411 +02:00 [INF] Executed endpoint 'backend.Controllers.GradeController.GetStudentsForSubjectAndClass (backend)'
2025-05-28 09:35:31.411 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/grade/students/12/10 - 400 null application/json; charset=utf-8 130.405ms
2025-05-28 09:35:37.510 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/grade/students/4/4 - null null
2025-05-28 09:35:37.512 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:35:37.512 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/grade/students/4/4 - 204 null null 1.7456ms
2025-05-28 09:35:37.514 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/grade/students/4/4 - null null
2025-05-28 09:35:37.514 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:35:37.514 +02:00 [INF] Executing endpoint 'backend.Controllers.GradeController.GetStudentsForSubjectAndClass (backend)'
2025-05-28 09:35:37.514 +02:00 [INF] Route matched with {action = "GetStudentsForSubjectAndClass", controller = "Grade"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentsForSubjectAndClass(Int32, Int32) on controller backend.Controllers.GradeController (backend).
2025-05-28 09:35:37.540 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-28 09:35:37.563 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__teacherId_0='?' (DbType = Int32), @__subjectId_1='?' (DbType = Int32), @__classId_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [ClassSubjects] AS [c]
        WHERE [c].[TeacherId] = @__teacherId_0 AND [c].[SubjectId] = @__subjectId_1 AND [c].[ClassId] = @__classId_2) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-05-28 09:35:37.564 +02:00 [ERR] Błąd podczas pobierania uczniów do oceny.
System.InvalidOperationException: The LINQ expression 'DbSet<Student>()
    .Where(s => s.ClassId == __classId_0)
    .OrderBy(s => new StudentDto{ 
        Id = s.Id, 
        FullName = s.FirstName + " " + s.LastName 
    }
    .LastName)' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at backend.Services.GradeService.GetStudentsForSubjectAndClassAsync(Int32 teacherId, Int32 subjectId, Int32 classId)
   at backend.Controllers.GradeController.GetStudentsForSubjectAndClass(Int32 subjectId, Int32 classId)
2025-05-28 09:35:37.565 +02:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-28 09:35:37.565 +02:00 [INF] Executed action backend.Controllers.GradeController.GetStudentsForSubjectAndClass (backend) in 50.6922ms
2025-05-28 09:35:37.565 +02:00 [INF] Executed endpoint 'backend.Controllers.GradeController.GetStudentsForSubjectAndClass (backend)'
2025-05-28 09:35:37.565 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/grade/students/4/4 - 400 null application/json; charset=utf-8 51.7585ms
2025-05-28 09:35:39.460 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/grade/students/4/5 - null null
2025-05-28 09:35:39.460 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:35:39.461 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/grade/students/4/5 - 204 null null 0.3978ms
2025-05-28 09:35:39.462 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/grade/students/4/5 - null null
2025-05-28 09:35:39.463 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:35:39.463 +02:00 [INF] Executing endpoint 'backend.Controllers.GradeController.GetStudentsForSubjectAndClass (backend)'
2025-05-28 09:35:39.463 +02:00 [INF] Route matched with {action = "GetStudentsForSubjectAndClass", controller = "Grade"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentsForSubjectAndClass(Int32, Int32) on controller backend.Controllers.GradeController (backend).
2025-05-28 09:35:39.489 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-28 09:35:39.513 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__teacherId_0='?' (DbType = Int32), @__subjectId_1='?' (DbType = Int32), @__classId_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [ClassSubjects] AS [c]
        WHERE [c].[TeacherId] = @__teacherId_0 AND [c].[SubjectId] = @__subjectId_1 AND [c].[ClassId] = @__classId_2) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-05-28 09:35:39.514 +02:00 [ERR] Błąd podczas pobierania uczniów do oceny.
System.InvalidOperationException: The LINQ expression 'DbSet<Student>()
    .Where(s => s.ClassId == __classId_0)
    .OrderBy(s => new StudentDto{ 
        Id = s.Id, 
        FullName = s.FirstName + " " + s.LastName 
    }
    .LastName)' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at backend.Services.GradeService.GetStudentsForSubjectAndClassAsync(Int32 teacherId, Int32 subjectId, Int32 classId)
   at backend.Controllers.GradeController.GetStudentsForSubjectAndClass(Int32 subjectId, Int32 classId)
2025-05-28 09:35:39.515 +02:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-28 09:35:39.515 +02:00 [INF] Executed action backend.Controllers.GradeController.GetStudentsForSubjectAndClass (backend) in 51.8793ms
2025-05-28 09:35:39.515 +02:00 [INF] Executed endpoint 'backend.Controllers.GradeController.GetStudentsForSubjectAndClass (backend)'
2025-05-28 09:35:39.516 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/grade/students/4/5 - 400 null application/json; charset=utf-8 53.6735ms
2025-05-28 09:36:11.849 +02:00 [INF] Application is shutting down...
28 09:36:09.605 +02:00 [INF] User profile is available. Using '/Users/pawelstaniul/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-05-28 09:36:09.642 +02:00 [WRN] The WebRootPath was not found: /Users/pawelstaniul/Desktop/Programy/school-logbook/backend/wwwroot. Static files may be unavailable.
2025-05-28 09:36:09.663 +02:00 [ERR] Hosting failed to start
System.IO.IOException: Failed to bind to address http://127.0.0.1:5234: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Address already in use
 ---> System.Net.Sockets.SocketException (48): Address already in use
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAsync(ListenOptions[] listenOptions, AddressBindContext context, Func`2 useHttps, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__15_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2025-05-28 09:36:09.687 +02:00 [FTL] Application startup failed: Failed to bind to address http://127.0.0.1:5234: address already in use.,    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAsync(ListenOptions[] listenOptions, AddressBindContext context, Func`2 useHttps, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__15_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
   at Microsoft.Extensions.Hosting.Internal.Host.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at backend.Program.Main(String[] args) in /Users/pawelstaniul/Desktop/Programy/school-logbook/backend/Program.cs:line 51
System.IO.IOException: Failed to bind to address http://127.0.0.1:5234: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Address already in use
 ---> System.Net.Sockets.SocketException (48): Address already in use
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAsync(ListenOptions[] listenOptions, AddressBindContext context, Func`2 useHttps, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__15_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
   at Microsoft.Extensions.Hosting.Internal.Host.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at backend.Program.Main(String[] args) in /Users/pawelstaniul/Desktop/Programy/school-logbook/backend/Program.cs:line 51
2025-05-28 09:36:16.518 +02:00 [INF] Application is starting
2025-05-28 09:36:16.578 +02:00 [INF] User profile is available. Using '/Users/pawelstaniul/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-05-28 09:36:16.610 +02:00 [WRN] The WebRootPath was not found: /Users/pawelstaniul/Desktop/Programy/school-logbook/backend/wwwroot. Static files may be unavailable.
2025-05-28 09:36:16.627 +02:00 [INF] Now listening on: http://localhost:5234
2025-05-28 09:36:16.628 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-28 09:36:16.629 +02:00 [INF] Hosting environment: Development
2025-05-28 09:36:16.629 +02:00 [INF] Content root path: /Users/pawelstaniul/Desktop/Programy/school-logbook/backend
2025-05-28 09:36:16.957 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/swagger/index.html - null null
2025-05-28 09:36:16.998 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/swagger/index.html - 200 null text/html;charset=utf-8 41.613ms
2025-05-28 09:36:17.376 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/swagger/v1/swagger.json - null null
2025-05-28 09:36:17.429 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 53.0092ms
2025-05-28 09:36:22.701 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-28 09:36:22.701 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/grade/subjects - null null
2025-05-28 09:36:22.717 +02:00 [WRN] Failed to determine the https port for redirect.
2025-05-28 09:36:22.768 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:36:22.768 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:36:22.769 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 68.0836ms
2025-05-28 09:36:22.778 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/grade/subjects - 204 null null 77.3091ms
2025-05-28 09:36:22.807 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-28 09:36:22.807 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/grade/subjects - null null
2025-05-28 09:36:22.815 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:36:22.815 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:36:22.950 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-28 09:36:22.950 +02:00 [INF] Executing endpoint 'backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend)'
2025-05-28 09:36:22.962 +02:00 [INF] Route matched with {action = "GetSubjectsForCurrentTeacher", controller = "Grade"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubjectsForCurrentTeacher() on controller backend.Controllers.GradeController (backend).
2025-05-28 09:36:22.962 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-28 09:36:23.877 +02:00 [INF] Executed DbCommand (46ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-28 09:36:23.934 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-28 09:36:23.969 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-28 09:36:23.969 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-28 09:36:23.975 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-28 09:36:23.985 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 1021.003ms
2025-05-28 09:36:23.989 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-28 09:36:23.995 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 1188.1113ms
2025-05-28 09:36:24.015 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SubjectId], [t].[SubjectName], [t].[ClassId], [t].[ClassName]
FROM (
    SELECT DISTINCT [c].[SubjectId], [s].[Name] AS [SubjectName], [c].[ClassId], [c0].[Name] AS [ClassName]
    FROM [ClassSubjects] AS [c]
    INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
    INNER JOIN [Classes] AS [c0] ON [c].[ClassId] = [c0].[Id]
    WHERE [c].[TeacherId] = @__teacherId_0
) AS [t]
ORDER BY [t].[SubjectName]
2025-05-28 09:36:24.016 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.SubjectWithClassDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-28 09:36:24.018 +02:00 [INF] Executed action backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend) in 1056.1459ms
2025-05-28 09:36:24.018 +02:00 [INF] Executed endpoint 'backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend)'
2025-05-28 09:36:24.019 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/grade/subjects - 200 null application/json; charset=utf-8 1212.033ms
2025-05-28 09:36:24.797 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/grade/students/12/10 - null null
2025-05-28 09:36:24.797 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:36:24.798 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/grade/students/12/10 - 204 null null 1.1521ms
2025-05-28 09:36:24.800 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/grade/students/12/10 - null null
2025-05-28 09:36:24.801 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:36:24.807 +02:00 [INF] Executing endpoint 'backend.Controllers.GradeController.GetStudentsForSubjectAndClass (backend)'
2025-05-28 09:36:24.822 +02:00 [INF] Route matched with {action = "GetStudentsForSubjectAndClass", controller = "Grade"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentsForSubjectAndClass(Int32, Int32) on controller backend.Controllers.GradeController (backend).
2025-05-28 09:36:24.900 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-28 09:36:32.002 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[@__teacherId_0='?' (DbType = Int32), @__subjectId_1='?' (DbType = Int32), @__classId_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [ClassSubjects] AS [c]
        WHERE [c].[TeacherId] = @__teacherId_0 AND [c].[SubjectId] = @__subjectId_1 AND [c].[ClassId] = @__classId_2) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-05-28 09:36:48.085 +02:00 [ERR] Błąd podczas pobierania uczniów do oceny.
System.InvalidOperationException: The LINQ expression 'DbSet<Student>()
    .Where(s => s.ClassId == __classId_0)
    .OrderBy(s => new StudentDto{ 
        Id = s.Id, 
        FullName = s.FirstName + " " + s.LastName 
    }
    .LastName)' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at backend.Services.GradeService.GetStudentsForSubjectAndClassAsync(Int32 teacherId, Int32 subjectId, Int32 classId) in /Users/pawelstaniul/Desktop/Programy/school-logbook/backend/Services/GradeService.cs:line 53
   at backend.Controllers.GradeController.GetStudentsForSubjectAndClass(Int32 subjectId, Int32 classId) in /Users/pawelstaniul/Desktop/Programy/school-logbook/backend/Controllers/GradeController.cs:line 48
2025-05-28 09:36:51.618 +02:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-28 09:36:51.669 +02:00 [INF] Executed action backend.Controllers.GradeController.GetStudentsForSubjectAndClass (backend) in 26839.823ms
2025-05-28 09:36:51.669 +02:00 [INF] Executed endpoint 'backend.Controllers.GradeController.GetStudentsForSubjectAndClass (backend)'
2025-05-28 09:36:51.670 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/grade/students/12/10 - 400 null application/json; charset=utf-8 26862.8687ms
2025-05-28 09:39:05.561 +02:00 [INF] Application is starting
2025-05-28 09:39:05.596 +02:00 [INF] User profile is available. Using '/Users/pawelstaniul/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-05-28 09:39:05.627 +02:00 [WRN] The WebRootPath was not found: /Users/pawelstaniul/Desktop/Programy/school-logbook/backend/wwwroot. Static files may be unavailable.
2025-05-28 09:39:05.634 +02:00 [INF] Now listening on: http://localhost:5234
2025-05-28 09:39:05.635 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-28 09:39:05.635 +02:00 [INF] Hosting environment: Development
2025-05-28 09:39:05.635 +02:00 [INF] Content root path: /Users/pawelstaniul/Desktop/Programy/school-logbook/backend
2025-05-28 09:39:06.142 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/swagger/index.html - null null
2025-05-28 09:39:06.187 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/swagger/index.html - 200 null text/html;charset=utf-8 46.0254ms
2025-05-28 09:39:06.591 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/_framework/aspnetcore-browser-refresh.js - null null
2025-05-28 09:39:06.592 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/_framework/aspnetcore-browser-refresh.js - 200 13732 application/javascript; charset=utf-8 1.7267ms
2025-05-28 09:39:06.628 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/swagger/v1/swagger.json - null null
2025-05-28 09:39:06.684 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 55.5468ms
2025-05-28 09:39:09.793 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-28 09:39:09.799 +02:00 [WRN] Failed to determine the https port for redirect.
2025-05-28 09:39:09.839 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:39:09.851 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 56.6388ms
2025-05-28 09:39:09.860 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/grade/subjects - null null
2025-05-28 09:39:09.862 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:39:09.862 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/grade/subjects - 204 null null 1.9789ms
2025-05-28 09:39:09.862 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-28 09:39:09.869 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/grade/subjects - null null
2025-05-28 09:39:09.889 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:39:09.889 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:39:09.977 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-28 09:39:09.977 +02:00 [INF] Executing endpoint 'backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend)'
2025-05-28 09:39:10.003 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-28 09:39:10.003 +02:00 [INF] Route matched with {action = "GetSubjectsForCurrentTeacher", controller = "Grade"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubjectsForCurrentTeacher() on controller backend.Controllers.GradeController (backend).
2025-05-28 09:39:10.836 +02:00 [INF] Executed DbCommand (43ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-28 09:39:10.891 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-28 09:39:10.923 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-28 09:39:10.927 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-28 09:39:10.932 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-28 09:39:10.934 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 928.9744ms
2025-05-28 09:39:10.935 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-28 09:39:10.941 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 1078.7261ms
2025-05-28 09:39:10.973 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SubjectId], [t].[SubjectName], [t].[ClassId], [t].[ClassName]
FROM (
    SELECT DISTINCT [c].[SubjectId], [s].[Name] AS [SubjectName], [c].[ClassId], [c0].[Name] AS [ClassName]
    FROM [ClassSubjects] AS [c]
    INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
    INNER JOIN [Classes] AS [c0] ON [c].[ClassId] = [c0].[Id]
    WHERE [c].[TeacherId] = @__teacherId_0
) AS [t]
ORDER BY [t].[SubjectName]
2025-05-28 09:39:10.974 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.SubjectWithClassDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-28 09:39:10.975 +02:00 [INF] Executed action backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend) in 971.8938ms
2025-05-28 09:39:10.976 +02:00 [INF] Executed endpoint 'backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend)'
2025-05-28 09:39:10.976 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/grade/subjects - 200 null application/json; charset=utf-8 1106.691ms
2025-05-28 09:39:12.200 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/grade/students/12/10 - null null
2025-05-28 09:39:12.203 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:39:12.203 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/grade/students/12/10 - 204 null null 3.6153ms
2025-05-28 09:39:12.206 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/grade/students/12/10 - null null
2025-05-28 09:39:12.206 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:39:12.214 +02:00 [INF] Executing endpoint 'backend.Controllers.GradeController.GetStudentsForSubjectAndClass (backend)'
2025-05-28 09:39:12.224 +02:00 [INF] Route matched with {action = "GetStudentsForSubjectAndClass", controller = "Grade"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentsForSubjectAndClass(Int32, Int32) on controller backend.Controllers.GradeController (backend).
2025-05-28 09:39:12.293 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-28 09:39:12.328 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__teacherId_0='?' (DbType = Int32), @__subjectId_1='?' (DbType = Int32), @__classId_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [ClassSubjects] AS [c]
        WHERE [c].[TeacherId] = @__teacherId_0 AND [c].[SubjectId] = @__subjectId_1 AND [c].[ClassId] = @__classId_2) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-05-28 09:39:12.360 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[FirstName] + N' ' + [s].[LastName] AS [FullName]
FROM [Students] AS [s]
WHERE [s].[ClassId] = @__classId_0
ORDER BY [s].[LastName]
2025-05-28 09:39:12.361 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.StudentDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-28 09:39:12.362 +02:00 [INF] Executed action backend.Controllers.GradeController.GetStudentsForSubjectAndClass (backend) in 137.1004ms
2025-05-28 09:39:12.362 +02:00 [INF] Executed endpoint 'backend.Controllers.GradeController.GetStudentsForSubjectAndClass (backend)'
2025-05-28 09:39:12.362 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/grade/students/12/10 - 200 null application/json; charset=utf-8 156.2995ms
2025-05-28 09:39:16.549 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/grade/students/4/4 - null null
2025-05-28 09:39:16.550 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:39:16.550 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/grade/students/4/4 - 204 null null 0.9215ms
2025-05-28 09:39:16.552 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/grade/students/4/4 - null null
2025-05-28 09:39:16.552 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:39:16.554 +02:00 [INF] Executing endpoint 'backend.Controllers.GradeController.GetStudentsForSubjectAndClass (backend)'
2025-05-28 09:39:16.555 +02:00 [INF] Route matched with {action = "GetStudentsForSubjectAndClass", controller = "Grade"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentsForSubjectAndClass(Int32, Int32) on controller backend.Controllers.GradeController (backend).
2025-05-28 09:39:16.595 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-28 09:39:16.619 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__teacherId_0='?' (DbType = Int32), @__subjectId_1='?' (DbType = Int32), @__classId_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [ClassSubjects] AS [c]
        WHERE [c].[TeacherId] = @__teacherId_0 AND [c].[SubjectId] = @__subjectId_1 AND [c].[ClassId] = @__classId_2) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-05-28 09:39:16.644 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[FirstName] + N' ' + [s].[LastName] AS [FullName]
FROM [Students] AS [s]
WHERE [s].[ClassId] = @__classId_0
ORDER BY [s].[LastName]
2025-05-28 09:39:16.645 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.StudentDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-28 09:39:16.645 +02:00 [INF] Executed action backend.Controllers.GradeController.GetStudentsForSubjectAndClass (backend) in 90.3965ms
2025-05-28 09:39:16.645 +02:00 [INF] Executed endpoint 'backend.Controllers.GradeController.GetStudentsForSubjectAndClass (backend)'
2025-05-28 09:39:16.646 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/grade/students/4/4 - 200 null application/json; charset=utf-8 93.8637ms
2025-05-28 09:39:19.116 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/grade/students/4/7 - null null
2025-05-28 09:39:19.117 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:39:19.118 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/grade/students/4/7 - 204 null null 1.2645ms
2025-05-28 09:39:19.119 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/grade/students/4/7 - null null
2025-05-28 09:39:19.120 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:39:19.120 +02:00 [INF] Executing endpoint 'backend.Controllers.GradeController.GetStudentsForSubjectAndClass (backend)'
2025-05-28 09:39:19.120 +02:00 [INF] Route matched with {action = "GetStudentsForSubjectAndClass", controller = "Grade"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentsForSubjectAndClass(Int32, Int32) on controller backend.Controllers.GradeController (backend).
2025-05-28 09:39:19.152 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-28 09:39:19.176 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__teacherId_0='?' (DbType = Int32), @__subjectId_1='?' (DbType = Int32), @__classId_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [ClassSubjects] AS [c]
        WHERE [c].[TeacherId] = @__teacherId_0 AND [c].[SubjectId] = @__subjectId_1 AND [c].[ClassId] = @__classId_2) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-05-28 09:39:19.201 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[FirstName] + N' ' + [s].[LastName] AS [FullName]
FROM [Students] AS [s]
WHERE [s].[ClassId] = @__classId_0
ORDER BY [s].[LastName]
2025-05-28 09:39:19.202 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.StudentDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-28 09:39:19.202 +02:00 [INF] Executed action backend.Controllers.GradeController.GetStudentsForSubjectAndClass (backend) in 81.7065ms
2025-05-28 09:39:19.202 +02:00 [INF] Executed endpoint 'backend.Controllers.GradeController.GetStudentsForSubjectAndClass (backend)'
2025-05-28 09:39:19.202 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/grade/students/4/7 - 200 null application/json; charset=utf-8 83.0836ms
2025-05-28 09:39:25.403 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/grade/add - null null
2025-05-28 09:39:25.404 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:39:25.404 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/grade/add - 204 null null 0.5945ms
2025-05-28 09:39:25.406 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5234/api/grade/add - application/json 68
2025-05-28 09:39:25.407 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:39:25.407 +02:00 [INF] Executing endpoint 'backend.Controllers.GradeController.AddGrade (backend)'
2025-05-28 09:39:25.412 +02:00 [INF] Route matched with {action = "AddGrade", controller = "Grade"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddGrade(backend.DTOs.GradeCreateDto) on controller backend.Controllers.GradeController (backend).
2025-05-28 09:39:25.549 +02:00 [ERR] Failed executing DbCommand (35ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Grades] ([Comment], [CreatedAt], [StudentId], [SubjectId], [TeacherId], [Value])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-05-28 09:39:25.562 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'backend.Data.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'CreatedAt'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:9219e0d3-762a-416e-bbaf-c20e0af164b1
Error Number:207,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'CreatedAt'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:9219e0d3-762a-416e-bbaf-c20e0af164b1
Error Number:207,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-05-28 09:39:25.563 +02:00 [ERR] Błąd podczas dodawania oceny.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'CreatedAt'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:9219e0d3-762a-416e-bbaf-c20e0af164b1
Error Number:207,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at backend.Services.GradeService.AddGradeAsync(GradeCreateDto dto) in /Users/pawelstaniul/Desktop/Programy/school-logbook/backend/Services/GradeService.cs:line 31
   at backend.Controllers.GradeController.AddGrade(GradeCreateDto dto) in /Users/pawelstaniul/Desktop/Programy/school-logbook/backend/Controllers/GradeController.cs:line 23
2025-05-28 09:39:25.565 +02:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-28 09:39:25.566 +02:00 [INF] Executed action backend.Controllers.GradeController.AddGrade (backend) in 153.7334ms
2025-05-28 09:39:25.566 +02:00 [INF] Executed endpoint 'backend.Controllers.GradeController.AddGrade (backend)'
2025-05-28 09:39:25.566 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5234/api/grade/add - 400 null application/json; charset=utf-8 159.6462ms
2025-05-28 09:42:03.622 +02:00 [INF] Application is shutting down...
2025-05-28 09:42:09.420 +02:00 [INF] Application is starting
2025-05-28 09:42:09.478 +02:00 [INF] User profile is available. Using '/Users/pawelstaniul/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-05-28 09:42:09.512 +02:00 [WRN] The WebRootPath was not found: /Users/pawelstaniul/Desktop/Programy/school-logbook/backend/wwwroot. Static files may be unavailable.
2025-05-28 09:42:09.528 +02:00 [INF] Now listening on: http://localhost:5234
2025-05-28 09:42:09.530 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-28 09:42:09.530 +02:00 [INF] Hosting environment: Development
2025-05-28 09:42:09.530 +02:00 [INF] Content root path: /Users/pawelstaniul/Desktop/Programy/school-logbook/backend
2025-05-28 09:42:09.691 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/swagger/index.html - null null
2025-05-28 09:42:09.725 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/swagger/index.html - 200 null text/html;charset=utf-8 34.184ms
2025-05-28 09:42:09.795 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/swagger/v1/swagger.json - null null
2025-05-28 09:42:09.848 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 52.9689ms
2025-05-28 09:42:14.574 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-28 09:42:14.582 +02:00 [WRN] Failed to determine the https port for redirect.
2025-05-28 09:42:14.629 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/grade/subjects - null null
2025-05-28 09:42:14.693 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:42:14.693 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:42:14.701 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 127.4027ms
2025-05-28 09:42:14.705 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/grade/subjects - 204 null null 75.5496ms
2025-05-28 09:42:14.705 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-28 09:42:14.706 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/grade/subjects - null null
2025-05-28 09:42:14.707 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:42:14.707 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:42:14.872 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-28 09:42:14.873 +02:00 [INF] Executing endpoint 'backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend)'
2025-05-28 09:42:14.910 +02:00 [INF] Route matched with {action = "GetSubjectsForCurrentTeacher", controller = "Grade"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubjectsForCurrentTeacher() on controller backend.Controllers.GradeController (backend).
2025-05-28 09:42:14.910 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-28 09:42:15.879 +02:00 [INF] Executed DbCommand (45ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-28 09:42:15.935 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-28 09:42:15.970 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-28 09:42:15.970 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-28 09:42:15.976 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-28 09:42:15.984 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 1071.884ms
2025-05-28 09:42:15.984 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-28 09:42:15.988 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 1283.046ms
2025-05-28 09:42:16.011 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SubjectId], [t].[SubjectName], [t].[ClassId], [t].[ClassName]
FROM (
    SELECT DISTINCT [c].[SubjectId], [s].[Name] AS [SubjectName], [c].[ClassId], [c0].[Name] AS [ClassName]
    FROM [ClassSubjects] AS [c]
    INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
    INNER JOIN [Classes] AS [c0] ON [c].[ClassId] = [c0].[Id]
    WHERE [c].[TeacherId] = @__teacherId_0
) AS [t]
ORDER BY [t].[SubjectName]
2025-05-28 09:42:16.013 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.SubjectWithClassDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-28 09:42:16.015 +02:00 [INF] Executed action backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend) in 1104.2284ms
2025-05-28 09:42:16.015 +02:00 [INF] Executed endpoint 'backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend)'
2025-05-28 09:42:16.016 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/grade/subjects - 200 null application/json; charset=utf-8 1309.5792ms
2025-05-28 09:42:25.864 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/grade/students/4/4 - null null
2025-05-28 09:42:25.871 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:42:25.872 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/grade/students/4/4 - 204 null null 8.5635ms
2025-05-28 09:42:25.874 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/grade/students/4/4 - null null
2025-05-28 09:42:25.875 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:42:25.880 +02:00 [INF] Executing endpoint 'backend.Controllers.GradeController.GetStudentsForSubjectAndClass (backend)'
2025-05-28 09:42:25.891 +02:00 [INF] Route matched with {action = "GetStudentsForSubjectAndClass", controller = "Grade"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentsForSubjectAndClass(Int32, Int32) on controller backend.Controllers.GradeController (backend).
2025-05-28 09:42:25.966 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-28 09:42:29.792 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[@__teacherId_0='?' (DbType = Int32), @__subjectId_1='?' (DbType = Int32), @__classId_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [ClassSubjects] AS [c]
        WHERE [c].[TeacherId] = @__teacherId_0 AND [c].[SubjectId] = @__subjectId_1 AND [c].[ClassId] = @__classId_2) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-05-28 09:42:29.824 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[FirstName] + N' ' + [s].[LastName] AS [FullName]
FROM [Students] AS [s]
WHERE [s].[ClassId] = @__classId_0
ORDER BY [s].[LastName]
2025-05-28 09:42:29.826 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.StudentDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-28 09:42:29.828 +02:00 [INF] Executed action backend.Controllers.GradeController.GetStudentsForSubjectAndClass (backend) in 3936.2142ms
2025-05-28 09:42:29.828 +02:00 [INF] Executed endpoint 'backend.Controllers.GradeController.GetStudentsForSubjectAndClass (backend)'
2025-05-28 09:42:29.828 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/grade/students/4/4 - 200 null application/json; charset=utf-8 3954.2997ms
2025-05-28 09:42:35.860 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/grade/add - null null
2025-05-28 09:42:35.861 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:42:35.862 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/grade/add - 204 null null 2.0971ms
2025-05-28 09:42:35.865 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5234/api/grade/add - application/json 68
2025-05-28 09:42:35.866 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:42:35.868 +02:00 [INF] Executing endpoint 'backend.Controllers.GradeController.AddGrade (backend)'
2025-05-28 09:42:35.872 +02:00 [INF] Route matched with {action = "AddGrade", controller = "Grade"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddGrade(backend.DTOs.GradeCreateDto) on controller backend.Controllers.GradeController (backend).
2025-05-28 09:43:13.005 +02:00 [ERR] Failed executing DbCommand (27ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Grades] ([Comment], [CreatedAt], [StudentId], [SubjectId], [TeacherId], [Value])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-05-28 09:43:13.028 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'backend.Data.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'CreatedAt'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:423a6812-7f7b-40c9-89af-e2917ba7e77e
Error Number:207,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'CreatedAt'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:423a6812-7f7b-40c9-89af-e2917ba7e77e
Error Number:207,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-05-28 09:43:13.107 +02:00 [ERR] Błąd podczas dodawania oceny.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'CreatedAt'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:423a6812-7f7b-40c9-89af-e2917ba7e77e
Error Number:207,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at backend.Services.GradeService.AddGradeAsync(GradeCreateDto dto) in /Users/pawelstaniul/Desktop/Programy/school-logbook/backend/Services/GradeService.cs:line 31
   at backend.Controllers.GradeController.AddGrade(GradeCreateDto dto) in /Users/pawelstaniul/Desktop/Programy/school-logbook/backend/Controllers/GradeController.cs:line 23
2025-05-28 09:43:13.113 +02:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-28 09:43:13.115 +02:00 [INF] Executed action backend.Controllers.GradeController.AddGrade (backend) in 37244.3563ms
2025-05-28 09:43:13.116 +02:00 [INF] Executed endpoint 'backend.Controllers.GradeController.AddGrade (backend)'
2025-05-28 09:43:13.116 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5234/api/grade/add - 400 null application/json; charset=utf-8 37252.293ms
2025-05-28 09:46:55.864 +02:00 [INF] Application is starting
2025-05-28 09:46:55.903 +02:00 [INF] User profile is available. Using '/Users/pawelstaniul/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-05-28 09:46:55.932 +02:00 [WRN] The WebRootPath was not found: /Users/pawelstaniul/Desktop/Programy/school-logbook/backend/wwwroot. Static files may be unavailable.
2025-05-28 09:46:55.940 +02:00 [INF] Now listening on: http://localhost:5234
2025-05-28 09:46:55.941 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-28 09:46:55.942 +02:00 [INF] Hosting environment: Development
2025-05-28 09:46:55.942 +02:00 [INF] Content root path: /Users/pawelstaniul/Desktop/Programy/school-logbook/backend
2025-05-28 09:46:56.358 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/swagger/index.html - null null
2025-05-28 09:46:56.402 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/swagger/index.html - 200 null text/html;charset=utf-8 44.3673ms
2025-05-28 09:46:56.929 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/_framework/aspnetcore-browser-refresh.js - null null
2025-05-28 09:46:56.933 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/_framework/aspnetcore-browser-refresh.js - 200 13732 application/javascript; charset=utf-8 3.5582ms
2025-05-28 09:46:56.985 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/swagger/v1/swagger.json - null null
2025-05-28 09:46:57.040 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 55.8692ms
2025-05-28 09:47:26.356 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/grade/add - null null
2025-05-28 09:47:26.363 +02:00 [WRN] Failed to determine the https port for redirect.
2025-05-28 09:47:26.389 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:47:26.390 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/grade/add - 204 null null 33.6471ms
2025-05-28 09:47:26.391 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5234/api/grade/add - application/json 90
2025-05-28 09:47:26.392 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:47:26.440 +02:00 [INF] Executing endpoint 'backend.Controllers.GradeController.AddGrade (backend)'
2025-05-28 09:47:26.451 +02:00 [INF] Route matched with {action = "AddGrade", controller = "Grade"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddGrade(backend.DTOs.GradeCreateDto) on controller backend.Controllers.GradeController (backend).
2025-05-28 09:47:27.218 +02:00 [INF] Executed DbCommand (42ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-28 09:47:27.316 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Grades] ([Comment], [Date], [StudentId], [SubjectId], [TeacherId], [Value])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-05-28 09:47:27.331 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.GradeDto'.
2025-05-28 09:47:27.335 +02:00 [INF] Executed action backend.Controllers.GradeController.AddGrade (backend) in 882.8621ms
2025-05-28 09:47:27.336 +02:00 [INF] Executed endpoint 'backend.Controllers.GradeController.AddGrade (backend)'
2025-05-28 09:47:27.339 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5234/api/grade/add - 200 null application/json; charset=utf-8 947.7305ms
2025-05-28 09:47:57.550 +02:00 [INF] Application is shutting down...
2025-05-28 09:49:02.051 +02:00 [INF] Application is starting
2025-05-28 09:49:02.110 +02:00 [INF] User profile is available. Using '/Users/pawelstaniul/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-05-28 09:49:02.142 +02:00 [WRN] The WebRootPath was not found: /Users/pawelstaniul/Desktop/Programy/school-logbook/backend/wwwroot. Static files may be unavailable.
2025-05-28 09:49:02.158 +02:00 [INF] Now listening on: http://localhost:5234
2025-05-28 09:49:02.160 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-28 09:49:02.160 +02:00 [INF] Hosting environment: Development
2025-05-28 09:49:02.160 +02:00 [INF] Content root path: /Users/pawelstaniul/Desktop/Programy/school-logbook/backend
2025-05-28 09:49:02.324 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/swagger/index.html - null null
2025-05-28 09:49:02.365 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/swagger/index.html - 200 null text/html;charset=utf-8 40.7073ms
2025-05-28 09:49:02.424 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/swagger/v1/swagger.json - null null
2025-05-28 09:49:02.479 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 55.5157ms
2025-05-28 09:49:08.953 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/grade/students/4/4 - null null
2025-05-28 09:49:08.960 +02:00 [WRN] Failed to determine the https port for redirect.
2025-05-28 09:49:09.009 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:49:09.010 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/grade/students/4/4 - 204 null null 57.4707ms
2025-05-28 09:49:09.012 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/grade/students/4/4 - null null
2025-05-28 09:49:09.014 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:49:09.093 +02:00 [INF] Executing endpoint 'backend.Controllers.GradeController.GetStudentsForSubjectAndClass (backend)'
2025-05-28 09:49:09.106 +02:00 [INF] Route matched with {action = "GetStudentsForSubjectAndClass", controller = "Grade"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentsForSubjectAndClass(Int32, Int32) on controller backend.Controllers.GradeController (backend).
2025-05-28 09:49:09.991 +02:00 [INF] Executed DbCommand (45ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-28 09:49:10.040 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__teacherId_0='?' (DbType = Int32), @__subjectId_1='?' (DbType = Int32), @__classId_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [ClassSubjects] AS [c]
        WHERE [c].[TeacherId] = @__teacherId_0 AND [c].[SubjectId] = @__subjectId_1 AND [c].[ClassId] = @__classId_2) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-05-28 09:49:10.073 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[FirstName] + N' ' + [s].[LastName] AS [FullName]
FROM [Students] AS [s]
WHERE [s].[ClassId] = @__classId_0
ORDER BY [s].[LastName]
2025-05-28 09:49:10.078 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.StudentDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-28 09:49:10.083 +02:00 [INF] Executed action backend.Controllers.GradeController.GetStudentsForSubjectAndClass (backend) in 975.4432ms
2025-05-28 09:49:10.084 +02:00 [INF] Executed endpoint 'backend.Controllers.GradeController.GetStudentsForSubjectAndClass (backend)'
2025-05-28 09:49:10.088 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/grade/students/4/4 - 200 null application/json; charset=utf-8 1075.6535ms
2025-05-28 09:49:18.433 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/grade/add - null null
2025-05-28 09:49:18.437 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:49:18.438 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/grade/add - 204 null null 5.2374ms
2025-05-28 09:49:18.441 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5234/api/grade/add - application/json 77
2025-05-28 09:49:18.443 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:49:18.447 +02:00 [INF] Executing endpoint 'backend.Controllers.GradeController.AddGrade (backend)'
2025-05-28 09:49:18.453 +02:00 [INF] Route matched with {action = "AddGrade", controller = "Grade"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddGrade(backend.DTOs.GradeCreateDto) on controller backend.Controllers.GradeController (backend).
2025-05-28 09:49:18.513 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-28 09:49:28.278 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Grades] ([Comment], [Date], [StudentId], [SubjectId], [TeacherId], [Value])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-05-28 09:49:28.293 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.GradeDto'.
2025-05-28 09:49:28.298 +02:00 [INF] Executed action backend.Controllers.GradeController.AddGrade (backend) in 9844.8903ms
2025-05-28 09:49:28.298 +02:00 [INF] Executed endpoint 'backend.Controllers.GradeController.AddGrade (backend)'
2025-05-28 09:49:28.299 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5234/api/grade/add - 200 null application/json; charset=utf-8 9858.0497ms
2025-05-28 09:50:02.147 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-28 09:50:02.185 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/grade/subjects - null null
2025-05-28 09:50:02.236 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:50:02.236 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:50:02.237 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 90.3626ms
2025-05-28 09:50:02.237 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/grade/subjects - 204 null null 51.7399ms
2025-05-28 09:50:02.292 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-28 09:50:02.346 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/grade/subjects - null null
2025-05-28 09:50:02.346 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:50:02.346 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:50:02.349 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-28 09:50:02.350 +02:00 [INF] Executing endpoint 'backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend)'
2025-05-28 09:50:02.353 +02:00 [INF] Route matched with {action = "GetSubjectsForCurrentTeacher", controller = "Grade"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubjectsForCurrentTeacher() on controller backend.Controllers.GradeController (backend).
2025-05-28 09:50:02.353 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-28 09:50:02.552 +02:00 [INF] Executed DbCommand (144ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-28 09:50:02.731 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SubjectId], [t].[SubjectName], [t].[ClassId], [t].[ClassName]
FROM (
    SELECT DISTINCT [c].[SubjectId], [s].[Name] AS [SubjectName], [c].[ClassId], [c0].[Name] AS [ClassName]
    FROM [ClassSubjects] AS [c]
    INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
    INNER JOIN [Classes] AS [c0] ON [c].[ClassId] = [c0].[Id]
    WHERE [c].[TeacherId] = @__teacherId_0
) AS [t]
ORDER BY [t].[SubjectName]
2025-05-28 09:50:02.732 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.SubjectWithClassDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-28 09:50:02.734 +02:00 [INF] Executed action backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend) in 381.5018ms
2025-05-28 09:50:02.734 +02:00 [INF] Executed endpoint 'backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend)'
2025-05-28 09:50:02.734 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/grade/subjects - 200 null application/json; charset=utf-8 389.7126ms
2025-05-28 09:50:02.826 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-28 09:50:02.859 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-28 09:50:02.887 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-28 09:50:02.888 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-28 09:50:02.892 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 539.3656ms
2025-05-28 09:50:02.892 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-28 09:50:02.893 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 603.1894ms
2025-05-28 09:50:06.995 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-28 09:50:07.004 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:50:07.017 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-28 09:50:07.019 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-28 09:50:07.075 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/grade/subjects - null null
2025-05-28 09:50:07.076 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:50:07.077 +02:00 [INF] Executing endpoint 'backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend)'
2025-05-28 09:50:07.078 +02:00 [INF] Route matched with {action = "GetSubjectsForCurrentTeacher", controller = "Grade"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubjectsForCurrentTeacher() on controller backend.Controllers.GradeController (backend).
2025-05-28 09:50:07.160 +02:00 [INF] Executed DbCommand (92ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-28 09:50:07.445 +02:00 [INF] Executed DbCommand (151ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-28 09:50:07.497 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-28 09:50:07.497 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SubjectId], [t].[SubjectName], [t].[ClassId], [t].[ClassName]
FROM (
    SELECT DISTINCT [c].[SubjectId], [s].[Name] AS [SubjectName], [c].[ClassId], [c0].[Name] AS [ClassName]
    FROM [ClassSubjects] AS [c]
    INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
    INNER JOIN [Classes] AS [c0] ON [c].[ClassId] = [c0].[Id]
    WHERE [c].[TeacherId] = @__teacherId_0
) AS [t]
ORDER BY [t].[SubjectName]
2025-05-28 09:50:07.499 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.SubjectWithClassDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-28 09:50:07.503 +02:00 [INF] Executed action backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend) in 399.0406ms
2025-05-28 09:50:07.504 +02:00 [INF] Executed endpoint 'backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend)'
2025-05-28 09:50:07.505 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/grade/subjects - 200 null application/json; charset=utf-8 429.8861ms
2025-05-28 09:50:07.525 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-28 09:50:07.526 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-28 09:50:07.527 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 506.7501ms
2025-05-28 09:50:07.527 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-28 09:50:07.528 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 532.9367ms
2025-05-28 09:50:13.011 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-28 09:50:13.014 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:50:13.025 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 11.9421ms
2025-05-28 09:50:13.036 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-28 09:50:13.037 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:50:13.047 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-28 09:50:13.049 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-28 09:50:13.130 +02:00 [INF] Executed DbCommand (34ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-28 09:50:13.200 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/grade/subjects - null null
2025-05-28 09:50:13.201 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:50:13.202 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/grade/subjects - 204 null null 1.5608ms
2025-05-28 09:50:13.209 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/grade/subjects - null null
2025-05-28 09:50:13.209 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:50:13.249 +02:00 [INF] Executing endpoint 'backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend)'
2025-05-28 09:50:13.359 +02:00 [INF] Executed DbCommand (95ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-28 09:50:13.374 +02:00 [INF] Route matched with {action = "GetSubjectsForCurrentTeacher", controller = "Grade"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubjectsForCurrentTeacher() on controller backend.Controllers.GradeController (backend).
2025-05-28 09:50:13.481 +02:00 [INF] Executed DbCommand (41ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-28 09:50:13.510 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-28 09:50:13.512 +02:00 [INF] Executed DbCommand (33ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-28 09:50:13.580 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 531.186ms
2025-05-28 09:50:13.606 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-28 09:50:13.698 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 641.1774ms
2025-05-28 09:50:13.722 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SubjectId], [t].[SubjectName], [t].[ClassId], [t].[ClassName]
FROM (
    SELECT DISTINCT [c].[SubjectId], [s].[Name] AS [SubjectName], [c].[ClassId], [c0].[Name] AS [ClassName]
    FROM [ClassSubjects] AS [c]
    INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
    INNER JOIN [Classes] AS [c0] ON [c].[ClassId] = [c0].[Id]
    WHERE [c].[TeacherId] = @__teacherId_0
) AS [t]
ORDER BY [t].[SubjectName]
2025-05-28 09:50:13.722 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.SubjectWithClassDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-28 09:50:13.723 +02:00 [INF] Executed action backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend) in 347.9133ms
2025-05-28 09:50:13.723 +02:00 [INF] Executed endpoint 'backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend)'
2025-05-28 09:50:13.724 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/grade/subjects - 200 null application/json; charset=utf-8 514.9279ms
2025-05-28 09:50:29.200 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-28 09:50:29.200 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/grade/subjects - null null
2025-05-28 09:50:29.202 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:50:29.202 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:50:29.205 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/grade/subjects - 204 null null 4.3038ms
2025-05-28 09:50:29.205 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 4.3152ms
2025-05-28 09:50:29.252 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/grade/subjects - null null
2025-05-28 09:50:29.252 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-28 09:50:29.261 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:50:29.281 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:50:29.282 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-28 09:50:29.282 +02:00 [INF] Executing endpoint 'backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend)'
2025-05-28 09:50:29.283 +02:00 [INF] Route matched with {action = "GetSubjectsForCurrentTeacher", controller = "Grade"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubjectsForCurrentTeacher() on controller backend.Controllers.GradeController (backend).
2025-05-28 09:50:29.283 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-28 09:50:29.313 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-28 09:50:29.313 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-28 09:50:29.340 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-28 09:50:29.341 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SubjectId], [t].[SubjectName], [t].[ClassId], [t].[ClassName]
FROM (
    SELECT DISTINCT [c].[SubjectId], [s].[Name] AS [SubjectName], [c].[ClassId], [c0].[Name] AS [ClassName]
    FROM [ClassSubjects] AS [c]
    INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
    INNER JOIN [Classes] AS [c0] ON [c].[ClassId] = [c0].[Id]
    WHERE [c].[TeacherId] = @__teacherId_0
) AS [t]
ORDER BY [t].[SubjectName]
2025-05-28 09:50:29.343 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.SubjectWithClassDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-28 09:50:29.413 +02:00 [INF] Executed action backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend) in 130.2807ms
2025-05-28 09:50:29.413 +02:00 [INF] Executed DbCommand (69ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-28 09:50:29.414 +02:00 [INF] Executed endpoint 'backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend)'
2025-05-28 09:50:29.416 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/grade/subjects - 200 null application/json; charset=utf-8 163.9123ms
2025-05-28 09:50:29.416 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-28 09:50:29.418 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 134.6822ms
2025-05-28 09:50:29.418 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-28 09:50:29.418 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 165.833ms
2025-05-28 09:50:31.728 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/grade/students/12/10 - null null
2025-05-28 09:50:31.729 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:50:31.730 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/grade/students/12/10 - 204 null null 1.9668ms
2025-05-28 09:50:31.732 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/grade/students/12/10 - null null
2025-05-28 09:50:31.732 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:50:31.734 +02:00 [INF] Executing endpoint 'backend.Controllers.GradeController.GetStudentsForSubjectAndClass (backend)'
2025-05-28 09:50:31.735 +02:00 [INF] Route matched with {action = "GetStudentsForSubjectAndClass", controller = "Grade"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentsForSubjectAndClass(Int32, Int32) on controller backend.Controllers.GradeController (backend).
2025-05-28 09:50:31.768 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-28 09:50:31.793 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__teacherId_0='?' (DbType = Int32), @__subjectId_1='?' (DbType = Int32), @__classId_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [ClassSubjects] AS [c]
        WHERE [c].[TeacherId] = @__teacherId_0 AND [c].[SubjectId] = @__subjectId_1 AND [c].[ClassId] = @__classId_2) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-05-28 09:50:31.818 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[FirstName] + N' ' + [s].[LastName] AS [FullName]
FROM [Students] AS [s]
WHERE [s].[ClassId] = @__classId_0
ORDER BY [s].[LastName]
2025-05-28 09:50:31.819 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.StudentDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-28 09:50:31.820 +02:00 [INF] Executed action backend.Controllers.GradeController.GetStudentsForSubjectAndClass (backend) in 85.5037ms
2025-05-28 09:50:31.821 +02:00 [INF] Executed endpoint 'backend.Controllers.GradeController.GetStudentsForSubjectAndClass (backend)'
2025-05-28 09:50:31.821 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/grade/students/12/10 - 200 null application/json; charset=utf-8 88.9227ms
2025-05-28 09:50:39.933 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/grade/add - null null
2025-05-28 09:50:39.934 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:50:39.934 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/grade/add - 204 null null 0.9421ms
2025-05-28 09:50:39.987 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5234/api/grade/add - application/json 86
2025-05-28 09:50:39.987 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:50:39.988 +02:00 [INF] Executing endpoint 'backend.Controllers.GradeController.AddGrade (backend)'
2025-05-28 09:50:39.988 +02:00 [INF] Route matched with {action = "AddGrade", controller = "Grade"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddGrade(backend.DTOs.GradeCreateDto) on controller backend.Controllers.GradeController (backend).
2025-05-28 09:50:40.028 +02:00 [INF] Executed DbCommand (33ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-28 09:50:44.471 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Grades] ([Comment], [Date], [StudentId], [SubjectId], [TeacherId], [Value])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-05-28 09:50:44.473 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.GradeDto'.
2025-05-28 09:50:44.474 +02:00 [INF] Executed action backend.Controllers.GradeController.AddGrade (backend) in 4485.2518ms
2025-05-28 09:50:44.474 +02:00 [INF] Executed endpoint 'backend.Controllers.GradeController.AddGrade (backend)'
2025-05-28 09:50:44.474 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5234/api/grade/add - 200 null application/json; charset=utf-8 4487.3862ms
2025-05-28 09:54:34.635 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - null null
2025-05-28 09:54:34.662 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:54:34.684 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - 204 null null 49.7111ms
2025-05-28 09:54:34.686 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - null null
2025-05-28 09:54:34.690 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:54:34.698 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-28 09:54:34.710 +02:00 [INF] Route matched with {action = "GetTodayLessons", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTodayLessons() on controller backend.Controllers.AttendanceController (backend).
2025-05-28 09:54:34.738 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-28 09:54:34.822 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__teacherId_0='?' (DbType = Int32), @__today_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s0].[Name], [c].[Name], [s].[StartTime], CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Attendances] AS [a]
        WHERE [a].[ScheduleId] = [s].[Id] AND CONVERT(date, [a].[Date]) = CONVERT(date, GETDATE())) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
FROM [Schedules] AS [s]
INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
WHERE [s].[TeacherId] = @__teacherId_0 AND [s].[DayOfWeek] = @__today_1
ORDER BY [s].[StartTime]
2025-05-28 09:54:34.823 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.LessonForAttendanceDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-28 09:54:34.826 +02:00 [INF] Executed action backend.Controllers.AttendanceController.GetTodayLessons (backend) in 116.098ms
2025-05-28 09:54:34.826 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-28 09:54:34.827 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - 200 null application/json; charset=utf-8 140.2445ms
2025-05-28 09:54:37.137 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/grade/subjects - null null
2025-05-28 09:54:37.137 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:54:37.137 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/grade/subjects - 204 null null 0.5713ms
2025-05-28 09:54:37.138 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/grade/subjects - null null
2025-05-28 09:54:37.139 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:54:37.139 +02:00 [INF] Executing endpoint 'backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend)'
2025-05-28 09:54:37.140 +02:00 [INF] Route matched with {action = "GetSubjectsForCurrentTeacher", controller = "Grade"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubjectsForCurrentTeacher() on controller backend.Controllers.GradeController (backend).
2025-05-28 09:54:37.172 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-28 09:54:37.216 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SubjectId], [t].[SubjectName], [t].[ClassId], [t].[ClassName]
FROM (
    SELECT DISTINCT [c].[SubjectId], [s].[Name] AS [SubjectName], [c].[ClassId], [c0].[Name] AS [ClassName]
    FROM [ClassSubjects] AS [c]
    INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
    INNER JOIN [Classes] AS [c0] ON [c].[ClassId] = [c0].[Id]
    WHERE [c].[TeacherId] = @__teacherId_0
) AS [t]
ORDER BY [t].[SubjectName]
2025-05-28 09:54:37.216 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.SubjectWithClassDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-28 09:54:37.216 +02:00 [INF] Executed action backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend) in 76.4709ms
2025-05-28 09:54:37.216 +02:00 [INF] Executed endpoint 'backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend)'
2025-05-28 09:54:37.217 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/grade/subjects - 200 null application/json; charset=utf-8 78.3499ms
2025-05-28 09:58:15.191 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-28 09:58:15.196 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:58:15.205 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 14.5711ms
2025-05-28 09:58:15.210 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-28 09:58:15.280 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:58:15.304 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/grade/subjects - null null
2025-05-28 09:58:15.305 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:58:15.305 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/grade/subjects - 204 null null 1.3581ms
2025-05-28 09:58:15.309 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/grade/subjects - null null
2025-05-28 09:58:15.311 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:58:15.312 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-28 09:58:15.312 +02:00 [INF] Executing endpoint 'backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend)'
2025-05-28 09:58:15.314 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-28 09:58:15.314 +02:00 [INF] Route matched with {action = "GetSubjectsForCurrentTeacher", controller = "Grade"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubjectsForCurrentTeacher() on controller backend.Controllers.GradeController (backend).
2025-05-28 09:58:15.711 +02:00 [INF] Executed DbCommand (339ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-28 09:58:15.749 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SubjectId], [t].[SubjectName], [t].[ClassId], [t].[ClassName]
FROM (
    SELECT DISTINCT [c].[SubjectId], [s].[Name] AS [SubjectName], [c].[ClassId], [c0].[Name] AS [ClassName]
    FROM [ClassSubjects] AS [c]
    INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
    INNER JOIN [Classes] AS [c0] ON [c].[ClassId] = [c0].[Id]
    WHERE [c].[TeacherId] = @__teacherId_0
) AS [t]
ORDER BY [t].[SubjectName]
2025-05-28 09:58:15.750 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.SubjectWithClassDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-28 09:58:15.751 +02:00 [INF] Executed action backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend) in 436.2437ms
2025-05-28 09:58:15.751 +02:00 [INF] Executed endpoint 'backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend)'
2025-05-28 09:58:15.751 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/grade/subjects - 200 null application/json; charset=utf-8 441.0595ms
2025-05-28 09:58:15.836 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-28 09:58:15.861 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-28 09:58:15.885 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-28 09:58:15.885 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-28 09:58:15.885 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 570.7355ms
2025-05-28 09:58:15.885 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-28 09:58:15.885 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 675.4567ms
2025-05-28 09:58:48.021 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-28 09:58:48.022 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/grade/subjects - null null
2025-05-28 09:58:48.024 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:58:48.024 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:58:48.026 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/grade/subjects - 204 null null 4.3076ms
2025-05-28 09:58:48.026 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 8.2018ms
2025-05-28 09:58:48.067 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-28 09:58:48.067 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/grade/subjects - null null
2025-05-28 09:58:48.068 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:58:48.068 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:58:48.074 +02:00 [INF] Executing endpoint 'backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend)'
2025-05-28 09:58:48.074 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-28 09:58:48.075 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-28 09:58:48.075 +02:00 [INF] Route matched with {action = "GetSubjectsForCurrentTeacher", controller = "Grade"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubjectsForCurrentTeacher() on controller backend.Controllers.GradeController (backend).
2025-05-28 09:58:48.161 +02:00 [INF] Executed DbCommand (78ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-28 09:58:48.161 +02:00 [INF] Executed DbCommand (78ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-28 09:58:48.444 +02:00 [INF] Executed DbCommand (50ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-28 09:58:48.472 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SubjectId], [t].[SubjectName], [t].[ClassId], [t].[ClassName]
FROM (
    SELECT DISTINCT [c].[SubjectId], [s].[Name] AS [SubjectName], [c].[ClassId], [c0].[Name] AS [ClassName]
    FROM [ClassSubjects] AS [c]
    INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
    INNER JOIN [Classes] AS [c0] ON [c].[ClassId] = [c0].[Id]
    WHERE [c].[TeacherId] = @__teacherId_0
) AS [t]
ORDER BY [t].[SubjectName]
2025-05-28 09:58:48.475 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.SubjectWithClassDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-28 09:58:48.475 +02:00 [INF] Executed action backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend) in 399.3497ms
2025-05-28 09:58:48.475 +02:00 [INF] Executed endpoint 'backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend)'
2025-05-28 09:58:48.475 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/grade/subjects - 200 null application/json; charset=utf-8 408.1532ms
2025-05-28 09:58:48.496 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-28 09:58:48.496 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-28 09:58:48.497 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 421.152ms
2025-05-28 09:58:48.497 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-28 09:58:48.497 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 434.0008ms
2025-05-28 09:58:56.214 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/grade/subjects - null null
2025-05-28 09:58:56.214 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-28 09:58:56.251 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:58:56.251 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:58:56.256 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 40.7892ms
2025-05-28 09:58:56.256 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/grade/subjects - 204 null null 39.9218ms
2025-05-28 09:58:56.305 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-28 09:58:56.305 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/grade/subjects - null null
2025-05-28 09:58:56.306 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:58:56.306 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:58:56.309 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-28 09:58:56.309 +02:00 [INF] Executing endpoint 'backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend)'
2025-05-28 09:58:56.310 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-28 09:58:56.310 +02:00 [INF] Route matched with {action = "GetSubjectsForCurrentTeacher", controller = "Grade"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubjectsForCurrentTeacher() on controller backend.Controllers.GradeController (backend).
2025-05-28 09:58:56.511 +02:00 [INF] Executed DbCommand (159ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-28 09:58:56.511 +02:00 [INF] Executed DbCommand (159ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-28 09:58:56.708 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SubjectId], [t].[SubjectName], [t].[ClassId], [t].[ClassName]
FROM (
    SELECT DISTINCT [c].[SubjectId], [s].[Name] AS [SubjectName], [c].[ClassId], [c0].[Name] AS [ClassName]
    FROM [ClassSubjects] AS [c]
    INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
    INNER JOIN [Classes] AS [c0] ON [c].[ClassId] = [c0].[Id]
    WHERE [c].[TeacherId] = @__teacherId_0
) AS [t]
ORDER BY [t].[SubjectName]
2025-05-28 09:58:56.708 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-28 09:58:56.708 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.SubjectWithClassDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-28 09:58:56.710 +02:00 [INF] Executed action backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend) in 398.3903ms
2025-05-28 09:58:56.711 +02:00 [INF] Executed endpoint 'backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend)'
2025-05-28 09:58:56.711 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/grade/subjects - 200 null application/json; charset=utf-8 406.0947ms
2025-05-28 09:58:56.732 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-28 09:58:56.732 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-28 09:58:56.733 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 422.6417ms
2025-05-28 09:58:56.733 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-28 09:58:56.733 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 428.7532ms
2025-05-28 09:59:25.098 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/grade/subjects - null null
2025-05-28 09:59:25.098 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-28 09:59:25.102 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:59:25.102 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:59:25.102 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/grade/subjects - 204 null null 4.2688ms
2025-05-28 09:59:25.102 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 4.1781ms
2025-05-28 09:59:25.132 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-28 09:59:25.132 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/grade/subjects - null null
2025-05-28 09:59:25.135 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:59:25.135 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:59:25.140 +02:00 [INF] Executing endpoint 'backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend)'
2025-05-28 09:59:25.140 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-28 09:59:25.141 +02:00 [INF] Route matched with {action = "GetSubjectsForCurrentTeacher", controller = "Grade"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubjectsForCurrentTeacher() on controller backend.Controllers.GradeController (backend).
2025-05-28 09:59:25.142 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-28 09:59:25.170 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-28 09:59:25.170 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-28 09:59:25.196 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SubjectId], [t].[SubjectName], [t].[ClassId], [t].[ClassName]
FROM (
    SELECT DISTINCT [c].[SubjectId], [s].[Name] AS [SubjectName], [c].[ClassId], [c0].[Name] AS [ClassName]
    FROM [ClassSubjects] AS [c]
    INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
    INNER JOIN [Classes] AS [c0] ON [c].[ClassId] = [c0].[Id]
    WHERE [c].[TeacherId] = @__teacherId_0
) AS [t]
ORDER BY [t].[SubjectName]
2025-05-28 09:59:25.196 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-28 09:59:25.197 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.SubjectWithClassDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-28 09:59:25.198 +02:00 [INF] Executed action backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend) in 56.6141ms
2025-05-28 09:59:25.199 +02:00 [INF] Executed endpoint 'backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend)'
2025-05-28 09:59:25.229 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/grade/subjects - 200 null application/json; charset=utf-8 96.5417ms
2025-05-28 09:59:25.229 +02:00 [INF] Executed DbCommand (32ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-28 09:59:25.230 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-28 09:59:25.230 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 88.172ms
2025-05-28 09:59:25.230 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-28 09:59:25.230 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 97.8264ms
2025-05-28 09:59:27.443 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/teacher/d2f5cf82-b1bb-44b9-8171-f8f7fbb1a6f6 - null null
2025-05-28 09:59:27.447 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:59:27.459 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/teacher/d2f5cf82-b1bb-44b9-8171-f8f7fbb1a6f6 - 204 null null 15.5749ms
2025-05-28 09:59:27.461 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/teacher/d2f5cf82-b1bb-44b9-8171-f8f7fbb1a6f6 - null null
2025-05-28 09:59:27.465 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:59:27.466 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetScheduleForTeacher (backend)'
2025-05-28 09:59:27.475 +02:00 [INF] Route matched with {action = "GetScheduleForTeacher", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetScheduleForTeacher(System.String) on controller backend.Controllers.ScheduleController (backend).
2025-05-28 09:59:27.517 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__userId_0
2025-05-28 09:59:27.551 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__teacher_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[DayOfWeek], [s].[StartTime], [c].[Name], [s0].[Name]
FROM [Schedules] AS [s]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
WHERE [s].[TeacherId] = @__teacher_Id_0
ORDER BY [s].[DayOfWeek], [s].[StartTime]
2025-05-28 09:59:27.554 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.TeacherScheduleEntryDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-28 09:59:27.560 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetScheduleForTeacher (backend) in 84.9509ms
2025-05-28 09:59:27.560 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetScheduleForTeacher (backend)'
2025-05-28 09:59:27.560 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/teacher/d2f5cf82-b1bb-44b9-8171-f8f7fbb1a6f6 - 200 null application/json; charset=utf-8 99.2079ms
2025-05-28 09:59:29.072 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - null null
2025-05-28 09:59:29.072 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:59:29.073 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/attendance/today-lessons - 204 null null 0.5333ms
2025-05-28 09:59:29.077 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - null null
2025-05-28 09:59:29.077 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:59:29.077 +02:00 [INF] Executing endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-28 09:59:29.078 +02:00 [INF] Route matched with {action = "GetTodayLessons", controller = "Attendance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTodayLessons() on controller backend.Controllers.AttendanceController (backend).
2025-05-28 09:59:29.106 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-28 09:59:29.129 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__teacherId_0='?' (DbType = Int32), @__today_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s0].[Name], [c].[Name], [s].[StartTime], CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Attendances] AS [a]
        WHERE [a].[ScheduleId] = [s].[Id] AND CONVERT(date, [a].[Date]) = CONVERT(date, GETDATE())) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
FROM [Schedules] AS [s]
INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
INNER JOIN [Classes] AS [c] ON [s].[ClassId] = [c].[Id]
WHERE [s].[TeacherId] = @__teacherId_0 AND [s].[DayOfWeek] = @__today_1
ORDER BY [s].[StartTime]
2025-05-28 09:59:29.130 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.LessonForAttendanceDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-28 09:59:29.130 +02:00 [INF] Executed action backend.Controllers.AttendanceController.GetTodayLessons (backend) in 52.2289ms
2025-05-28 09:59:29.131 +02:00 [INF] Executed endpoint 'backend.Controllers.AttendanceController.GetTodayLessons (backend)'
2025-05-28 09:59:29.132 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/attendance/today-lessons - 200 null application/json; charset=utf-8 54.8434ms
2025-05-28 09:59:30.965 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/grade/subjects - null null
2025-05-28 09:59:30.965 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:59:30.965 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/grade/subjects - 204 null null 0.394ms
2025-05-28 09:59:30.967 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/grade/subjects - null null
2025-05-28 09:59:30.968 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:59:30.968 +02:00 [INF] Executing endpoint 'backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend)'
2025-05-28 09:59:30.968 +02:00 [INF] Route matched with {action = "GetSubjectsForCurrentTeacher", controller = "Grade"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubjectsForCurrentTeacher() on controller backend.Controllers.GradeController (backend).
2025-05-28 09:59:30.993 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-28 09:59:31.017 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SubjectId], [t].[SubjectName], [t].[ClassId], [t].[ClassName]
FROM (
    SELECT DISTINCT [c].[SubjectId], [s].[Name] AS [SubjectName], [c].[ClassId], [c0].[Name] AS [ClassName]
    FROM [ClassSubjects] AS [c]
    INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
    INNER JOIN [Classes] AS [c0] ON [c].[ClassId] = [c0].[Id]
    WHERE [c].[TeacherId] = @__teacherId_0
) AS [t]
ORDER BY [t].[SubjectName]
2025-05-28 09:59:31.017 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.SubjectWithClassDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-28 09:59:31.017 +02:00 [INF] Executed action backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend) in 49.0518ms
2025-05-28 09:59:31.017 +02:00 [INF] Executed endpoint 'backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend)'
2025-05-28 09:59:31.018 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/grade/subjects - 200 null application/json; charset=utf-8 50.2659ms
2025-05-28 09:59:34.817 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/grade/students/12/10 - null null
2025-05-28 09:59:34.818 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:59:34.818 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/grade/students/12/10 - 204 null null 1.3221ms
2025-05-28 09:59:34.820 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/grade/students/12/10 - null null
2025-05-28 09:59:34.820 +02:00 [INF] CORS policy execution successful.
2025-05-28 09:59:34.821 +02:00 [INF] Executing endpoint 'backend.Controllers.GradeController.GetStudentsForSubjectAndClass (backend)'
2025-05-28 09:59:34.821 +02:00 [INF] Route matched with {action = "GetStudentsForSubjectAndClass", controller = "Grade"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentsForSubjectAndClass(Int32, Int32) on controller backend.Controllers.GradeController (backend).
2025-05-28 09:59:34.846 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-28 09:59:34.869 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__teacherId_0='?' (DbType = Int32), @__subjectId_1='?' (DbType = Int32), @__classId_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [ClassSubjects] AS [c]
        WHERE [c].[TeacherId] = @__teacherId_0 AND [c].[SubjectId] = @__subjectId_1 AND [c].[ClassId] = @__classId_2) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-05-28 09:59:34.893 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[FirstName] + N' ' + [s].[LastName] AS [FullName]
FROM [Students] AS [s]
WHERE [s].[ClassId] = @__classId_0
ORDER BY [s].[LastName]
2025-05-28 09:59:34.893 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.StudentDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-28 09:59:34.893 +02:00 [INF] Executed action backend.Controllers.GradeController.GetStudentsForSubjectAndClass (backend) in 72.3326ms
2025-05-28 09:59:34.893 +02:00 [INF] Executed endpoint 'backend.Controllers.GradeController.GetStudentsForSubjectAndClass (backend)'
2025-05-28 09:59:34.894 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/grade/students/12/10 - 200 null application/json; charset=utf-8 73.8571ms
2025-05-28 10:00:59.087 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-28 10:00:59.087 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/grade/subjects - null null
2025-05-28 10:00:59.118 +02:00 [INF] CORS policy execution successful.
2025-05-28 10:00:59.118 +02:00 [INF] CORS policy execution successful.
2025-05-28 10:00:59.118 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/grade/subjects - 204 null null 31.819ms
2025-05-28 10:00:59.118 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 31.8257ms
2025-05-28 10:00:59.196 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-28 10:00:59.201 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/grade/subjects - null null
2025-05-28 10:00:59.227 +02:00 [INF] CORS policy execution successful.
2025-05-28 10:00:59.227 +02:00 [INF] CORS policy execution successful.
2025-05-28 10:00:59.230 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-28 10:00:59.230 +02:00 [INF] Executing endpoint 'backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend)'
2025-05-28 10:00:59.231 +02:00 [INF] Route matched with {action = "GetSubjectsForCurrentTeacher", controller = "Grade"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubjectsForCurrentTeacher() on controller backend.Controllers.GradeController (backend).
2025-05-28 10:00:59.231 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-28 10:00:59.261 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-28 10:00:59.261 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-28 10:00:59.286 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-28 10:00:59.286 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SubjectId], [t].[SubjectName], [t].[ClassId], [t].[ClassName]
FROM (
    SELECT DISTINCT [c].[SubjectId], [s].[Name] AS [SubjectName], [c].[ClassId], [c0].[Name] AS [ClassName]
    FROM [ClassSubjects] AS [c]
    INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
    INNER JOIN [Classes] AS [c0] ON [c].[ClassId] = [c0].[Id]
    WHERE [c].[TeacherId] = @__teacherId_0
) AS [t]
ORDER BY [t].[SubjectName]
2025-05-28 10:00:59.287 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.SubjectWithClassDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-28 10:00:59.338 +02:00 [INF] Executed action backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend) in 107.0574ms
2025-05-28 10:00:59.338 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-28 10:00:59.338 +02:00 [INF] Executed endpoint 'backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend)'
2025-05-28 10:00:59.363 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/grade/subjects - 200 null application/json; charset=utf-8 161.488ms
2025-05-28 10:00:59.363 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-28 10:00:59.363 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 132.0868ms
2025-05-28 10:00:59.363 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-28 10:00:59.363 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 167.5731ms
2025-05-28 10:01:06.261 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/grade/students/12/10 - null null
2025-05-28 10:01:06.263 +02:00 [INF] CORS policy execution successful.
2025-05-28 10:01:06.264 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/grade/students/12/10 - 204 null null 2.7346ms
2025-05-28 10:01:06.265 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/grade/students/12/10 - null null
2025-05-28 10:01:06.266 +02:00 [INF] CORS policy execution successful.
2025-05-28 10:01:06.271 +02:00 [INF] Executing endpoint 'backend.Controllers.GradeController.GetStudentsForSubjectAndClass (backend)'
2025-05-28 10:01:06.278 +02:00 [INF] Route matched with {action = "GetStudentsForSubjectAndClass", controller = "Grade"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentsForSubjectAndClass(Int32, Int32) on controller backend.Controllers.GradeController (backend).
2025-05-28 10:01:06.312 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-28 10:01:06.353 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__teacherId_0='?' (DbType = Int32), @__subjectId_1='?' (DbType = Int32), @__classId_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [ClassSubjects] AS [c]
        WHERE [c].[TeacherId] = @__teacherId_0 AND [c].[SubjectId] = @__subjectId_1 AND [c].[ClassId] = @__classId_2) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-05-28 10:01:06.376 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[FirstName] + N' ' + [s].[LastName] AS [FullName]
FROM [Students] AS [s]
WHERE [s].[ClassId] = @__classId_0
ORDER BY [s].[LastName]
2025-05-28 10:01:06.376 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.StudentDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-28 10:01:06.377 +02:00 [INF] Executed action backend.Controllers.GradeController.GetStudentsForSubjectAndClass (backend) in 98.7244ms
2025-05-28 10:01:06.377 +02:00 [INF] Executed endpoint 'backend.Controllers.GradeController.GetStudentsForSubjectAndClass (backend)'
2025-05-28 10:01:06.377 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/grade/students/12/10 - 200 null application/json; charset=utf-8 111.7386ms
2025-05-28 10:01:09.379 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/grade/students/4/5 - null null
2025-05-28 10:01:09.380 +02:00 [INF] CORS policy execution successful.
2025-05-28 10:01:09.380 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/grade/students/4/5 - 204 null null 0.5948ms
2025-05-28 10:01:09.382 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/grade/students/4/5 - null null
2025-05-28 10:01:09.382 +02:00 [INF] CORS policy execution successful.
2025-05-28 10:01:09.383 +02:00 [INF] Executing endpoint 'backend.Controllers.GradeController.GetStudentsForSubjectAndClass (backend)'
2025-05-28 10:01:09.383 +02:00 [INF] Route matched with {action = "GetStudentsForSubjectAndClass", controller = "Grade"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentsForSubjectAndClass(Int32, Int32) on controller backend.Controllers.GradeController (backend).
2025-05-28 10:01:09.409 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-28 10:01:09.432 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__teacherId_0='?' (DbType = Int32), @__subjectId_1='?' (DbType = Int32), @__classId_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [ClassSubjects] AS [c]
        WHERE [c].[TeacherId] = @__teacherId_0 AND [c].[SubjectId] = @__subjectId_1 AND [c].[ClassId] = @__classId_2) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-05-28 10:01:09.455 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[FirstName] + N' ' + [s].[LastName] AS [FullName]
FROM [Students] AS [s]
WHERE [s].[ClassId] = @__classId_0
ORDER BY [s].[LastName]
2025-05-28 10:01:09.455 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.StudentDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-28 10:01:09.456 +02:00 [INF] Executed action backend.Controllers.GradeController.GetStudentsForSubjectAndClass (backend) in 71.9428ms
2025-05-28 10:01:09.456 +02:00 [INF] Executed endpoint 'backend.Controllers.GradeController.GetStudentsForSubjectAndClass (backend)'
2025-05-28 10:01:09.456 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/grade/students/4/5 - 200 null application/json; charset=utf-8 74.4474ms
2025-05-28 10:01:14.348 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/grade/students/4/7 - null null
2025-05-28 10:01:14.349 +02:00 [INF] CORS policy execution successful.
2025-05-28 10:01:14.349 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/grade/students/4/7 - 204 null null 0.7651ms
2025-05-28 10:01:14.376 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/grade/students/4/7 - null null
2025-05-28 10:01:14.376 +02:00 [INF] CORS policy execution successful.
2025-05-28 10:01:14.377 +02:00 [INF] Executing endpoint 'backend.Controllers.GradeController.GetStudentsForSubjectAndClass (backend)'
2025-05-28 10:01:14.377 +02:00 [INF] Route matched with {action = "GetStudentsForSubjectAndClass", controller = "Grade"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentsForSubjectAndClass(Int32, Int32) on controller backend.Controllers.GradeController (backend).
2025-05-28 10:01:14.405 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-28 10:01:14.428 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__teacherId_0='?' (DbType = Int32), @__subjectId_1='?' (DbType = Int32), @__classId_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [ClassSubjects] AS [c]
        WHERE [c].[TeacherId] = @__teacherId_0 AND [c].[SubjectId] = @__subjectId_1 AND [c].[ClassId] = @__classId_2) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-05-28 10:01:14.452 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[FirstName] + N' ' + [s].[LastName] AS [FullName]
FROM [Students] AS [s]
WHERE [s].[ClassId] = @__classId_0
ORDER BY [s].[LastName]
2025-05-28 10:01:14.453 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.StudentDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-28 10:01:14.453 +02:00 [INF] Executed action backend.Controllers.GradeController.GetStudentsForSubjectAndClass (backend) in 75.6008ms
2025-05-28 10:01:14.453 +02:00 [INF] Executed endpoint 'backend.Controllers.GradeController.GetStudentsForSubjectAndClass (backend)'
2025-05-28 10:01:14.453 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/grade/students/4/7 - 200 null application/json; charset=utf-8 77.0407ms
2025-05-28 10:01:24.715 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-28 10:01:24.715 +02:00 [INF] CORS policy execution successful.
2025-05-28 10:01:24.715 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 0.6152ms
2025-05-28 10:01:24.717 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-28 10:01:24.717 +02:00 [INF] CORS policy execution successful.
2025-05-28 10:01:24.717 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/grade/subjects - null null
2025-05-28 10:01:24.724 +02:00 [INF] CORS policy execution successful.
2025-05-28 10:01:24.725 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-28 10:01:24.725 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-28 10:01:24.725 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/grade/subjects - 204 null null 6.6886ms
2025-05-28 10:01:24.729 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/grade/subjects - null null
2025-05-28 10:01:24.729 +02:00 [INF] CORS policy execution successful.
2025-05-28 10:01:24.732 +02:00 [INF] Executing endpoint 'backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend)'
2025-05-28 10:01:24.760 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-28 10:01:24.873 +02:00 [INF] Route matched with {action = "GetSubjectsForCurrentTeacher", controller = "Grade"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubjectsForCurrentTeacher() on controller backend.Controllers.GradeController (backend).
2025-05-28 10:01:24.978 +02:00 [INF] Executed DbCommand (53ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-28 10:01:25.050 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-28 10:01:25.051 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-28 10:01:25.051 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 323.4183ms
2025-05-28 10:01:25.051 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-28 10:01:25.052 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 334.3063ms
2025-05-28 10:01:25.071 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-28 10:01:25.095 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SubjectId], [t].[SubjectName], [t].[ClassId], [t].[ClassName]
FROM (
    SELECT DISTINCT [c].[SubjectId], [s].[Name] AS [SubjectName], [c].[ClassId], [c0].[Name] AS [ClassName]
    FROM [ClassSubjects] AS [c]
    INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
    INNER JOIN [Classes] AS [c0] ON [c].[ClassId] = [c0].[Id]
    WHERE [c].[TeacherId] = @__teacherId_0
) AS [t]
ORDER BY [t].[SubjectName]
2025-05-28 10:01:25.096 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.SubjectWithClassDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-28 10:01:25.096 +02:00 [INF] Executed action backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend) in 201.3601ms
2025-05-28 10:01:25.097 +02:00 [INF] Executed endpoint 'backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend)'
2025-05-28 10:01:25.097 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/grade/subjects - 200 null application/json; charset=utf-8 368.455ms
2025-05-28 10:02:05.904 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-28 10:02:05.907 +02:00 [INF] CORS policy execution successful.
2025-05-28 10:02:05.908 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 4.7615ms
2025-05-28 10:02:05.914 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-28 10:02:05.916 +02:00 [INF] CORS policy execution successful.
2025-05-28 10:02:05.919 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-28 10:02:05.920 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-28 10:02:05.957 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-28 10:02:05.986 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-28 10:02:06.023 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-28 10:02:06.041 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-28 10:02:06.158 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 203.5747ms
2025-05-28 10:02:06.160 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-28 10:02:06.160 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 245.3044ms
2025-05-28 10:02:12.973 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-28 10:02:12.975 +02:00 [INF] CORS policy execution successful.
2025-05-28 10:02:12.975 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 1.7616ms
2025-05-28 10:02:12.977 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-28 10:02:12.978 +02:00 [INF] CORS policy execution successful.
2025-05-28 10:02:12.983 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-28 10:02:12.984 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-28 10:02:13.043 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-28 10:02:13.068 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-28 10:02:13.092 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-28 10:02:13.093 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-28 10:02:13.094 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 109.2605ms
2025-05-28 10:02:13.094 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-28 10:02:13.094 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 116.8147ms
2025-05-28 10:02:29.968 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-28 10:02:29.974 +02:00 [INF] CORS policy execution successful.
2025-05-28 10:02:29.976 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 8.0371ms
2025-05-28 10:02:29.978 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-28 10:02:30.009 +02:00 [INF] CORS policy execution successful.
2025-05-28 10:02:30.027 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-28 10:02:30.033 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-28 10:02:30.067 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-28 10:02:30.093 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-28 10:02:30.119 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-28 10:02:30.120 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-28 10:02:30.120 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 87.5155ms
2025-05-28 10:02:30.121 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-28 10:02:30.121 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 142.735ms
2025-05-28 10:02:41.092 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-28 10:02:41.094 +02:00 [INF] CORS policy execution successful.
2025-05-28 10:02:41.094 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 7.181ms
2025-05-28 10:02:41.112 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-28 10:02:41.139 +02:00 [INF] CORS policy execution successful.
2025-05-28 10:02:41.143 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-28 10:02:41.144 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-28 10:02:41.208 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-28 10:02:41.241 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-28 10:02:41.294 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-28 10:02:41.294 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-28 10:02:41.295 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 151.0492ms
2025-05-28 10:02:41.295 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-28 10:02:41.295 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 183.0622ms
2025-05-28 10:02:44.161 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/grade/subjects - null null
2025-05-28 10:02:44.161 +02:00 [INF] CORS policy execution successful.
2025-05-28 10:02:44.162 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/grade/subjects - 204 null null 0.6892ms
2025-05-28 10:02:44.164 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/grade/subjects - null null
2025-05-28 10:02:44.164 +02:00 [INF] CORS policy execution successful.
2025-05-28 10:02:44.166 +02:00 [INF] Executing endpoint 'backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend)'
2025-05-28 10:02:44.168 +02:00 [INF] Route matched with {action = "GetSubjectsForCurrentTeacher", controller = "Grade"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubjectsForCurrentTeacher() on controller backend.Controllers.GradeController (backend).
2025-05-28 10:02:44.194 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-28 10:02:44.219 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SubjectId], [t].[SubjectName], [t].[ClassId], [t].[ClassName]
FROM (
    SELECT DISTINCT [c].[SubjectId], [s].[Name] AS [SubjectName], [c].[ClassId], [c0].[Name] AS [ClassName]
    FROM [ClassSubjects] AS [c]
    INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
    INNER JOIN [Classes] AS [c0] ON [c].[ClassId] = [c0].[Id]
    WHERE [c].[TeacherId] = @__teacherId_0
) AS [t]
ORDER BY [t].[SubjectName]
2025-05-28 10:02:44.219 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.SubjectWithClassDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-28 10:02:44.220 +02:00 [INF] Executed action backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend) in 50.6972ms
2025-05-28 10:02:44.220 +02:00 [INF] Executed endpoint 'backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend)'
2025-05-28 10:02:44.220 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/grade/subjects - 200 null application/json; charset=utf-8 55.6029ms
2025-05-28 10:02:46.610 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/grade/students/5/4 - null null
2025-05-28 10:02:46.610 +02:00 [INF] CORS policy execution successful.
2025-05-28 10:02:46.610 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/grade/students/5/4 - 204 null null 0.4195ms
2025-05-28 10:02:46.611 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/grade/students/5/4 - null null
2025-05-28 10:02:46.611 +02:00 [INF] CORS policy execution successful.
2025-05-28 10:02:46.612 +02:00 [INF] Executing endpoint 'backend.Controllers.GradeController.GetStudentsForSubjectAndClass (backend)'
2025-05-28 10:02:46.612 +02:00 [INF] Route matched with {action = "GetStudentsForSubjectAndClass", controller = "Grade"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentsForSubjectAndClass(Int32, Int32) on controller backend.Controllers.GradeController (backend).
2025-05-28 10:02:46.639 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-28 10:02:46.665 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__teacherId_0='?' (DbType = Int32), @__subjectId_1='?' (DbType = Int32), @__classId_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [ClassSubjects] AS [c]
        WHERE [c].[TeacherId] = @__teacherId_0 AND [c].[SubjectId] = @__subjectId_1 AND [c].[ClassId] = @__classId_2) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-05-28 10:02:46.689 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[FirstName] + N' ' + [s].[LastName] AS [FullName]
FROM [Students] AS [s]
WHERE [s].[ClassId] = @__classId_0
ORDER BY [s].[LastName]
2025-05-28 10:02:46.689 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.StudentDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-28 10:02:46.690 +02:00 [INF] Executed action backend.Controllers.GradeController.GetStudentsForSubjectAndClass (backend) in 77.297ms
2025-05-28 10:02:46.690 +02:00 [INF] Executed endpoint 'backend.Controllers.GradeController.GetStudentsForSubjectAndClass (backend)'
2025-05-28 10:02:46.690 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/grade/students/5/4 - 200 null application/json; charset=utf-8 79.0865ms
2025-05-28 10:02:58.121 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/grade/add - null null
2025-05-28 10:02:58.121 +02:00 [INF] CORS policy execution successful.
2025-05-28 10:02:58.122 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/grade/add - 204 null null 0.7472ms
2025-05-28 10:02:58.124 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5234/api/grade/add - application/json 86
2025-05-28 10:02:58.125 +02:00 [INF] CORS policy execution successful.
2025-05-28 10:02:58.126 +02:00 [INF] Executing endpoint 'backend.Controllers.GradeController.AddGrade (backend)'
2025-05-28 10:02:58.126 +02:00 [INF] Route matched with {action = "AddGrade", controller = "Grade"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddGrade(backend.DTOs.GradeCreateDto) on controller backend.Controllers.GradeController (backend).
2025-05-28 10:02:58.162 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-28 10:02:58.204 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Grades] ([Comment], [Date], [StudentId], [SubjectId], [TeacherId], [Value])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-05-28 10:02:58.205 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.GradeDto'.
2025-05-28 10:02:58.206 +02:00 [INF] Executed action backend.Controllers.GradeController.AddGrade (backend) in 79.5993ms
2025-05-28 10:02:58.206 +02:00 [INF] Executed endpoint 'backend.Controllers.GradeController.AddGrade (backend)'
2025-05-28 10:02:58.206 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5234/api/grade/add - 200 null application/json; charset=utf-8 82.1543ms
2025-05-28 10:04:19.116 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-28 10:04:19.118 +02:00 [INF] CORS policy execution successful.
2025-05-28 10:04:19.119 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 3.7948ms
2025-05-28 10:04:19.123 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-28 10:04:19.124 +02:00 [INF] CORS policy execution successful.
2025-05-28 10:04:19.126 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-28 10:04:19.126 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-28 10:04:19.155 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-28 10:04:19.181 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-28 10:04:19.205 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-28 10:04:19.205 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-28 10:04:19.206 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 79.623ms
2025-05-28 10:04:19.206 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-28 10:04:19.206 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 83.2593ms
2025-05-28 10:04:27.204 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/grade/subjects - null null
2025-05-28 10:04:27.205 +02:00 [INF] CORS policy execution successful.
2025-05-28 10:04:27.206 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/grade/subjects - 204 null null 2.0067ms
2025-05-28 10:04:27.207 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/grade/subjects - null null
2025-05-28 10:04:27.208 +02:00 [INF] CORS policy execution successful.
2025-05-28 10:04:27.210 +02:00 [INF] Executing endpoint 'backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend)'
2025-05-28 10:04:27.211 +02:00 [INF] Route matched with {action = "GetSubjectsForCurrentTeacher", controller = "Grade"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubjectsForCurrentTeacher() on controller backend.Controllers.GradeController (backend).
2025-05-28 10:04:27.250 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-28 10:04:27.277 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SubjectId], [t].[SubjectName], [t].[ClassId], [t].[ClassName]
FROM (
    SELECT DISTINCT [c].[SubjectId], [s].[Name] AS [SubjectName], [c].[ClassId], [c0].[Name] AS [ClassName]
    FROM [ClassSubjects] AS [c]
    INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
    INNER JOIN [Classes] AS [c0] ON [c].[ClassId] = [c0].[Id]
    WHERE [c].[TeacherId] = @__teacherId_0
) AS [t]
ORDER BY [t].[SubjectName]
2025-05-28 10:04:27.278 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.SubjectWithClassDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-28 10:04:27.278 +02:00 [INF] Executed action backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend) in 67.5506ms
2025-05-28 10:04:27.279 +02:00 [INF] Executed endpoint 'backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend)'
2025-05-28 10:04:27.279 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/grade/subjects - 200 null application/json; charset=utf-8 72.2725ms
2025-05-28 10:04:33.767 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/grade/students/5/4 - null null
2025-05-28 10:04:33.768 +02:00 [INF] CORS policy execution successful.
2025-05-28 10:04:33.768 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/grade/students/5/4 - 204 null null 0.4375ms
2025-05-28 10:04:33.770 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/grade/students/5/4 - null null
2025-05-28 10:04:33.774 +02:00 [INF] CORS policy execution successful.
2025-05-28 10:04:33.778 +02:00 [INF] Executing endpoint 'backend.Controllers.GradeController.GetStudentsForSubjectAndClass (backend)'
2025-05-28 10:04:33.778 +02:00 [INF] Route matched with {action = "GetStudentsForSubjectAndClass", controller = "Grade"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentsForSubjectAndClass(Int32, Int32) on controller backend.Controllers.GradeController (backend).
2025-05-28 10:04:33.814 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-28 10:04:33.839 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__teacherId_0='?' (DbType = Int32), @__subjectId_1='?' (DbType = Int32), @__classId_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [ClassSubjects] AS [c]
        WHERE [c].[TeacherId] = @__teacherId_0 AND [c].[SubjectId] = @__subjectId_1 AND [c].[ClassId] = @__classId_2) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-05-28 10:04:33.866 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[FirstName] + N' ' + [s].[LastName] AS [FullName]
FROM [Students] AS [s]
WHERE [s].[ClassId] = @__classId_0
ORDER BY [s].[LastName]
2025-05-28 10:04:33.866 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.StudentDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-28 10:04:33.867 +02:00 [INF] Executed action backend.Controllers.GradeController.GetStudentsForSubjectAndClass (backend) in 88.8087ms
2025-05-28 10:04:33.867 +02:00 [INF] Executed endpoint 'backend.Controllers.GradeController.GetStudentsForSubjectAndClass (backend)'
2025-05-28 10:04:33.867 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/grade/students/5/4 - 200 null application/json; charset=utf-8 97.6168ms
2025-05-28 10:04:52.518 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/grade/add - null null
2025-05-28 10:04:52.518 +02:00 [INF] CORS policy execution successful.
2025-05-28 10:04:52.518 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/grade/add - 204 null null 0.4026ms
2025-05-28 10:04:52.520 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5234/api/grade/add - application/json 98
2025-05-28 10:04:52.520 +02:00 [INF] CORS policy execution successful.
2025-05-28 10:04:52.522 +02:00 [INF] Executing endpoint 'backend.Controllers.GradeController.AddGrade (backend)'
2025-05-28 10:04:52.523 +02:00 [INF] Route matched with {action = "AddGrade", controller = "Grade"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddGrade(backend.DTOs.GradeCreateDto) on controller backend.Controllers.GradeController (backend).
2025-05-28 10:04:52.557 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-28 10:04:52.585 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Grades] ([Comment], [Date], [StudentId], [SubjectId], [TeacherId], [Value])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-05-28 10:04:52.586 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.GradeDto'.
2025-05-28 10:04:52.587 +02:00 [INF] Executed action backend.Controllers.GradeController.AddGrade (backend) in 63.8574ms
2025-05-28 10:04:52.587 +02:00 [INF] Executed endpoint 'backend.Controllers.GradeController.AddGrade (backend)'
2025-05-28 10:04:52.587 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5234/api/grade/add - 200 null application/json; charset=utf-8 67.4279ms
2025-05-28 10:13:26.708 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-28 10:13:26.709 +02:00 [INF] CORS policy execution successful.
2025-05-28 10:13:26.710 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 3.4207ms
2025-05-28 10:13:26.712 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-28 10:13:26.713 +02:00 [INF] CORS policy execution successful.
2025-05-28 10:13:26.727 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-28 10:13:26.728 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-28 10:13:27.225 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-28 10:13:27.252 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-28 10:13:27.277 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-28 10:13:27.278 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-28 10:13:27.279 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 550.1577ms
2025-05-28 10:13:27.279 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-28 10:13:27.279 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 567.2135ms
2025-05-28 10:28:43.628 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/token/refresh - null null
2025-05-28 10:28:43.630 +02:00 [INF] CORS policy execution successful.
2025-05-28 10:28:43.630 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/token/refresh - 204 null null 30.1006ms
2025-05-28 10:28:43.632 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/token/refresh - null null
2025-05-28 10:28:43.632 +02:00 [INF] CORS policy execution successful.
2025-05-28 10:28:43.677 +02:00 [INF] Executing endpoint 'backend.Controllers.TokenController.RefreshToken (backend)'
2025-05-28 10:28:43.707 +02:00 [INF] Route matched with {action = "RefreshToken", controller = "Token"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken() on controller backend.Controllers.TokenController (backend).
2025-05-28 10:28:44.506 +02:00 [INF] Executed DbCommand (86ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-05-28 10:28:44.569 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.Threading.Tasks.Task`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-28 10:28:44.652 +02:00 [INF] Executed DbCommand (84ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-28 10:28:44.765 +02:00 [INF] Executed DbCommand (94ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-05-28 10:28:44.943 +02:00 [INF] Executed DbCommand (147ms) [Parameters=[@p20='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p21='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32), @p18='?' (DbType = Boolean), @p19='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [AdminId] = @p1, [ConcurrencyStamp] = @p2, [DateAdded] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastSuccessfulLogin] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [SecurityStamp] = @p15, [StudentId] = @p16, [TeacherId] = @p17, [TwoFactorEnabled] = @p18, [UserName] = @p19
OUTPUT 1
WHERE [Id] = @p20 AND [ConcurrencyStamp] = @p21;
2025-05-28 10:28:44.965 +02:00 [INF] Executed action backend.Controllers.TokenController.RefreshToken (backend) in 1257.4024ms
2025-05-28 10:28:44.965 +02:00 [INF] Executed endpoint 'backend.Controllers.TokenController.RefreshToken (backend)'
2025-05-28 10:28:44.965 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/token/refresh - 200 null application/json; charset=utf-8 1333.1467ms
2025-05-28 10:32:47.323 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-28 10:32:47.326 +02:00 [INF] CORS policy execution successful.
2025-05-28 10:32:47.328 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 4.6788ms
2025-05-28 10:32:47.333 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-28 10:32:47.356 +02:00 [INF] CORS policy execution successful.
2025-05-28 10:32:47.435 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-28 10:32:47.436 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-28 10:32:47.610 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-28 10:32:47.638 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-28 10:32:47.670 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__user_Id_0
2025-05-28 10:32:47.672 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-28 10:32:47.673 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 236.7555ms
2025-05-28 10:32:47.673 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-28 10:32:47.673 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 340.4663ms
2025-05-28 10:32:50.016 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/grade/subjects - null null
2025-05-28 10:32:50.016 +02:00 [INF] CORS policy execution successful.
2025-05-28 10:32:50.016 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/grade/subjects - 204 null null 0.6574ms
2025-05-28 10:32:50.017 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/grade/subjects - null null
2025-05-28 10:32:50.018 +02:00 [INF] CORS policy execution successful.
2025-05-28 10:32:50.019 +02:00 [INF] Executing endpoint 'backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend)'
2025-05-28 10:32:50.020 +02:00 [INF] Route matched with {action = "GetSubjectsForCurrentTeacher", controller = "Grade"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubjectsForCurrentTeacher() on controller backend.Controllers.GradeController (backend).
2025-05-28 10:32:50.046 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-28 10:32:50.072 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SubjectId], [t].[SubjectName], [t].[ClassId], [t].[ClassName]
FROM (
    SELECT DISTINCT [c].[SubjectId], [s].[Name] AS [SubjectName], [c].[ClassId], [c0].[Name] AS [ClassName]
    FROM [ClassSubjects] AS [c]
    INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
    INNER JOIN [Classes] AS [c0] ON [c].[ClassId] = [c0].[Id]
    WHERE [c].[TeacherId] = @__teacherId_0
) AS [t]
ORDER BY [t].[SubjectName]
2025-05-28 10:32:50.073 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.SubjectWithClassDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-28 10:32:50.073 +02:00 [INF] Executed action backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend) in 53.6432ms
2025-05-28 10:32:50.073 +02:00 [INF] Executed endpoint 'backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend)'
2025-05-28 10:32:50.074 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/grade/subjects - 200 null application/json; charset=utf-8 56.2243ms
2025-05-28 10:32:54.024 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/grade/students/12/10 - null null
2025-05-28 10:32:54.025 +02:00 [INF] CORS policy execution successful.
2025-05-28 10:32:54.025 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/grade/students/12/10 - 204 null null 1.0987ms
2025-05-28 10:32:54.027 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/grade/students/12/10 - null null
2025-05-28 10:32:54.027 +02:00 [INF] CORS policy execution successful.
2025-05-28 10:32:54.029 +02:00 [INF] Executing endpoint 'backend.Controllers.GradeController.GetStudentsForSubjectAndClass (backend)'
2025-05-28 10:32:54.030 +02:00 [INF] Route matched with {action = "GetStudentsForSubjectAndClass", controller = "Grade"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentsForSubjectAndClass(Int32, Int32) on controller backend.Controllers.GradeController (backend).
2025-05-28 10:32:54.058 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-28 10:32:54.082 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__teacherId_0='?' (DbType = Int32), @__subjectId_1='?' (DbType = Int32), @__classId_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [ClassSubjects] AS [c]
        WHERE [c].[TeacherId] = @__teacherId_0 AND [c].[SubjectId] = @__subjectId_1 AND [c].[ClassId] = @__classId_2) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-05-28 10:32:54.105 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[FirstName] + N' ' + [s].[LastName] AS [FullName]
FROM [Students] AS [s]
WHERE [s].[ClassId] = @__classId_0
ORDER BY [s].[LastName]
2025-05-28 10:32:54.105 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.StudentDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-28 10:32:54.106 +02:00 [INF] Executed action backend.Controllers.GradeController.GetStudentsForSubjectAndClass (backend) in 76.1373ms
2025-05-28 10:32:54.106 +02:00 [INF] Executed endpoint 'backend.Controllers.GradeController.GetStudentsForSubjectAndClass (backend)'
2025-05-28 10:32:54.106 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/grade/students/12/10 - 200 null application/json; charset=utf-8 79.0642ms
2025-05-28 10:33:01.996 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/grade/add - null null
2025-05-28 10:33:01.997 +02:00 [INF] CORS policy execution successful.
2025-05-28 10:33:01.997 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/grade/add - 204 null null 0.4521ms
2025-05-28 10:33:01.999 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5234/api/grade/add - application/json 86
2025-05-28 10:33:01.999 +02:00 [INF] CORS policy execution successful.
2025-05-28 10:33:02.002 +02:00 [INF] Executing endpoint 'backend.Controllers.GradeController.AddGrade (backend)'
2025-05-28 10:33:02.002 +02:00 [INF] Route matched with {action = "AddGrade", controller = "Grade"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddGrade(backend.DTOs.GradeCreateDto) on controller backend.Controllers.GradeController (backend).
2025-05-28 10:33:02.040 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-28 10:33:02.153 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Grades] ([Comment], [Date], [StudentId], [SubjectId], [TeacherId], [Value])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-05-28 10:33:02.172 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.GradeDto'.
2025-05-28 10:33:02.178 +02:00 [INF] Executed action backend.Controllers.GradeController.AddGrade (backend) in 175.7541ms
2025-05-28 10:33:02.178 +02:00 [INF] Executed endpoint 'backend.Controllers.GradeController.AddGrade (backend)'
2025-05-28 10:33:02.178 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5234/api/grade/add - 200 null application/json; charset=utf-8 179.3429ms
2025-05-28 10:33:26.705 +02:00 [INF] Application is starting
2025-05-28 10:33:26.763 +02:00 [INF] User profile is available. Using '/Users/pawelstaniul/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-05-28 10:33:26.798 +02:00 [WRN] The WebRootPath was not found: /Users/pawelstaniul/Desktop/Programy/school-logbook/backend/wwwroot. Static files may be unavailable.
2025-05-28 10:33:26.812 +02:00 [INF] Now listening on: http://localhost:5234
2025-05-28 10:33:26.813 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-28 10:33:26.814 +02:00 [INF] Hosting environment: Development
2025-05-28 10:33:26.814 +02:00 [INF] Content root path: /Users/pawelstaniul/Desktop/Programy/school-logbook/backend
2025-05-28 10:33:27.002 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/swagger/index.html - null null
2025-05-28 10:33:27.052 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/swagger/index.html - 200 null text/html;charset=utf-8 50.1427ms
2025-05-28 10:33:27.115 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/swagger/v1/swagger.json - null null
2025-05-28 10:33:27.174 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 58.9167ms
2025-05-28 10:34:34.318 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/grade/subjects - null null
2025-05-28 10:34:34.326 +02:00 [WRN] Failed to determine the https port for redirect.
2025-05-28 10:34:34.341 +02:00 [INF] CORS policy execution successful.
2025-05-28 10:34:34.342 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/grade/subjects - 204 null null 23.763ms
2025-05-28 10:34:34.372 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/grade/subjects - null null
2025-05-28 10:34:34.374 +02:00 [INF] CORS policy execution successful.
2025-05-28 10:34:34.444 +02:00 [INF] Executing endpoint 'backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend)'
2025-05-28 10:34:34.457 +02:00 [INF] Route matched with {action = "GetSubjectsForCurrentTeacher", controller = "Grade"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubjectsForCurrentTeacher() on controller backend.Controllers.GradeController (backend).
2025-05-28 10:34:35.393 +02:00 [INF] Executed DbCommand (47ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-28 10:34:35.462 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[SubjectId], [t].[SubjectName], [t].[ClassId], [t].[ClassName]
FROM (
    SELECT DISTINCT [c].[SubjectId], [s].[Name] AS [SubjectName], [c].[ClassId], [c0].[Name] AS [ClassName]
    FROM [ClassSubjects] AS [c]
    INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
    INNER JOIN [Classes] AS [c0] ON [c].[ClassId] = [c0].[Id]
    WHERE [c].[TeacherId] = @__teacherId_0
) AS [t]
ORDER BY [t].[SubjectName]
2025-05-28 10:34:35.468 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.SubjectWithClassDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-28 10:34:35.473 +02:00 [INF] Executed action backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend) in 1014.6846ms
2025-05-28 10:34:35.473 +02:00 [INF] Executed endpoint 'backend.Controllers.GradeController.GetSubjectsForCurrentTeacher (backend)'
2025-05-28 10:34:35.478 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/grade/subjects - 200 null application/json; charset=utf-8 1105.4539ms
2025-05-28 10:34:37.739 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/grade/students/5/4 - null null
2025-05-28 10:34:37.742 +02:00 [INF] CORS policy execution successful.
2025-05-28 10:34:37.743 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/grade/students/5/4 - 204 null null 3.9227ms
2025-05-28 10:34:37.744 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/grade/students/5/4 - null null
2025-05-28 10:34:37.745 +02:00 [INF] CORS policy execution successful.
2025-05-28 10:34:37.750 +02:00 [INF] Executing endpoint 'backend.Controllers.GradeController.GetStudentsForSubjectAndClass (backend)'
2025-05-28 10:34:37.764 +02:00 [INF] Route matched with {action = "GetStudentsForSubjectAndClass", controller = "Grade"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStudentsForSubjectAndClass(Int32, Int32) on controller backend.Controllers.GradeController (backend).
2025-05-28 10:34:37.816 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-28 10:34:37.857 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__teacherId_0='?' (DbType = Int32), @__subjectId_1='?' (DbType = Int32), @__classId_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [ClassSubjects] AS [c]
        WHERE [c].[TeacherId] = @__teacherId_0 AND [c].[SubjectId] = @__subjectId_1 AND [c].[ClassId] = @__classId_2) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-05-28 10:34:37.891 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[FirstName] + N' ' + [s].[LastName] AS [FullName]
FROM [Students] AS [s]
WHERE [s].[ClassId] = @__classId_0
ORDER BY [s].[LastName]
2025-05-28 10:34:37.893 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.StudentDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-28 10:34:37.894 +02:00 [INF] Executed action backend.Controllers.GradeController.GetStudentsForSubjectAndClass (backend) in 130.01ms
2025-05-28 10:34:37.895 +02:00 [INF] Executed endpoint 'backend.Controllers.GradeController.GetStudentsForSubjectAndClass (backend)'
2025-05-28 10:34:37.896 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/grade/students/5/4 - 200 null application/json; charset=utf-8 151.0048ms
2025-05-28 10:34:50.511 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/grade/add - null null
2025-05-28 10:34:50.512 +02:00 [INF] CORS policy execution successful.
2025-05-28 10:34:50.512 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/grade/add - 204 null null 0.9878ms
2025-05-28 10:34:50.515 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5234/api/grade/add - application/json 90
2025-05-28 10:34:50.516 +02:00 [INF] CORS policy execution successful.
2025-05-28 10:34:50.521 +02:00 [INF] Executing endpoint 'backend.Controllers.GradeController.AddGrade (backend)'
2025-05-28 10:34:50.528 +02:00 [INF] Route matched with {action = "AddGrade", controller = "Grade"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddGrade(backend.DTOs.GradeCreateDto) on controller backend.Controllers.GradeController (backend).
2025-05-28 10:34:50.618 +02:00 [INF] Executed DbCommand (32ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
WHERE [t].[UserId] = @__id_0
2025-05-28 10:34:50.666 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[ClassId], [s].[FirstName], [s].[LastName], [s].[UserId]
FROM [Students] AS [s]
WHERE [s].[Id] = @__p_0
2025-05-28 10:34:50.718 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[CreatedAt], [s].[Name], [s].[UpdatedAt]
FROM [Subjects] AS [s]
WHERE [s].[Id] = @__p_0
2025-05-28 10:34:50.804 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Grades] ([Comment], [Date], [StudentId], [SubjectId], [TeacherId], [Value])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-05-28 10:34:50.817 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.GradeDto'.
2025-05-28 10:34:50.820 +02:00 [INF] Executed action backend.Controllers.GradeController.AddGrade (backend) in 291.723ms
2025-05-28 10:34:50.820 +02:00 [INF] Executed endpoint 'backend.Controllers.GradeController.AddGrade (backend)'
2025-05-28 10:34:50.821 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5234/api/grade/add - 200 null application/json; charset=utf-8 305.9415ms
