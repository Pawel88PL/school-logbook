2025-05-13 19:17:17.774 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-13 19:17:17.809 +02:00 [INF] CORS policy execution successful.
2025-05-13 19:17:17.809 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 35.2993ms
2025-05-13 19:17:17.810 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-13 19:17:17.810 +02:00 [INF] CORS policy execution successful.
2025-05-13 19:17:17.833 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/12/2025 8:12:32 PM', Current time (UTC): '5/13/2025 5:17:17 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-13 19:17:17.857 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/12/2025 8:12:32 PM', Current time (UTC): '5/13/2025 5:17:17 PM'.
2025-05-13 19:17:17.857 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-13 19:17:17.858 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-13 19:17:17.871 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-05-13 19:17:17.875 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 16.6049ms
2025-05-13 19:17:17.875 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-13 19:17:17.875 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 400 null text/plain; charset=utf-8 65.2064ms
2025-05-13 19:17:23.227 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-13 19:17:23.230 +02:00 [INF] CORS policy execution successful.
2025-05-13 19:17:23.231 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 5.5188ms
2025-05-13 19:17:23.232 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-13 19:17:23.234 +02:00 [INF] CORS policy execution successful.
2025-05-13 19:17:23.260 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/12/2025 8:12:32 PM', Current time (UTC): '5/13/2025 5:17:23 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-13 19:17:23.265 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/12/2025 8:12:32 PM', Current time (UTC): '5/13/2025 5:17:23 PM'.
2025-05-13 19:17:23.266 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-13 19:17:23.266 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-13 19:17:23.295 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-05-13 19:17:23.296 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 29.8727ms
2025-05-13 19:17:23.296 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-13 19:17:23.297 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 400 null text/plain; charset=utf-8 64.3076ms
2025-05-13 19:17:42.973 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/auth/login - null null
2025-05-13 19:17:42.974 +02:00 [INF] CORS policy execution successful.
2025-05-13 19:17:42.974 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/auth/login - 204 null null 1.247ms
2025-05-13 19:17:42.979 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5234/api/auth/login - application/json 55
2025-05-13 19:17:42.982 +02:00 [INF] CORS policy execution successful.
2025-05-13 19:17:42.983 +02:00 [INF] Executing endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-05-13 19:17:42.995 +02:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(backend.DTOs.Login) on controller backend.Controllers.AuthController (backend).
2025-05-13 19:17:43.528 +02:00 [INF] Executed DbCommand (93ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-05-13 19:17:43.735 +02:00 [INF] Executed DbCommand (86ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-05-13 19:17:43.807 +02:00 [INF] Executed DbCommand (69ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-13 19:17:43.896 +02:00 [INF] Executed DbCommand (82ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-13 19:17:44.006 +02:00 [INF] Executed DbCommand (88ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-13 19:17:44.025 +02:00 [INF] AuthenticationScheme: Identity.Application signed in.
2025-05-13 19:17:44.122 +02:00 [INF] Executed DbCommand (95ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-05-13 19:17:44.129 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.Threading.Tasks.Task`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-13 19:17:44.202 +02:00 [INF] Executed DbCommand (74ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-13 19:17:44.304 +02:00 [INF] Executed DbCommand (81ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-05-13 19:17:44.479 +02:00 [INF] Executed DbCommand (93ms) [Parameters=[@p20='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p21='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32), @p18='?' (DbType = Boolean), @p19='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [AdminId] = @p1, [ConcurrencyStamp] = @p2, [DateAdded] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [IsActive] = @p6, [LastSuccessfulLogin] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [SecurityStamp] = @p15, [StudentId] = @p16, [TeacherId] = @p17, [TwoFactorEnabled] = @p18, [UserName] = @p19
OUTPUT 1
WHERE [Id] = @p20 AND [ConcurrencyStamp] = @p21;
2025-05-13 19:17:44.495 +02:00 [INF] Executed action backend.Controllers.AuthController.Login (backend) in 1500.7ms
2025-05-13 19:17:44.495 +02:00 [INF] Executed endpoint 'backend.Controllers.AuthController.Login (backend)'
2025-05-13 19:17:44.496 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5234/api/auth/login - 200 null application/json; charset=utf-8 1517.2118ms
2025-05-13 19:17:44.503 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-13 19:17:44.503 +02:00 [INF] CORS policy execution successful.
2025-05-13 19:17:44.503 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 0.5556ms
2025-05-13 19:17:44.504 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-13 19:17:44.505 +02:00 [INF] CORS policy execution successful.
2025-05-13 19:17:44.505 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-13 19:17:44.506 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-13 19:17:44.535 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/paged?pageNumber=1&pageSize=10&sortColumn=role&sortDirection=asc&searchQuery= - null null
2025-05-13 19:17:44.535 +02:00 [INF] CORS policy execution successful.
2025-05-13 19:17:44.535 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/paged?pageNumber=1&pageSize=10&sortColumn=role&sortDirection=asc&searchQuery= - 204 null null 0.4377ms
2025-05-13 19:17:44.537 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/paged?pageNumber=1&pageSize=10&sortColumn=role&sortDirection=asc&searchQuery= - null null
2025-05-13 19:17:44.538 +02:00 [INF] CORS policy execution successful.
2025-05-13 19:17:44.544 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetUsersPaged (backend)'
2025-05-13 19:17:44.549 +02:00 [INF] Route matched with {action = "GetUsersPaged", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersPaged(backend.Models.PagedRequest) on controller backend.Controllers.UserController (backend).
2025-05-13 19:17:44.602 +02:00 [INF] Executed DbCommand (93ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-13 19:17:44.675 +02:00 [INF] Executed DbCommand (71ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-13 19:17:44.744 +02:00 [INF] Executed DbCommand (69ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[FirstName], [a].[LastName], [a].[UserId]
FROM [Admins] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-05-13 19:17:44.745 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-13 19:17:44.745 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 238.8142ms
2025-05-13 19:17:44.745 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-13 19:17:44.745 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 240.5534ms
2025-05-13 19:17:45.162 +02:00 [INF] Executed DbCommand (73ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
INNER JOIN [AspNetUserRoles] AS [a0] ON [a].[Id] = [a0].[UserId]
INNER JOIN [AspNetRoles] AS [a1] ON [a0].[RoleId] = [a1].[Id]
LEFT JOIN [Admins] AS [a2] ON [a].[Id] = [a2].[UserId]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[UserId]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[UserId]
2025-05-13 19:17:45.268 +02:00 [INF] Executed DbCommand (99ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName], [a1].[Name] AS [RoleName], [a2].[Id], [a2].[FirstName], [a2].[LastName], [a2].[UserId], [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId], [s].[Id], [s].[ClassId], [s].[FirstName], [s].[LastName], [s].[UserId]
FROM [AspNetUsers] AS [a]
INNER JOIN [AspNetUserRoles] AS [a0] ON [a].[Id] = [a0].[UserId]
INNER JOIN [AspNetRoles] AS [a1] ON [a0].[RoleId] = [a1].[Id]
LEFT JOIN [Admins] AS [a2] ON [a].[Id] = [a2].[UserId]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[UserId]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[UserId]
ORDER BY [a1].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-13 19:17:45.272 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.PagedUsers'.
2025-05-13 19:17:45.274 +02:00 [INF] Executed action backend.Controllers.UserController.GetUsersPaged (backend) in 724.1687ms
2025-05-13 19:17:45.274 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetUsersPaged (backend)'
2025-05-13 19:17:45.274 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/paged?pageNumber=1&pageSize=10&sortColumn=role&sortDirection=asc&searchQuery= - 200 null application/json; charset=utf-8 736.5112ms
2025-05-13 19:17:56.870 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-13 19:17:56.871 +02:00 [INF] CORS policy execution successful.
2025-05-13 19:17:56.872 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 1.5521ms
2025-05-13 19:17:56.874 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-13 19:17:56.875 +02:00 [INF] CORS policy execution successful.
2025-05-13 19:17:56.878 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-13 19:17:56.879 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-13 19:17:56.880 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/paged?pageNumber=1&pageSize=10&sortColumn=role&sortDirection=asc&searchQuery= - null null
2025-05-13 19:17:56.880 +02:00 [INF] CORS policy execution successful.
2025-05-13 19:17:56.880 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/paged?pageNumber=1&pageSize=10&sortColumn=role&sortDirection=asc&searchQuery= - 204 null null 0.419ms
2025-05-13 19:17:56.885 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/paged?pageNumber=1&pageSize=10&sortColumn=role&sortDirection=asc&searchQuery= - null null
2025-05-13 19:17:56.887 +02:00 [INF] CORS policy execution successful.
2025-05-13 19:17:56.888 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetUsersPaged (backend)'
2025-05-13 19:17:56.889 +02:00 [INF] Route matched with {action = "GetUsersPaged", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersPaged(backend.Models.PagedRequest) on controller backend.Controllers.UserController (backend).
2025-05-13 19:17:56.972 +02:00 [INF] Executed DbCommand (80ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
INNER JOIN [AspNetUserRoles] AS [a0] ON [a].[Id] = [a0].[UserId]
INNER JOIN [AspNetRoles] AS [a1] ON [a0].[RoleId] = [a1].[Id]
LEFT JOIN [Admins] AS [a2] ON [a].[Id] = [a2].[UserId]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[UserId]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[UserId]
2025-05-13 19:17:56.972 +02:00 [INF] Executed DbCommand (86ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-13 19:17:57.041 +02:00 [INF] Executed DbCommand (66ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-13 19:17:57.069 +02:00 [INF] Executed DbCommand (86ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName], [a1].[Name] AS [RoleName], [a2].[Id], [a2].[FirstName], [a2].[LastName], [a2].[UserId], [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId], [s].[Id], [s].[ClassId], [s].[FirstName], [s].[LastName], [s].[UserId]
FROM [AspNetUsers] AS [a]
INNER JOIN [AspNetUserRoles] AS [a0] ON [a].[Id] = [a0].[UserId]
INNER JOIN [AspNetRoles] AS [a1] ON [a0].[RoleId] = [a1].[Id]
LEFT JOIN [Admins] AS [a2] ON [a].[Id] = [a2].[UserId]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[UserId]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[UserId]
ORDER BY [a1].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-13 19:17:57.071 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.PagedUsers'.
2025-05-13 19:17:57.071 +02:00 [INF] Executed action backend.Controllers.UserController.GetUsersPaged (backend) in 182.8627ms
2025-05-13 19:17:57.072 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetUsersPaged (backend)'
2025-05-13 19:17:57.072 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/paged?pageNumber=1&pageSize=10&sortColumn=role&sortDirection=asc&searchQuery= - 200 null application/json; charset=utf-8 186.3916ms
2025-05-13 19:17:57.120 +02:00 [INF] Executed DbCommand (77ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[FirstName], [a].[LastName], [a].[UserId]
FROM [Admins] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-05-13 19:17:57.120 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-13 19:17:57.120 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 241.8112ms
2025-05-13 19:17:57.121 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-13 19:17:57.121 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 246.7134ms
2025-05-13 19:17:58.751 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/classes-with-schedule - null null
2025-05-13 19:17:58.752 +02:00 [INF] CORS policy execution successful.
2025-05-13 19:17:58.753 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/classes-with-schedule - 204 null null 1.7055ms
2025-05-13 19:17:58.754 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/classes-with-schedule - null null
2025-05-13 19:17:58.755 +02:00 [INF] CORS policy execution successful.
2025-05-13 19:17:58.755 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetClassesWithSchedule (backend)'
2025-05-13 19:17:58.756 +02:00 [INF] Route matched with {action = "GetClassesWithSchedule", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClassesWithSchedule() on controller backend.Controllers.ScheduleController (backend).
2025-05-13 19:17:58.844 +02:00 [INF] Executed DbCommand (85ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], (
    SELECT COUNT(*)
    FROM [Schedules] AS [s]
    WHERE [c].[Id] = [s].[ClassId]) AS [EntryCount]
FROM [Classes] AS [c]
ORDER BY [c].[Name]
2025-05-13 19:17:58.845 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.ClassWithScheduleDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-13 19:17:58.845 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetClassesWithSchedule (backend) in 89.1794ms
2025-05-13 19:17:58.845 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetClassesWithSchedule (backend)'
2025-05-13 19:17:58.845 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/classes-with-schedule - 200 null application/json; charset=utf-8 90.6554ms
2025-05-13 19:18:00.531 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4 - null null
2025-05-13 19:18:00.531 +02:00 [INF] CORS policy execution successful.
2025-05-13 19:18:00.531 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4 - 204 null null 0.4742ms
2025-05-13 19:18:00.532 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4/subjects - null null
2025-05-13 19:18:00.532 +02:00 [INF] CORS policy execution successful.
2025-05-13 19:18:00.532 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4/subjects - 204 null null 0.3735ms
2025-05-13 19:18:00.533 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/class/4 - null null
2025-05-13 19:18:00.533 +02:00 [INF] CORS policy execution successful.
2025-05-13 19:18:00.534 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetScheduleForClass (backend)'
2025-05-13 19:18:00.534 +02:00 [INF] Route matched with {action = "GetScheduleForClass", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetScheduleForClass(Int32) on controller backend.Controllers.ScheduleController (backend).
2025-05-13 19:18:00.535 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/class/4/subjects - null null
2025-05-13 19:18:00.535 +02:00 [INF] CORS policy execution successful.
2025-05-13 19:18:00.537 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetSubjectsForClass (backend)'
2025-05-13 19:18:00.537 +02:00 [INF] Route matched with {action = "GetSubjectsForClass", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubjectsForClass(Int32) on controller backend.Controllers.ScheduleController (backend).
2025-05-13 19:18:00.635 +02:00 [INF] Executed DbCommand (96ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[CreatedAt], [s].[Name], [s].[UpdatedAt], [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [ClassSubjects] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Teachers] AS [t] ON [c].[TeacherId] = [t].[Id]
WHERE [c].[ClassId] = @__classId_0
2025-05-13 19:18:00.635 +02:00 [INF] Executed DbCommand (98ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[HomeroomTeacherId], [t].[Name], [t].[UpdatedAt], [t0].[Id], [t0].[ClassId], [t0].[CreatedAt], [t0].[DayOfWeek], [t0].[StartTime], [t0].[SubjectId], [t0].[TeacherId], [t0].[UpdatedAt], [t0].[Id0], [t0].[CreatedAt0], [t0].[Name], [t0].[UpdatedAt0], [t0].[Id1], [t0].[FirstName], [t0].[LastName], [t0].[UserId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[CreatedAt], [c].[HomeroomTeacherId], [c].[Name], [c].[UpdatedAt]
    FROM [Classes] AS [c]
    WHERE [c].[Id] = @__classId_0
) AS [t]
LEFT JOIN (
    SELECT [s].[Id], [s].[ClassId], [s].[CreatedAt], [s].[DayOfWeek], [s].[StartTime], [s].[SubjectId], [s].[TeacherId], [s].[UpdatedAt], [s0].[Id] AS [Id0], [s0].[CreatedAt] AS [CreatedAt0], [s0].[Name], [s0].[UpdatedAt] AS [UpdatedAt0], [t1].[Id] AS [Id1], [t1].[FirstName], [t1].[LastName], [t1].[UserId]
    FROM [Schedules] AS [s]
    INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
    INNER JOIN [Teachers] AS [t1] ON [s].[TeacherId] = [t1].[Id]
) AS [t0] ON [t].[Id] = [t0].[ClassId]
ORDER BY [t].[Id], [t0].[Id], [t0].[Id0]
2025-05-13 19:18:00.637 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.ScheduleForClassDto'.
2025-05-13 19:18:00.637 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetScheduleForClass (backend) in 102.9105ms
2025-05-13 19:18:00.637 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.SubjectWithTeachersDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-13 19:18:00.637 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetScheduleForClass (backend)'
2025-05-13 19:18:00.637 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetSubjectsForClass (backend) in 100.2094ms
2025-05-13 19:18:00.637 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetSubjectsForClass (backend)'
2025-05-13 19:18:00.638 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/class/4 - 200 null application/json; charset=utf-8 104.5974ms
2025-05-13 19:18:00.638 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/class/4/subjects - 200 null application/json; charset=utf-8 102.8625ms
2025-05-13 19:22:45.382 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-13 19:22:45.387 +02:00 [INF] CORS policy execution successful.
2025-05-13 19:22:45.394 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 8.4102ms
2025-05-13 19:22:45.412 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-13 19:22:45.414 +02:00 [INF] CORS policy execution successful.
2025-05-13 19:22:45.415 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4 - null null
2025-05-13 19:22:45.415 +02:00 [INF] CORS policy execution successful.
2025-05-13 19:22:45.415 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4 - 204 null null 0.3531ms
2025-05-13 19:22:45.415 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4/subjects - null null
2025-05-13 19:22:45.416 +02:00 [INF] CORS policy execution successful.
2025-05-13 19:22:45.416 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4/subjects - 204 null null 0.7476ms
2025-05-13 19:22:45.416 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/class/4 - null null
2025-05-13 19:22:45.416 +02:00 [INF] CORS policy execution successful.
2025-05-13 19:22:45.417 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/class/4/subjects - null null
2025-05-13 19:22:45.417 +02:00 [INF] CORS policy execution successful.
2025-05-13 19:22:45.418 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetSubjectsForClass (backend)'
2025-05-13 19:22:45.418 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetScheduleForClass (backend)'
2025-05-13 19:22:45.418 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-13 19:22:45.419 +02:00 [INF] Route matched with {action = "GetSubjectsForClass", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubjectsForClass(Int32) on controller backend.Controllers.ScheduleController (backend).
2025-05-13 19:22:45.419 +02:00 [INF] Route matched with {action = "GetScheduleForClass", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetScheduleForClass(Int32) on controller backend.Controllers.ScheduleController (backend).
2025-05-13 19:22:45.420 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-13 19:22:45.552 +02:00 [INF] Executed DbCommand (85ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-13 19:22:45.563 +02:00 [INF] Executed DbCommand (97ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[CreatedAt], [s].[Name], [s].[UpdatedAt], [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [ClassSubjects] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Teachers] AS [t] ON [c].[TeacherId] = [t].[Id]
WHERE [c].[ClassId] = @__classId_0
2025-05-13 19:22:45.567 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.SubjectWithTeachersDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-13 19:22:45.569 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetSubjectsForClass (backend) in 149.8295ms
2025-05-13 19:22:45.569 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetSubjectsForClass (backend)'
2025-05-13 19:22:45.569 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/class/4/subjects - 200 null application/json; charset=utf-8 152.7405ms
2025-05-13 19:22:45.624 +02:00 [INF] Executed DbCommand (68ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-13 19:22:45.731 +02:00 [INF] Executed DbCommand (98ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[FirstName], [a].[LastName], [a].[UserId]
FROM [Admins] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-05-13 19:22:45.731 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-13 19:22:45.732 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 311.8627ms
2025-05-13 19:22:45.732 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-13 19:22:45.732 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 319.5959ms
2025-05-13 19:22:45.960 +02:00 [INF] Executed DbCommand (87ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[HomeroomTeacherId], [t].[Name], [t].[UpdatedAt], [t0].[Id], [t0].[ClassId], [t0].[CreatedAt], [t0].[DayOfWeek], [t0].[StartTime], [t0].[SubjectId], [t0].[TeacherId], [t0].[UpdatedAt], [t0].[Id0], [t0].[CreatedAt0], [t0].[Name], [t0].[UpdatedAt0], [t0].[Id1], [t0].[FirstName], [t0].[LastName], [t0].[UserId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[CreatedAt], [c].[HomeroomTeacherId], [c].[Name], [c].[UpdatedAt]
    FROM [Classes] AS [c]
    WHERE [c].[Id] = @__classId_0
) AS [t]
LEFT JOIN (
    SELECT [s].[Id], [s].[ClassId], [s].[CreatedAt], [s].[DayOfWeek], [s].[StartTime], [s].[SubjectId], [s].[TeacherId], [s].[UpdatedAt], [s0].[Id] AS [Id0], [s0].[CreatedAt] AS [CreatedAt0], [s0].[Name], [s0].[UpdatedAt] AS [UpdatedAt0], [t1].[Id] AS [Id1], [t1].[FirstName], [t1].[LastName], [t1].[UserId]
    FROM [Schedules] AS [s]
    INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
    INNER JOIN [Teachers] AS [t1] ON [s].[TeacherId] = [t1].[Id]
) AS [t0] ON [t].[Id] = [t0].[ClassId]
ORDER BY [t].[Id], [t0].[Id], [t0].[Id0]
2025-05-13 19:22:45.960 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.ScheduleForClassDto'.
2025-05-13 19:22:45.960 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetScheduleForClass (backend) in 540.7395ms
2025-05-13 19:22:45.960 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetScheduleForClass (backend)'
2025-05-13 19:22:45.961 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/class/4 - 200 null application/json; charset=utf-8 544.5172ms
2025-05-13 19:34:10.391 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-13 19:34:10.396 +02:00 [INF] CORS policy execution successful.
2025-05-13 19:34:10.396 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 8.1047ms
2025-05-13 19:34:10.398 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-13 19:34:10.398 +02:00 [INF] CORS policy execution successful.
2025-05-13 19:34:10.404 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-13 19:34:10.406 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-13 19:34:10.448 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4 - null null
2025-05-13 19:34:10.448 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4/subjects - null null
2025-05-13 19:34:10.448 +02:00 [INF] CORS policy execution successful.
2025-05-13 19:34:10.448 +02:00 [INF] CORS policy execution successful.
2025-05-13 19:34:10.448 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4 - 204 null null 0.2461ms
2025-05-13 19:34:10.448 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4/subjects - 204 null null 0.1005ms
2025-05-13 19:34:10.450 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/class/4/subjects - null null
2025-05-13 19:34:10.451 +02:00 [INF] CORS policy execution successful.
2025-05-13 19:34:10.451 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/class/4 - null null
2025-05-13 19:34:10.451 +02:00 [INF] CORS policy execution successful.
2025-05-13 19:34:10.451 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetSubjectsForClass (backend)'
2025-05-13 19:34:10.451 +02:00 [INF] Route matched with {action = "GetSubjectsForClass", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubjectsForClass(Int32) on controller backend.Controllers.ScheduleController (backend).
2025-05-13 19:34:10.451 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetScheduleForClass (backend)'
2025-05-13 19:34:10.451 +02:00 [INF] Route matched with {action = "GetScheduleForClass", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetScheduleForClass(Int32) on controller backend.Controllers.ScheduleController (backend).
2025-05-13 19:34:11.164 +02:00 [INF] Executed DbCommand (69ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-13 19:34:11.242 +02:00 [INF] Executed DbCommand (74ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-13 19:34:11.310 +02:00 [INF] Executed DbCommand (67ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[FirstName], [a].[LastName], [a].[UserId]
FROM [Admins] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-05-13 19:34:11.311 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-13 19:34:11.312 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 905.2161ms
2025-05-13 19:34:11.312 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-13 19:34:11.312 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 914.0456ms
2025-05-13 19:34:11.565 +02:00 [INF] Executed DbCommand (94ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[CreatedAt], [s].[Name], [s].[UpdatedAt], [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [ClassSubjects] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Teachers] AS [t] ON [c].[TeacherId] = [t].[Id]
WHERE [c].[ClassId] = @__classId_0
2025-05-13 19:34:11.566 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.SubjectWithTeachersDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-13 19:34:11.565 +02:00 [INF] Executed DbCommand (94ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[HomeroomTeacherId], [t].[Name], [t].[UpdatedAt], [t0].[Id], [t0].[ClassId], [t0].[CreatedAt], [t0].[DayOfWeek], [t0].[StartTime], [t0].[SubjectId], [t0].[TeacherId], [t0].[UpdatedAt], [t0].[Id0], [t0].[CreatedAt0], [t0].[Name], [t0].[UpdatedAt0], [t0].[Id1], [t0].[FirstName], [t0].[LastName], [t0].[UserId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[CreatedAt], [c].[HomeroomTeacherId], [c].[Name], [c].[UpdatedAt]
    FROM [Classes] AS [c]
    WHERE [c].[Id] = @__classId_0
) AS [t]
LEFT JOIN (
    SELECT [s].[Id], [s].[ClassId], [s].[CreatedAt], [s].[DayOfWeek], [s].[StartTime], [s].[SubjectId], [s].[TeacherId], [s].[UpdatedAt], [s0].[Id] AS [Id0], [s0].[CreatedAt] AS [CreatedAt0], [s0].[Name], [s0].[UpdatedAt] AS [UpdatedAt0], [t1].[Id] AS [Id1], [t1].[FirstName], [t1].[LastName], [t1].[UserId]
    FROM [Schedules] AS [s]
    INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
    INNER JOIN [Teachers] AS [t1] ON [s].[TeacherId] = [t1].[Id]
) AS [t0] ON [t].[Id] = [t0].[ClassId]
ORDER BY [t].[Id], [t0].[Id], [t0].[Id0]
2025-05-13 19:34:11.568 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetSubjectsForClass (backend) in 1117.133ms
2025-05-13 19:34:11.568 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetSubjectsForClass (backend)'
2025-05-13 19:34:11.568 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.ScheduleForClassDto'.
2025-05-13 19:34:11.569 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/class/4/subjects - 200 null application/json; charset=utf-8 1118.2955ms
2025-05-13 19:34:11.569 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetScheduleForClass (backend) in 1117.2505ms
2025-05-13 19:34:11.569 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetScheduleForClass (backend)'
2025-05-13 19:34:11.569 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/class/4 - 200 null application/json; charset=utf-8 1118.3373ms
2025-05-13 20:25:07.611 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-13 20:25:07.617 +02:00 [INF] CORS policy execution successful.
2025-05-13 20:25:07.629 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 17.6987ms
2025-05-13 20:25:07.631 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-13 20:25:07.636 +02:00 [INF] CORS policy execution successful.
2025-05-13 20:25:07.640 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-13 20:25:07.642 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-13 20:25:07.664 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4 - null null
2025-05-13 20:25:07.664 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4/subjects - null null
2025-05-13 20:25:07.664 +02:00 [INF] CORS policy execution successful.
2025-05-13 20:25:07.665 +02:00 [INF] CORS policy execution successful.
2025-05-13 20:25:07.665 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4/subjects - 204 null null 0.361ms
2025-05-13 20:25:07.665 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4 - 204 null null 0.4039ms
2025-05-13 20:25:07.666 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/class/4 - null null
2025-05-13 20:25:07.666 +02:00 [INF] CORS policy execution successful.
2025-05-13 20:25:07.667 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/class/4/subjects - null null
2025-05-13 20:25:07.667 +02:00 [INF] CORS policy execution successful.
2025-05-13 20:25:07.667 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetScheduleForClass (backend)'
2025-05-13 20:25:07.668 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetSubjectsForClass (backend)'
2025-05-13 20:25:07.668 +02:00 [INF] Route matched with {action = "GetScheduleForClass", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetScheduleForClass(Int32) on controller backend.Controllers.ScheduleController (backend).
2025-05-13 20:25:07.668 +02:00 [INF] Route matched with {action = "GetSubjectsForClass", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubjectsForClass(Int32) on controller backend.Controllers.ScheduleController (backend).
2025-05-13 20:25:08.129 +02:00 [INF] Executed DbCommand (85ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[CreatedAt], [s].[Name], [s].[UpdatedAt], [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [ClassSubjects] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Teachers] AS [t] ON [c].[TeacherId] = [t].[Id]
WHERE [c].[ClassId] = @__classId_0
2025-05-13 20:25:08.130 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.SubjectWithTeachersDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-13 20:25:08.131 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetSubjectsForClass (backend) in 462.5535ms
2025-05-13 20:25:08.131 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetSubjectsForClass (backend)'
2025-05-13 20:25:08.131 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/class/4/subjects - 200 null application/json; charset=utf-8 463.9033ms
2025-05-13 20:25:08.571 +02:00 [INF] Executed DbCommand (84ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-13 20:25:08.576 +02:00 [INF] Executed DbCommand (88ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[HomeroomTeacherId], [t].[Name], [t].[UpdatedAt], [t0].[Id], [t0].[ClassId], [t0].[CreatedAt], [t0].[DayOfWeek], [t0].[StartTime], [t0].[SubjectId], [t0].[TeacherId], [t0].[UpdatedAt], [t0].[Id0], [t0].[CreatedAt0], [t0].[Name], [t0].[UpdatedAt0], [t0].[Id1], [t0].[FirstName], [t0].[LastName], [t0].[UserId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[CreatedAt], [c].[HomeroomTeacherId], [c].[Name], [c].[UpdatedAt]
    FROM [Classes] AS [c]
    WHERE [c].[Id] = @__classId_0
) AS [t]
LEFT JOIN (
    SELECT [s].[Id], [s].[ClassId], [s].[CreatedAt], [s].[DayOfWeek], [s].[StartTime], [s].[SubjectId], [s].[TeacherId], [s].[UpdatedAt], [s0].[Id] AS [Id0], [s0].[CreatedAt] AS [CreatedAt0], [s0].[Name], [s0].[UpdatedAt] AS [UpdatedAt0], [t1].[Id] AS [Id1], [t1].[FirstName], [t1].[LastName], [t1].[UserId]
    FROM [Schedules] AS [s]
    INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
    INNER JOIN [Teachers] AS [t1] ON [s].[TeacherId] = [t1].[Id]
) AS [t0] ON [t].[Id] = [t0].[ClassId]
ORDER BY [t].[Id], [t0].[Id], [t0].[Id0]
2025-05-13 20:25:08.578 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.ScheduleForClassDto'.
2025-05-13 20:25:08.579 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetScheduleForClass (backend) in 911.4015ms
2025-05-13 20:25:08.579 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetScheduleForClass (backend)'
2025-05-13 20:25:08.579 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/class/4 - 200 null application/json; charset=utf-8 913.2462ms
2025-05-13 20:25:08.662 +02:00 [INF] Executed DbCommand (84ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-13 20:25:08.728 +02:00 [INF] Executed DbCommand (64ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[FirstName], [a].[LastName], [a].[UserId]
FROM [Admins] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-05-13 20:25:08.728 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-13 20:25:08.729 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 1086.0152ms
2025-05-13 20:25:08.729 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-13 20:25:08.729 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 1098.0078ms
2025-05-13 20:25:10.792 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-13 20:25:10.798 +02:00 [INF] CORS policy execution successful.
2025-05-13 20:25:10.800 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-13 20:25:10.804 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-13 20:25:10.854 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/class/4/subjects - null null
2025-05-13 20:25:10.854 +02:00 [INF] CORS policy execution successful.
2025-05-13 20:25:10.854 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetSubjectsForClass (backend)'
2025-05-13 20:25:10.854 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/class/4 - null null
2025-05-13 20:25:10.855 +02:00 [INF] CORS policy execution successful.
2025-05-13 20:25:10.855 +02:00 [INF] Route matched with {action = "GetSubjectsForClass", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubjectsForClass(Int32) on controller backend.Controllers.ScheduleController (backend).
2025-05-13 20:25:10.856 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetScheduleForClass (backend)'
2025-05-13 20:25:10.856 +02:00 [INF] Route matched with {action = "GetScheduleForClass", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetScheduleForClass(Int32) on controller backend.Controllers.ScheduleController (backend).
2025-05-13 20:25:10.920 +02:00 [INF] Executed DbCommand (101ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-13 20:25:10.970 +02:00 [INF] Executed DbCommand (106ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[HomeroomTeacherId], [t].[Name], [t].[UpdatedAt], [t0].[Id], [t0].[ClassId], [t0].[CreatedAt], [t0].[DayOfWeek], [t0].[StartTime], [t0].[SubjectId], [t0].[TeacherId], [t0].[UpdatedAt], [t0].[Id0], [t0].[CreatedAt0], [t0].[Name], [t0].[UpdatedAt0], [t0].[Id1], [t0].[FirstName], [t0].[LastName], [t0].[UserId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[CreatedAt], [c].[HomeroomTeacherId], [c].[Name], [c].[UpdatedAt]
    FROM [Classes] AS [c]
    WHERE [c].[Id] = @__classId_0
) AS [t]
LEFT JOIN (
    SELECT [s].[Id], [s].[ClassId], [s].[CreatedAt], [s].[DayOfWeek], [s].[StartTime], [s].[SubjectId], [s].[TeacherId], [s].[UpdatedAt], [s0].[Id] AS [Id0], [s0].[CreatedAt] AS [CreatedAt0], [s0].[Name], [s0].[UpdatedAt] AS [UpdatedAt0], [t1].[Id] AS [Id1], [t1].[FirstName], [t1].[LastName], [t1].[UserId]
    FROM [Schedules] AS [s]
    INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
    INNER JOIN [Teachers] AS [t1] ON [s].[TeacherId] = [t1].[Id]
) AS [t0] ON [t].[Id] = [t0].[ClassId]
ORDER BY [t].[Id], [t0].[Id], [t0].[Id0]
2025-05-13 20:25:10.974 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.ScheduleForClassDto'.
2025-05-13 20:25:10.974 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetScheduleForClass (backend) in 117.9303ms
2025-05-13 20:25:10.974 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetScheduleForClass (backend)'
2025-05-13 20:25:10.974 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/class/4 - 200 null application/json; charset=utf-8 120.8441ms
2025-05-13 20:25:11.005 +02:00 [INF] Executed DbCommand (78ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-13 20:25:11.078 +02:00 [INF] Executed DbCommand (73ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[FirstName], [a].[LastName], [a].[UserId]
FROM [Admins] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-05-13 20:25:11.079 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-13 20:25:11.079 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 274.0887ms
2025-05-13 20:25:11.079 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-13 20:25:11.079 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 286.4689ms
2025-05-13 20:25:11.301 +02:00 [INF] Executed DbCommand (71ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[CreatedAt], [s].[Name], [s].[UpdatedAt], [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [ClassSubjects] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Teachers] AS [t] ON [c].[TeacherId] = [t].[Id]
WHERE [c].[ClassId] = @__classId_0
2025-05-13 20:25:11.302 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.SubjectWithTeachersDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-13 20:25:11.302 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetSubjectsForClass (backend) in 446.1543ms
2025-05-13 20:25:11.302 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetSubjectsForClass (backend)'
2025-05-13 20:25:11.302 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/class/4/subjects - 200 null application/json; charset=utf-8 448.2779ms
2025-05-13 20:25:28.888 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-13 20:25:28.889 +02:00 [INF] CORS policy execution successful.
2025-05-13 20:25:28.890 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 2.4577ms
2025-05-13 20:25:28.894 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-13 20:25:28.898 +02:00 [INF] CORS policy execution successful.
2025-05-13 20:25:28.910 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-13 20:25:28.919 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-13 20:25:28.932 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4 - null null
2025-05-13 20:25:28.933 +02:00 [INF] CORS policy execution successful.
2025-05-13 20:25:28.933 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4/subjects - null null
2025-05-13 20:25:28.933 +02:00 [INF] CORS policy execution successful.
2025-05-13 20:25:28.933 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4 - 204 null null 0.2113ms
2025-05-13 20:25:28.937 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4/subjects - 204 null null 3.9011ms
2025-05-13 20:25:28.937 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/class/4 - null null
2025-05-13 20:25:28.937 +02:00 [INF] CORS policy execution successful.
2025-05-13 20:25:28.938 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetScheduleForClass (backend)'
2025-05-13 20:25:28.938 +02:00 [INF] Route matched with {action = "GetScheduleForClass", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetScheduleForClass(Int32) on controller backend.Controllers.ScheduleController (backend).
2025-05-13 20:25:28.938 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/class/4/subjects - null null
2025-05-13 20:25:28.938 +02:00 [INF] CORS policy execution successful.
2025-05-13 20:25:28.939 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetSubjectsForClass (backend)'
2025-05-13 20:25:28.939 +02:00 [INF] Route matched with {action = "GetSubjectsForClass", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubjectsForClass(Int32) on controller backend.Controllers.ScheduleController (backend).
2025-05-13 20:25:29.028 +02:00 [INF] Executed DbCommand (81ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[CreatedAt], [s].[Name], [s].[UpdatedAt], [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [ClassSubjects] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Teachers] AS [t] ON [c].[TeacherId] = [t].[Id]
WHERE [c].[ClassId] = @__classId_0
2025-05-13 20:25:29.028 +02:00 [INF] Executed DbCommand (98ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-13 20:25:29.028 +02:00 [INF] Executed DbCommand (80ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[HomeroomTeacherId], [t].[Name], [t].[UpdatedAt], [t0].[Id], [t0].[ClassId], [t0].[CreatedAt], [t0].[DayOfWeek], [t0].[StartTime], [t0].[SubjectId], [t0].[TeacherId], [t0].[UpdatedAt], [t0].[Id0], [t0].[CreatedAt0], [t0].[Name], [t0].[UpdatedAt0], [t0].[Id1], [t0].[FirstName], [t0].[LastName], [t0].[UserId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[CreatedAt], [c].[HomeroomTeacherId], [c].[Name], [c].[UpdatedAt]
    FROM [Classes] AS [c]
    WHERE [c].[Id] = @__classId_0
) AS [t]
LEFT JOIN (
    SELECT [s].[Id], [s].[ClassId], [s].[CreatedAt], [s].[DayOfWeek], [s].[StartTime], [s].[SubjectId], [s].[TeacherId], [s].[UpdatedAt], [s0].[Id] AS [Id0], [s0].[CreatedAt] AS [CreatedAt0], [s0].[Name], [s0].[UpdatedAt] AS [UpdatedAt0], [t1].[Id] AS [Id1], [t1].[FirstName], [t1].[LastName], [t1].[UserId]
    FROM [Schedules] AS [s]
    INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
    INNER JOIN [Teachers] AS [t1] ON [s].[TeacherId] = [t1].[Id]
) AS [t0] ON [t].[Id] = [t0].[ClassId]
ORDER BY [t].[Id], [t0].[Id], [t0].[Id0]
2025-05-13 20:25:29.031 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.ScheduleForClassDto'.
2025-05-13 20:25:29.031 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.SubjectWithTeachersDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-13 20:25:29.032 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetScheduleForClass (backend) in 93.8434ms
2025-05-13 20:25:29.032 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetScheduleForClass (backend)'
2025-05-13 20:25:29.032 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetSubjectsForClass (backend) in 93.5306ms
2025-05-13 20:25:29.032 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetSubjectsForClass (backend)'
2025-05-13 20:25:29.032 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/class/4 - 200 null application/json; charset=utf-8 95.4118ms
2025-05-13 20:25:29.032 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/class/4/subjects - 200 null application/json; charset=utf-8 94.0251ms
2025-05-13 20:25:29.105 +02:00 [INF] Executed DbCommand (73ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-13 20:25:29.175 +02:00 [INF] Executed DbCommand (69ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[FirstName], [a].[LastName], [a].[UserId]
FROM [Admins] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-05-13 20:25:29.176 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-13 20:25:29.176 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 256.1461ms
2025-05-13 20:25:29.176 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-13 20:25:29.176 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 281.8579ms
2025-05-13 20:29:59.737 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-13 20:29:59.742 +02:00 [INF] CORS policy execution successful.
2025-05-13 20:29:59.742 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 5.0888ms
2025-05-13 20:29:59.745 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-13 20:29:59.746 +02:00 [INF] CORS policy execution successful.
2025-05-13 20:29:59.749 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-13 20:29:59.751 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-13 20:29:59.784 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4 - null null
2025-05-13 20:29:59.784 +02:00 [INF] CORS policy execution successful.
2025-05-13 20:29:59.784 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4/subjects - null null
2025-05-13 20:29:59.784 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4 - 204 null null 0.7006ms
2025-05-13 20:29:59.785 +02:00 [INF] CORS policy execution successful.
2025-05-13 20:29:59.785 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4/subjects - 204 null null 0.596ms
2025-05-13 20:29:59.786 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/class/4 - null null
2025-05-13 20:29:59.786 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/class/4/subjects - null null
2025-05-13 20:29:59.787 +02:00 [INF] CORS policy execution successful.
2025-05-13 20:29:59.787 +02:00 [INF] CORS policy execution successful.
2025-05-13 20:29:59.787 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetScheduleForClass (backend)'
2025-05-13 20:29:59.787 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetSubjectsForClass (backend)'
2025-05-13 20:29:59.787 +02:00 [INF] Route matched with {action = "GetScheduleForClass", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetScheduleForClass(Int32) on controller backend.Controllers.ScheduleController (backend).
2025-05-13 20:29:59.787 +02:00 [INF] Route matched with {action = "GetSubjectsForClass", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubjectsForClass(Int32) on controller backend.Controllers.ScheduleController (backend).
2025-05-13 20:29:59.859 +02:00 [INF] Executed DbCommand (77ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-13 20:29:59.891 +02:00 [INF] Executed DbCommand (85ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[CreatedAt], [s].[Name], [s].[UpdatedAt], [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [ClassSubjects] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Teachers] AS [t] ON [c].[TeacherId] = [t].[Id]
WHERE [c].[ClassId] = @__classId_0
2025-05-13 20:29:59.893 +02:00 [INF] Executed DbCommand (87ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[HomeroomTeacherId], [t].[Name], [t].[UpdatedAt], [t0].[Id], [t0].[ClassId], [t0].[CreatedAt], [t0].[DayOfWeek], [t0].[StartTime], [t0].[SubjectId], [t0].[TeacherId], [t0].[UpdatedAt], [t0].[Id0], [t0].[CreatedAt0], [t0].[Name], [t0].[UpdatedAt0], [t0].[Id1], [t0].[FirstName], [t0].[LastName], [t0].[UserId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[CreatedAt], [c].[HomeroomTeacherId], [c].[Name], [c].[UpdatedAt]
    FROM [Classes] AS [c]
    WHERE [c].[Id] = @__classId_0
) AS [t]
LEFT JOIN (
    SELECT [s].[Id], [s].[ClassId], [s].[CreatedAt], [s].[DayOfWeek], [s].[StartTime], [s].[SubjectId], [s].[TeacherId], [s].[UpdatedAt], [s0].[Id] AS [Id0], [s0].[CreatedAt] AS [CreatedAt0], [s0].[Name], [s0].[UpdatedAt] AS [UpdatedAt0], [t1].[Id] AS [Id1], [t1].[FirstName], [t1].[LastName], [t1].[UserId]
    FROM [Schedules] AS [s]
    INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
    INNER JOIN [Teachers] AS [t1] ON [s].[TeacherId] = [t1].[Id]
) AS [t0] ON [t].[Id] = [t0].[ClassId]
ORDER BY [t].[Id], [t0].[Id], [t0].[Id0]
2025-05-13 20:29:59.894 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.SubjectWithTeachersDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-13 20:29:59.894 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.ScheduleForClassDto'.
2025-05-13 20:29:59.895 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetScheduleForClass (backend) in 107.4456ms
2025-05-13 20:29:59.895 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetSubjectsForClass (backend) in 107.1305ms
2025-05-13 20:29:59.895 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetScheduleForClass (backend)'
2025-05-13 20:29:59.895 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetSubjectsForClass (backend)'
2025-05-13 20:29:59.895 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/class/4 - 200 null application/json; charset=utf-8 108.8982ms
2025-05-13 20:29:59.895 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/class/4/subjects - 200 null application/json; charset=utf-8 108.923ms
2025-05-13 20:29:59.946 +02:00 [INF] Executed DbCommand (85ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-13 20:30:00.033 +02:00 [INF] Executed DbCommand (86ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[FirstName], [a].[LastName], [a].[UserId]
FROM [Admins] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-05-13 20:30:00.053 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-13 20:30:00.055 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 303.9393ms
2025-05-13 20:30:00.055 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-13 20:30:00.056 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 311.1031ms
2025-05-13 20:35:17.820 +02:00 [INF] Application is shutting down...
2025-05-13 20:35:28.408 +02:00 [INF] Application is starting
2025-05-13 20:35:28.450 +02:00 [INF] User profile is available. Using '/Users/pawelstaniul/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-05-13 20:35:28.474 +02:00 [WRN] The WebRootPath was not found: /Users/pawelstaniul/Desktop/Programy/school-logbook/backend/wwwroot. Static files may be unavailable.
2025-05-13 20:35:28.480 +02:00 [INF] Now listening on: http://localhost:5234
2025-05-13 20:35:28.481 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-13 20:35:28.481 +02:00 [INF] Hosting environment: Development
2025-05-13 20:35:28.481 +02:00 [INF] Content root path: /Users/pawelstaniul/Desktop/Programy/school-logbook/backend
2025-05-13 20:35:28.901 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/swagger/index.html - null null
2025-05-13 20:35:28.938 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/swagger/index.html - 200 null text/html;charset=utf-8 37.3195ms
2025-05-13 20:35:29.356 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/_framework/aspnetcore-browser-refresh.js - null null
2025-05-13 20:35:29.356 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/swagger/swagger-ui-bundle.js - null null
2025-05-13 20:35:29.359 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/_framework/aspnetcore-browser-refresh.js - 200 13732 application/javascript; charset=utf-8 2.9825ms
2025-05-13 20:35:29.375 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2025-05-13 20:35:29.376 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/swagger/swagger-ui-bundle.js - 200 1096145 text/javascript 20.0375ms
2025-05-13 20:35:29.451 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/swagger/v1/swagger.json - null null
2025-05-13 20:35:29.498 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 47.2846ms
2025-05-13 20:35:36.721 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-13 20:35:36.750 +02:00 [WRN] Failed to determine the https port for redirect.
2025-05-13 20:35:36.758 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4 - null null
2025-05-13 20:35:36.758 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4/subjects - null null
2025-05-13 20:35:36.867 +02:00 [INF] CORS policy execution successful.
2025-05-13 20:35:36.867 +02:00 [INF] CORS policy execution successful.
2025-05-13 20:35:36.868 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 147.6695ms
2025-05-13 20:35:36.869 +02:00 [INF] CORS policy execution successful.
2025-05-13 20:35:36.868 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4/subjects - 204 null null 110.1212ms
2025-05-13 20:35:36.870 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4 - 204 null null 112.2778ms
2025-05-13 20:35:36.871 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/class/4/subjects - null null
2025-05-13 20:35:36.872 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-13 20:35:36.872 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/class/4 - null null
2025-05-13 20:35:36.872 +02:00 [INF] CORS policy execution successful.
2025-05-13 20:35:36.872 +02:00 [INF] CORS policy execution successful.
2025-05-13 20:35:36.872 +02:00 [INF] CORS policy execution successful.
2025-05-13 20:35:37.032 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetScheduleForClass (backend)'
2025-05-13 20:35:37.032 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetSubjectsForClass (backend)'
2025-05-13 20:35:37.032 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-13 20:35:37.090 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-13 20:35:37.091 +02:00 [INF] Route matched with {action = "GetScheduleForClass", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetScheduleForClass(Int32) on controller backend.Controllers.ScheduleController (backend).
2025-05-13 20:35:37.091 +02:00 [INF] Route matched with {action = "GetSubjectsForClass", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubjectsForClass(Int32) on controller backend.Controllers.ScheduleController (backend).
2025-05-13 20:35:38.241 +02:00 [INF] Executed DbCommand (99ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[CreatedAt], [s].[Name], [s].[UpdatedAt], [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [ClassSubjects] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Teachers] AS [t] ON [c].[TeacherId] = [t].[Id]
WHERE [c].[ClassId] = @__classId_0
2025-05-13 20:35:38.293 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.SubjectWithTeachersDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-13 20:35:38.297 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetSubjectsForClass (backend) in 1205.33ms
2025-05-13 20:35:38.298 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetSubjectsForClass (backend)'
2025-05-13 20:35:38.300 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/class/4/subjects - 200 null application/json; charset=utf-8 1428.9877ms
2025-05-13 20:35:38.578 +02:00 [INF] Executed DbCommand (68ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-13 20:35:38.597 +02:00 [INF] Executed DbCommand (87ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[HomeroomTeacherId], [t].[Name], [t].[UpdatedAt], [t0].[Id], [t0].[ClassId], [t0].[CreatedAt], [t0].[DayOfWeek], [t0].[StartTime], [t0].[SubjectId], [t0].[TeacherId], [t0].[UpdatedAt], [t0].[Id0], [t0].[CreatedAt0], [t0].[Name], [t0].[UpdatedAt0], [t0].[Id1], [t0].[FirstName], [t0].[LastName], [t0].[UserId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[CreatedAt], [c].[HomeroomTeacherId], [c].[Name], [c].[UpdatedAt]
    FROM [Classes] AS [c]
    WHERE [c].[Id] = @__classId_0
) AS [t]
LEFT JOIN (
    SELECT [s].[Id], [s].[ClassId], [s].[CreatedAt], [s].[DayOfWeek], [s].[StartTime], [s].[SubjectId], [s].[TeacherId], [s].[UpdatedAt], [s0].[Id] AS [Id0], [s0].[CreatedAt] AS [CreatedAt0], [s0].[Name], [s0].[UpdatedAt] AS [UpdatedAt0], [t1].[Id] AS [Id1], [t1].[FirstName], [t1].[LastName], [t1].[UserId]
    FROM [Schedules] AS [s]
    INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
    INNER JOIN [Teachers] AS [t1] ON [s].[TeacherId] = [t1].[Id]
) AS [t0] ON [t].[Id] = [t0].[ClassId]
ORDER BY [t].[Id], [t0].[Id], [t0].[Id0]
2025-05-13 20:35:38.612 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.ScheduleForClassDto'.
2025-05-13 20:35:38.618 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetScheduleForClass (backend) in 1527.6071ms
2025-05-13 20:35:38.618 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetScheduleForClass (backend)'
2025-05-13 20:35:38.619 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/class/4 - 200 null application/json; charset=utf-8 1747.3005ms
2025-05-13 20:35:38.668 +02:00 [INF] Executed DbCommand (70ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-13 20:35:38.757 +02:00 [INF] Executed DbCommand (80ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[FirstName], [a].[LastName], [a].[UserId]
FROM [Admins] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-05-13 20:35:38.758 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-13 20:35:38.765 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 1674.5479ms
2025-05-13 20:35:38.765 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-13 20:35:38.766 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 1893.9948ms
2025-05-13 20:35:53.786 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/classes-with-schedule - null null
2025-05-13 20:35:53.791 +02:00 [INF] CORS policy execution successful.
2025-05-13 20:35:53.791 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/classes-with-schedule - 204 null null 5.3927ms
2025-05-13 20:35:53.793 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/classes-with-schedule - null null
2025-05-13 20:35:53.794 +02:00 [INF] CORS policy execution successful.
2025-05-13 20:35:53.797 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetClassesWithSchedule (backend)'
2025-05-13 20:35:53.802 +02:00 [INF] Route matched with {action = "GetClassesWithSchedule", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClassesWithSchedule() on controller backend.Controllers.ScheduleController (backend).
2025-05-13 20:35:53.946 +02:00 [INF] Executed DbCommand (86ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], (
    SELECT COUNT(*)
    FROM [Schedules] AS [s]
    WHERE [c].[Id] = [s].[ClassId]) AS [EntryCount]
FROM [Classes] AS [c]
ORDER BY [c].[Name]
2025-05-13 20:35:53.947 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.ClassWithScheduleDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-13 20:35:53.948 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetClassesWithSchedule (backend) in 146.4327ms
2025-05-13 20:35:53.948 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetClassesWithSchedule (backend)'
2025-05-13 20:35:53.948 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/classes-with-schedule - 200 null application/json; charset=utf-8 155.7527ms
2025-05-13 20:35:54.853 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4 - null null
2025-05-13 20:35:54.854 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4/subjects - null null
2025-05-13 20:35:54.854 +02:00 [INF] CORS policy execution successful.
2025-05-13 20:35:54.854 +02:00 [INF] CORS policy execution successful.
2025-05-13 20:35:54.854 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4 - 204 null null 0.9117ms
2025-05-13 20:35:54.854 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4/subjects - 204 null null 0.5842ms
2025-05-13 20:35:54.858 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/class/4 - null null
2025-05-13 20:35:54.858 +02:00 [INF] CORS policy execution successful.
2025-05-13 20:35:54.859 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/class/4/subjects - null null
2025-05-13 20:35:54.861 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetScheduleForClass (backend)'
2025-05-13 20:35:54.861 +02:00 [INF] Route matched with {action = "GetScheduleForClass", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetScheduleForClass(Int32) on controller backend.Controllers.ScheduleController (backend).
2025-05-13 20:35:54.862 +02:00 [INF] CORS policy execution successful.
2025-05-13 20:35:54.862 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetSubjectsForClass (backend)'
2025-05-13 20:35:54.862 +02:00 [INF] Route matched with {action = "GetSubjectsForClass", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubjectsForClass(Int32) on controller backend.Controllers.ScheduleController (backend).
2025-05-13 20:35:54.969 +02:00 [INF] Executed DbCommand (102ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[CreatedAt], [s].[Name], [s].[UpdatedAt], [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [ClassSubjects] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Teachers] AS [t] ON [c].[TeacherId] = [t].[Id]
WHERE [c].[ClassId] = @__classId_0
2025-05-13 20:35:54.971 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.SubjectWithTeachersDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-13 20:35:54.971 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetSubjectsForClass (backend) in 108.5487ms
2025-05-13 20:35:54.971 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetSubjectsForClass (backend)'
2025-05-13 20:35:54.971 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/class/4/subjects - 200 null application/json; charset=utf-8 112.4692ms
2025-05-13 20:35:54.973 +02:00 [INF] Executed DbCommand (107ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[HomeroomTeacherId], [t].[Name], [t].[UpdatedAt], [t0].[Id], [t0].[ClassId], [t0].[CreatedAt], [t0].[DayOfWeek], [t0].[StartTime], [t0].[SubjectId], [t0].[TeacherId], [t0].[UpdatedAt], [t0].[Id0], [t0].[CreatedAt0], [t0].[Name], [t0].[UpdatedAt0], [t0].[Id1], [t0].[FirstName], [t0].[LastName], [t0].[UserId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[CreatedAt], [c].[HomeroomTeacherId], [c].[Name], [c].[UpdatedAt]
    FROM [Classes] AS [c]
    WHERE [c].[Id] = @__classId_0
) AS [t]
LEFT JOIN (
    SELECT [s].[Id], [s].[ClassId], [s].[CreatedAt], [s].[DayOfWeek], [s].[StartTime], [s].[SubjectId], [s].[TeacherId], [s].[UpdatedAt], [s0].[Id] AS [Id0], [s0].[CreatedAt] AS [CreatedAt0], [s0].[Name], [s0].[UpdatedAt] AS [UpdatedAt0], [t1].[Id] AS [Id1], [t1].[FirstName], [t1].[LastName], [t1].[UserId]
    FROM [Schedules] AS [s]
    INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
    INNER JOIN [Teachers] AS [t1] ON [s].[TeacherId] = [t1].[Id]
) AS [t0] ON [t].[Id] = [t0].[ClassId]
ORDER BY [t].[Id], [t0].[Id], [t0].[Id0]
2025-05-13 20:35:54.974 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.ScheduleForClassDto'.
2025-05-13 20:35:54.974 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetScheduleForClass (backend) in 113.153ms
2025-05-13 20:35:54.974 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetScheduleForClass (backend)'
2025-05-13 20:35:54.975 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/class/4 - 200 null application/json; charset=utf-8 117.5397ms
2025-05-13 20:35:57.075 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/subject/paged?pageNumber=1&pageSize=10&sortColumn=name&sortDirection=asc - null null
2025-05-13 20:35:57.076 +02:00 [INF] CORS policy execution successful.
2025-05-13 20:35:57.076 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/subject/paged?pageNumber=1&pageSize=10&sortColumn=name&sortDirection=asc - 204 null null 0.7778ms
2025-05-13 20:35:57.078 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/subject/paged?pageNumber=1&pageSize=10&sortColumn=name&sortDirection=asc - null null
2025-05-13 20:35:57.079 +02:00 [INF] CORS policy execution successful.
2025-05-13 20:35:57.086 +02:00 [INF] Executing endpoint 'backend.Controllers.SubjectController.GetSubjectsPaged (backend)'
2025-05-13 20:35:57.092 +02:00 [INF] Route matched with {action = "GetSubjectsPaged", controller = "Subject"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubjectsPaged(backend.Models.PagedRequest) on controller backend.Controllers.SubjectController (backend).
2025-05-13 20:35:57.199 +02:00 [INF] Executed DbCommand (86ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Subjects] AS [s]
2025-05-13 20:35:57.320 +02:00 [INF] Executed DbCommand (103ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name], [t].[CreatedAt], [t].[UpdatedAt], [t0].[ClassName], [t0].[TeacherFullName], [t0].[Id], [t0].[Id0], [t0].[Id1]
FROM (
    SELECT [s].[Id], [s].[Name], [s].[CreatedAt], [s].[UpdatedAt]
    FROM [Subjects] AS [s]
    ORDER BY [s].[Name]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [c0].[Name] AS [ClassName], [t1].[FirstName] + N' ' + [t1].[LastName] AS [TeacherFullName], [c].[Id], [c0].[Id] AS [Id0], [t1].[Id] AS [Id1], [c].[SubjectId]
    FROM [ClassSubjects] AS [c]
    INNER JOIN [Classes] AS [c0] ON [c].[ClassId] = [c0].[Id]
    INNER JOIN [Teachers] AS [t1] ON [c].[TeacherId] = [t1].[Id]
) AS [t0] ON [t].[Id] = [t0].[SubjectId]
ORDER BY [t].[Name], [t].[Id], [t0].[Id], [t0].[Id0]
2025-05-13 20:35:57.327 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.PagedSubjects'.
2025-05-13 20:35:57.336 +02:00 [INF] Executed action backend.Controllers.SubjectController.GetSubjectsPaged (backend) in 243.7749ms
2025-05-13 20:35:57.336 +02:00 [INF] Executed endpoint 'backend.Controllers.SubjectController.GetSubjectsPaged (backend)'
2025-05-13 20:35:57.336 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/subject/paged?pageNumber=1&pageSize=10&sortColumn=name&sortDirection=asc - 200 null application/json; charset=utf-8 258.2897ms
2025-05-13 20:35:58.155 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/class/all - null null
2025-05-13 20:35:58.155 +02:00 [INF] CORS policy execution successful.
2025-05-13 20:35:58.156 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/class/all - 204 null null 0.5661ms
2025-05-13 20:35:58.156 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/teacher/all - null null
2025-05-13 20:35:58.156 +02:00 [INF] CORS policy execution successful.
2025-05-13 20:35:58.157 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/teacher/all - 204 null null 0.437ms
2025-05-13 20:35:58.157 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/class/all - null null
2025-05-13 20:35:58.158 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/teacher/all - null null
2025-05-13 20:35:58.158 +02:00 [INF] CORS policy execution successful.
2025-05-13 20:35:58.159 +02:00 [INF] CORS policy execution successful.
2025-05-13 20:35:58.160 +02:00 [INF] Executing endpoint 'backend.Controllers.TeacherController.GetTeachers (backend)'
2025-05-13 20:35:58.160 +02:00 [INF] Executing endpoint 'backend.Controllers.ClassController.GetClasses (backend)'
2025-05-13 20:35:58.179 +02:00 [INF] Route matched with {action = "GetTeachers", controller = "Teacher"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTeachers() on controller backend.Controllers.TeacherController (backend).
2025-05-13 20:35:58.188 +02:00 [INF] Route matched with {action = "GetClasses", controller = "Class"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClasses() on controller backend.Controllers.ClassController (backend).
2025-05-13 20:35:58.270 +02:00 [INF] Executed DbCommand (75ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
2025-05-13 20:35:58.272 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.TeacherDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-13 20:35:58.272 +02:00 [INF] Executed action backend.Controllers.TeacherController.GetTeachers (backend) in 91.2876ms
2025-05-13 20:35:58.272 +02:00 [INF] Executed endpoint 'backend.Controllers.TeacherController.GetTeachers (backend)'
2025-05-13 20:35:58.272 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/teacher/all - 200 null application/json; charset=utf-8 114.5657ms
2025-05-13 20:35:58.283 +02:00 [INF] Executed DbCommand (89ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Classes] AS [c]
2025-05-13 20:35:58.284 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.ClassDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-13 20:35:58.286 +02:00 [INF] Executed action backend.Controllers.ClassController.GetClasses (backend) in 97.7613ms
2025-05-13 20:35:58.286 +02:00 [INF] Executed endpoint 'backend.Controllers.ClassController.GetClasses (backend)'
2025-05-13 20:35:58.286 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/class/all - 200 null application/json; charset=utf-8 128.4427ms
2025-05-13 20:40:24.336 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-13 20:40:24.338 +02:00 [INF] CORS policy execution successful.
2025-05-13 20:40:24.340 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 4.7604ms
2025-05-13 20:40:24.341 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-13 20:40:24.357 +02:00 [INF] CORS policy execution successful.
2025-05-13 20:40:24.367 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-13 20:40:24.386 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-13 20:40:24.420 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/teacher/all - null null
2025-05-13 20:40:24.420 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/class/all - null null
2025-05-13 20:40:24.420 +02:00 [INF] CORS policy execution successful.
2025-05-13 20:40:24.421 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/teacher/all - 204 null null 0.5681ms
2025-05-13 20:40:24.421 +02:00 [INF] CORS policy execution successful.
2025-05-13 20:40:24.422 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/teacher/all - null null
2025-05-13 20:40:24.423 +02:00 [INF] CORS policy execution successful.
2025-05-13 20:40:24.423 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/class/all - 204 null null 2.254ms
2025-05-13 20:40:24.426 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/class/all - null null
2025-05-13 20:40:24.428 +02:00 [INF] CORS policy execution successful.
2025-05-13 20:40:24.429 +02:00 [INF] Executing endpoint 'backend.Controllers.ClassController.GetClasses (backend)'
2025-05-13 20:40:24.430 +02:00 [INF] Executing endpoint 'backend.Controllers.TeacherController.GetTeachers (backend)'
2025-05-13 20:40:24.434 +02:00 [INF] Route matched with {action = "GetClasses", controller = "Class"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClasses() on controller backend.Controllers.ClassController (backend).
2025-05-13 20:40:24.449 +02:00 [INF] Route matched with {action = "GetTeachers", controller = "Teacher"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTeachers() on controller backend.Controllers.TeacherController (backend).
2025-05-13 20:40:24.497 +02:00 [INF] Executed DbCommand (82ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-13 20:40:24.517 +02:00 [INF] Executed DbCommand (68ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Classes] AS [c]
2025-05-13 20:40:24.517 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.ClassDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-13 20:40:24.520 +02:00 [INF] Executed action backend.Controllers.ClassController.GetClasses (backend) in 85.5481ms
2025-05-13 20:40:24.520 +02:00 [INF] Executed endpoint 'backend.Controllers.ClassController.GetClasses (backend)'
2025-05-13 20:40:24.520 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/class/all - 200 null application/json; charset=utf-8 93.7903ms
2025-05-13 20:40:24.571 +02:00 [INF] Executed DbCommand (70ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-13 20:40:24.643 +02:00 [INF] Executed DbCommand (69ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[FirstName], [a].[LastName], [a].[UserId]
FROM [Admins] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-05-13 20:40:24.643 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-13 20:40:24.644 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 258.0665ms
2025-05-13 20:40:24.644 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-13 20:40:24.645 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 303.4169ms
2025-05-13 20:40:24.968 +02:00 [INF] Executed DbCommand (82ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
2025-05-13 20:40:24.968 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.TeacherDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-13 20:40:24.970 +02:00 [INF] Executed action backend.Controllers.TeacherController.GetTeachers (backend) in 521.2847ms
2025-05-13 20:40:24.970 +02:00 [INF] Executed endpoint 'backend.Controllers.TeacherController.GetTeachers (backend)'
2025-05-13 20:40:24.970 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/teacher/all - 200 null application/json; charset=utf-8 547.9808ms
2025-05-13 20:40:43.886 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/classes-with-schedule - null null
2025-05-13 20:40:43.888 +02:00 [INF] CORS policy execution successful.
2025-05-13 20:40:43.889 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/classes-with-schedule - 204 null null 2.924ms
2025-05-13 20:40:43.890 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/classes-with-schedule - null null
2025-05-13 20:40:43.893 +02:00 [INF] CORS policy execution successful.
2025-05-13 20:40:43.894 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetClassesWithSchedule (backend)'
2025-05-13 20:40:43.900 +02:00 [INF] Route matched with {action = "GetClassesWithSchedule", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClassesWithSchedule() on controller backend.Controllers.ScheduleController (backend).
2025-05-13 20:40:44.003 +02:00 [INF] Executed DbCommand (99ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], (
    SELECT COUNT(*)
    FROM [Schedules] AS [s]
    WHERE [c].[Id] = [s].[ClassId]) AS [EntryCount]
FROM [Classes] AS [c]
ORDER BY [c].[Name]
2025-05-13 20:40:44.004 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.ClassWithScheduleDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-13 20:40:44.006 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetClassesWithSchedule (backend) in 106.4181ms
2025-05-13 20:40:44.006 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetClassesWithSchedule (backend)'
2025-05-13 20:40:44.006 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/classes-with-schedule - 200 null application/json; charset=utf-8 115.8475ms
2025-05-13 20:40:45.028 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4 - null null
2025-05-13 20:40:45.028 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4/subjects - null null
2025-05-13 20:40:45.028 +02:00 [INF] CORS policy execution successful.
2025-05-13 20:40:45.028 +02:00 [INF] CORS policy execution successful.
2025-05-13 20:40:45.029 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4/subjects - 204 null null 0.7385ms
2025-05-13 20:40:45.029 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4 - 204 null null 1.6999ms
2025-05-13 20:40:45.032 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/class/4/subjects - null null
2025-05-13 20:40:45.033 +02:00 [INF] CORS policy execution successful.
2025-05-13 20:40:45.033 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/class/4 - null null
2025-05-13 20:40:45.034 +02:00 [INF] CORS policy execution successful.
2025-05-13 20:40:45.034 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetSubjectsForClass (backend)'
2025-05-13 20:40:45.034 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetScheduleForClass (backend)'
2025-05-13 20:40:45.039 +02:00 [INF] Route matched with {action = "GetScheduleForClass", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetScheduleForClass(Int32) on controller backend.Controllers.ScheduleController (backend).
2025-05-13 20:40:45.039 +02:00 [INF] Route matched with {action = "GetSubjectsForClass", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubjectsForClass(Int32) on controller backend.Controllers.ScheduleController (backend).
2025-05-13 20:40:45.159 +02:00 [INF] Executed DbCommand (119ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[CreatedAt], [s].[Name], [s].[UpdatedAt], [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [ClassSubjects] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Teachers] AS [t] ON [c].[TeacherId] = [t].[Id]
WHERE [c].[ClassId] = @__classId_0
2025-05-13 20:40:45.159 +02:00 [INF] Executed DbCommand (119ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[HomeroomTeacherId], [t].[Name], [t].[UpdatedAt], [t0].[Id], [t0].[ClassId], [t0].[CreatedAt], [t0].[DayOfWeek], [t0].[StartTime], [t0].[SubjectId], [t0].[TeacherId], [t0].[UpdatedAt], [t0].[Id0], [t0].[CreatedAt0], [t0].[Name], [t0].[UpdatedAt0], [t0].[Id1], [t0].[FirstName], [t0].[LastName], [t0].[UserId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[CreatedAt], [c].[HomeroomTeacherId], [c].[Name], [c].[UpdatedAt]
    FROM [Classes] AS [c]
    WHERE [c].[Id] = @__classId_0
) AS [t]
LEFT JOIN (
    SELECT [s].[Id], [s].[ClassId], [s].[CreatedAt], [s].[DayOfWeek], [s].[StartTime], [s].[SubjectId], [s].[TeacherId], [s].[UpdatedAt], [s0].[Id] AS [Id0], [s0].[CreatedAt] AS [CreatedAt0], [s0].[Name], [s0].[UpdatedAt] AS [UpdatedAt0], [t1].[Id] AS [Id1], [t1].[FirstName], [t1].[LastName], [t1].[UserId]
    FROM [Schedules] AS [s]
    INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
    INNER JOIN [Teachers] AS [t1] ON [s].[TeacherId] = [t1].[Id]
) AS [t0] ON [t].[Id] = [t0].[ClassId]
ORDER BY [t].[Id], [t0].[Id], [t0].[Id0]
2025-05-13 20:40:45.160 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.ScheduleForClassDto'.
2025-05-13 20:40:45.161 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.SubjectWithTeachersDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-13 20:40:45.161 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetSubjectsForClass (backend) in 122.1108ms
2025-05-13 20:40:45.161 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetSubjectsForClass (backend)'
2025-05-13 20:40:45.161 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/class/4/subjects - 200 null application/json; charset=utf-8 128.9893ms
2025-05-13 20:40:45.162 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetScheduleForClass (backend) in 123.5473ms
2025-05-13 20:40:45.162 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetScheduleForClass (backend)'
2025-05-13 20:40:45.163 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/class/4 - 200 null application/json; charset=utf-8 129.491ms
2025-05-13 20:49:29.459 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-13 20:49:29.480 +02:00 [INF] CORS policy execution successful.
2025-05-13 20:49:29.486 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 25.8829ms
2025-05-13 20:49:29.494 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-13 20:49:29.499 +02:00 [INF] CORS policy execution successful.
2025-05-13 20:49:29.527 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4 - null null
2025-05-13 20:49:29.527 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4/subjects - null null
2025-05-13 20:49:29.528 +02:00 [INF] CORS policy execution successful.
2025-05-13 20:49:29.528 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4/subjects - 204 null null 1.3457ms
2025-05-13 20:49:29.528 +02:00 [INF] CORS policy execution successful.
2025-05-13 20:49:29.528 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4 - 204 null null 1.5257ms
2025-05-13 20:49:29.530 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/class/4 - null null
2025-05-13 20:49:29.531 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/class/4/subjects - null null
2025-05-13 20:49:29.531 +02:00 [INF] CORS policy execution successful.
2025-05-13 20:49:29.532 +02:00 [INF] CORS policy execution successful.
2025-05-13 20:49:29.534 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetScheduleForClass (backend)'
2025-05-13 20:49:29.534 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-13 20:49:29.534 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetSubjectsForClass (backend)'
2025-05-13 20:49:29.540 +02:00 [INF] Route matched with {action = "GetSubjectsForClass", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubjectsForClass(Int32) on controller backend.Controllers.ScheduleController (backend).
2025-05-13 20:49:29.540 +02:00 [INF] Route matched with {action = "GetScheduleForClass", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetScheduleForClass(Int32) on controller backend.Controllers.ScheduleController (backend).
2025-05-13 20:49:29.540 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-13 20:49:30.122 +02:00 [INF] Executed DbCommand (75ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[CreatedAt], [s].[Name], [s].[UpdatedAt], [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [ClassSubjects] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Teachers] AS [t] ON [c].[TeacherId] = [t].[Id]
WHERE [c].[ClassId] = @__classId_0
2025-05-13 20:49:30.124 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.SubjectWithTeachersDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-13 20:49:30.125 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetSubjectsForClass (backend) in 585.1237ms
2025-05-13 20:49:30.125 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetSubjectsForClass (backend)'
2025-05-13 20:49:30.126 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/class/4/subjects - 200 null application/json; charset=utf-8 594.8827ms
2025-05-13 20:49:30.522 +02:00 [INF] Executed DbCommand (77ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-13 20:49:30.530 +02:00 [INF] Executed DbCommand (84ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[HomeroomTeacherId], [t].[Name], [t].[UpdatedAt], [t0].[Id], [t0].[ClassId], [t0].[CreatedAt], [t0].[DayOfWeek], [t0].[StartTime], [t0].[SubjectId], [t0].[TeacherId], [t0].[UpdatedAt], [t0].[Id0], [t0].[CreatedAt0], [t0].[Name], [t0].[UpdatedAt0], [t0].[Id1], [t0].[FirstName], [t0].[LastName], [t0].[UserId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[CreatedAt], [c].[HomeroomTeacherId], [c].[Name], [c].[UpdatedAt]
    FROM [Classes] AS [c]
    WHERE [c].[Id] = @__classId_0
) AS [t]
LEFT JOIN (
    SELECT [s].[Id], [s].[ClassId], [s].[CreatedAt], [s].[DayOfWeek], [s].[StartTime], [s].[SubjectId], [s].[TeacherId], [s].[UpdatedAt], [s0].[Id] AS [Id0], [s0].[CreatedAt] AS [CreatedAt0], [s0].[Name], [s0].[UpdatedAt] AS [UpdatedAt0], [t1].[Id] AS [Id1], [t1].[FirstName], [t1].[LastName], [t1].[UserId]
    FROM [Schedules] AS [s]
    INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
    INNER JOIN [Teachers] AS [t1] ON [s].[TeacherId] = [t1].[Id]
) AS [t0] ON [t].[Id] = [t0].[ClassId]
ORDER BY [t].[Id], [t0].[Id], [t0].[Id0]
2025-05-13 20:49:30.530 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.ScheduleForClassDto'.
2025-05-13 20:49:30.530 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetScheduleForClass (backend) in 989.8242ms
2025-05-13 20:49:30.530 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetScheduleForClass (backend)'
2025-05-13 20:49:30.530 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/class/4 - 200 null application/json; charset=utf-8 999.8479ms
2025-05-13 20:49:30.591 +02:00 [INF] Executed DbCommand (68ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-13 20:49:30.672 +02:00 [INF] Executed DbCommand (78ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[FirstName], [a].[LastName], [a].[UserId]
FROM [Admins] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-05-13 20:49:30.672 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-13 20:49:30.672 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 1131.328ms
2025-05-13 20:49:30.672 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-13 20:49:30.672 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 1178.4771ms
2025-05-13 20:49:41.264 +02:00 [INF] Application is shutting down...
2025-05-13 20:55:11.920 +02:00 [INF] Application is starting
2025-05-13 20:55:11.996 +02:00 [INF] User profile is available. Using '/Users/pawelstaniul/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-05-13 20:55:12.038 +02:00 [WRN] The WebRootPath was not found: /Users/pawelstaniul/Desktop/Programy/school-logbook/backend/wwwroot. Static files may be unavailable.
2025-05-13 20:55:12.058 +02:00 [INF] Now listening on: http://localhost:5234
2025-05-13 20:55:12.059 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-13 20:55:12.060 +02:00 [INF] Hosting environment: Development
2025-05-13 20:55:12.060 +02:00 [INF] Content root path: /Users/pawelstaniul/Desktop/Programy/school-logbook/backend
2025-05-13 20:55:12.594 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/swagger/index.html - null null
2025-05-13 20:55:12.630 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/swagger/index.html - 200 null text/html;charset=utf-8 36.1512ms
2025-05-13 20:55:12.968 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/swagger/v1/swagger.json - null null
2025-05-13 20:55:13.023 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 54.4133ms
2025-05-13 20:59:02.838 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/class/all - null null
2025-05-13 20:59:02.838 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/teacher/all - null null
2025-05-13 20:59:02.845 +02:00 [WRN] Failed to determine the https port for redirect.
2025-05-13 20:59:02.921 +02:00 [INF] CORS policy execution successful.
2025-05-13 20:59:02.921 +02:00 [INF] CORS policy execution successful.
2025-05-13 20:59:02.923 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/teacher/all - 204 null null 84.6024ms
2025-05-13 20:59:03.070 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/teacher/all - null null
2025-05-13 20:59:03.070 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/class/all - 204 null null 232.1882ms
2025-05-13 20:59:03.072 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/class/all - null null
2025-05-13 20:59:03.074 +02:00 [INF] CORS policy execution successful.
2025-05-13 20:59:03.074 +02:00 [INF] CORS policy execution successful.
2025-05-13 20:59:03.168 +02:00 [INF] Executing endpoint 'backend.Controllers.TeacherController.GetTeachers (backend)'
2025-05-13 20:59:03.168 +02:00 [INF] Executing endpoint 'backend.Controllers.ClassController.GetClasses (backend)'
2025-05-13 20:59:03.185 +02:00 [INF] Route matched with {action = "GetClasses", controller = "Class"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClasses() on controller backend.Controllers.ClassController (backend).
2025-05-13 20:59:03.185 +02:00 [INF] Route matched with {action = "GetTeachers", controller = "Teacher"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTeachers() on controller backend.Controllers.TeacherController (backend).
2025-05-13 20:59:04.526 +02:00 [INF] Executed DbCommand (107ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Classes] AS [c]
2025-05-13 20:59:04.548 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.ClassDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-13 20:59:04.556 +02:00 [INF] Executed action backend.Controllers.ClassController.GetClasses (backend) in 1370.228ms
2025-05-13 20:59:04.557 +02:00 [INF] Executed endpoint 'backend.Controllers.ClassController.GetClasses (backend)'
2025-05-13 20:59:04.560 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/class/all - 200 null application/json; charset=utf-8 1488.4562ms
2025-05-13 20:59:04.867 +02:00 [INF] Executed DbCommand (68ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
2025-05-13 20:59:04.868 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.TeacherDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-13 20:59:04.869 +02:00 [INF] Executed action backend.Controllers.TeacherController.GetTeachers (backend) in 1684.2431ms
2025-05-13 20:59:04.869 +02:00 [INF] Executed endpoint 'backend.Controllers.TeacherController.GetTeachers (backend)'
2025-05-13 20:59:04.869 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/teacher/all - 200 null application/json; charset=utf-8 1799.3637ms
2025-05-13 20:59:05.611 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/subject/paged?pageNumber=1&pageSize=10&sortColumn=name&sortDirection=asc - null null
2025-05-13 20:59:05.614 +02:00 [INF] CORS policy execution successful.
2025-05-13 20:59:05.615 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/subject/paged?pageNumber=1&pageSize=10&sortColumn=name&sortDirection=asc - 204 null null 3.9292ms
2025-05-13 20:59:05.616 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/subject/paged?pageNumber=1&pageSize=10&sortColumn=name&sortDirection=asc - null null
2025-05-13 20:59:05.617 +02:00 [INF] CORS policy execution successful.
2025-05-13 20:59:05.621 +02:00 [INF] Executing endpoint 'backend.Controllers.SubjectController.GetSubjectsPaged (backend)'
2025-05-13 20:59:05.632 +02:00 [INF] Route matched with {action = "GetSubjectsPaged", controller = "Subject"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubjectsPaged(backend.Models.PagedRequest) on controller backend.Controllers.SubjectController (backend).
2025-05-13 20:59:05.797 +02:00 [INF] Executed DbCommand (83ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Subjects] AS [s]
2025-05-13 20:59:05.965 +02:00 [INF] Executed DbCommand (108ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name], [t].[CreatedAt], [t].[UpdatedAt], [t0].[ClassName], [t0].[TeacherFullName], [t0].[Id], [t0].[Id0], [t0].[Id1]
FROM (
    SELECT [s].[Id], [s].[Name], [s].[CreatedAt], [s].[UpdatedAt]
    FROM [Subjects] AS [s]
    ORDER BY [s].[Name]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [c0].[Name] AS [ClassName], [t1].[FirstName] + N' ' + [t1].[LastName] AS [TeacherFullName], [c].[Id], [c0].[Id] AS [Id0], [t1].[Id] AS [Id1], [c].[SubjectId]
    FROM [ClassSubjects] AS [c]
    INNER JOIN [Classes] AS [c0] ON [c].[ClassId] = [c0].[Id]
    INNER JOIN [Teachers] AS [t1] ON [c].[TeacherId] = [t1].[Id]
) AS [t0] ON [t].[Id] = [t0].[SubjectId]
ORDER BY [t].[Name], [t].[Id], [t0].[Id], [t0].[Id0]
2025-05-13 20:59:05.971 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.PagedSubjects'.
2025-05-13 20:59:05.974 +02:00 [INF] Executed action backend.Controllers.SubjectController.GetSubjectsPaged (backend) in 341.938ms
2025-05-13 20:59:05.974 +02:00 [INF] Executed endpoint 'backend.Controllers.SubjectController.GetSubjectsPaged (backend)'
2025-05-13 20:59:05.974 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/subject/paged?pageNumber=1&pageSize=10&sortColumn=name&sortDirection=asc - 200 null application/json; charset=utf-8 358.3524ms
2025-05-13 20:59:08.967 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/class/all - null null
2025-05-13 20:59:08.969 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/teacher/all - null null
2025-05-13 20:59:08.969 +02:00 [INF] CORS policy execution successful.
2025-05-13 20:59:08.969 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/teacher/all - 204 null null 0.3968ms
2025-05-13 20:59:08.994 +02:00 [INF] CORS policy execution successful.
2025-05-13 20:59:08.995 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/class/all - 204 null null 27.3604ms
2025-05-13 20:59:08.994 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/teacher/all - null null
2025-05-13 20:59:08.998 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/class/all - null null
2025-05-13 20:59:08.999 +02:00 [INF] CORS policy execution successful.
2025-05-13 20:59:08.999 +02:00 [INF] CORS policy execution successful.
2025-05-13 20:59:08.999 +02:00 [INF] Executing endpoint 'backend.Controllers.TeacherController.GetTeachers (backend)'
2025-05-13 20:59:08.999 +02:00 [INF] Executing endpoint 'backend.Controllers.ClassController.GetClasses (backend)'
2025-05-13 20:59:09.000 +02:00 [INF] Route matched with {action = "GetClasses", controller = "Class"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClasses() on controller backend.Controllers.ClassController (backend).
2025-05-13 20:59:09.000 +02:00 [INF] Route matched with {action = "GetTeachers", controller = "Teacher"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTeachers() on controller backend.Controllers.TeacherController (backend).
2025-05-13 20:59:09.099 +02:00 [INF] Executed DbCommand (94ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Classes] AS [c]
2025-05-13 20:59:09.099 +02:00 [INF] Executed DbCommand (94ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
2025-05-13 20:59:09.100 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.ClassDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-13 20:59:09.100 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.TeacherDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-13 20:59:09.100 +02:00 [INF] Executed action backend.Controllers.TeacherController.GetTeachers (backend) in 100.3382ms
2025-05-13 20:59:09.100 +02:00 [INF] Executed action backend.Controllers.ClassController.GetClasses (backend) in 100.4137ms
2025-05-13 20:59:09.100 +02:00 [INF] Executed endpoint 'backend.Controllers.ClassController.GetClasses (backend)'
2025-05-13 20:59:09.100 +02:00 [INF] Executed endpoint 'backend.Controllers.TeacherController.GetTeachers (backend)'
2025-05-13 20:59:09.101 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/teacher/all - 200 null application/json; charset=utf-8 106.432ms
2025-05-13 20:59:09.101 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/class/all - 200 null application/json; charset=utf-8 102.4482ms
2025-05-13 20:59:19.771 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/subject/add - null null
2025-05-13 20:59:19.773 +02:00 [INF] CORS policy execution successful.
2025-05-13 20:59:19.774 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/subject/add - 204 null null 3.2661ms
2025-05-13 20:59:19.817 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5234/api/subject/add - application/json 68
2025-05-13 20:59:19.841 +02:00 [INF] CORS policy execution successful.
2025-05-13 20:59:19.850 +02:00 [INF] Executing endpoint 'backend.Controllers.SubjectController.AddSubjectWithAssignments (backend)'
2025-05-13 20:59:19.853 +02:00 [INF] Route matched with {action = "AddSubjectWithAssignments", controller = "Subject"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddSubjectWithAssignments(backend.DTOs.SubjectDto) on controller backend.Controllers.SubjectController (backend).
2025-05-13 20:59:20.248 +02:00 [INF] Executed DbCommand (95ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Subjects] ([CreatedAt], [Name], [UpdatedAt])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2025-05-13 20:59:20.467 +02:00 [INF] Executed DbCommand (76ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ClassSubjects] ([ClassId], [SubjectId], [TeacherId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2025-05-13 20:59:20.556 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-13 20:59:20.559 +02:00 [INF] Executed action backend.Controllers.SubjectController.AddSubjectWithAssignments (backend) in 706.0007ms
2025-05-13 20:59:20.560 +02:00 [INF] Executed endpoint 'backend.Controllers.SubjectController.AddSubjectWithAssignments (backend)'
2025-05-13 20:59:20.560 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5234/api/subject/add - 200 null application/json; charset=utf-8 742.9848ms
2025-05-13 20:59:20.585 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/subject/paged?pageNumber=1&pageSize=10&sortColumn=name&sortDirection=asc - null null
2025-05-13 20:59:20.585 +02:00 [INF] CORS policy execution successful.
2025-05-13 20:59:20.585 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/subject/paged?pageNumber=1&pageSize=10&sortColumn=name&sortDirection=asc - 204 null null 0.5177ms
2025-05-13 20:59:20.588 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/subject/paged?pageNumber=1&pageSize=10&sortColumn=name&sortDirection=asc - null null
2025-05-13 20:59:20.589 +02:00 [INF] CORS policy execution successful.
2025-05-13 20:59:20.590 +02:00 [INF] Executing endpoint 'backend.Controllers.SubjectController.GetSubjectsPaged (backend)'
2025-05-13 20:59:20.590 +02:00 [INF] Route matched with {action = "GetSubjectsPaged", controller = "Subject"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubjectsPaged(backend.Models.PagedRequest) on controller backend.Controllers.SubjectController (backend).
2025-05-13 20:59:20.668 +02:00 [INF] Executed DbCommand (71ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Subjects] AS [s]
2025-05-13 20:59:20.788 +02:00 [INF] Executed DbCommand (119ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name], [t].[CreatedAt], [t].[UpdatedAt], [t0].[ClassName], [t0].[TeacherFullName], [t0].[Id], [t0].[Id0], [t0].[Id1]
FROM (
    SELECT [s].[Id], [s].[Name], [s].[CreatedAt], [s].[UpdatedAt]
    FROM [Subjects] AS [s]
    ORDER BY [s].[Name]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [c0].[Name] AS [ClassName], [t1].[FirstName] + N' ' + [t1].[LastName] AS [TeacherFullName], [c].[Id], [c0].[Id] AS [Id0], [t1].[Id] AS [Id1], [c].[SubjectId]
    FROM [ClassSubjects] AS [c]
    INNER JOIN [Classes] AS [c0] ON [c].[ClassId] = [c0].[Id]
    INNER JOIN [Teachers] AS [t1] ON [c].[TeacherId] = [t1].[Id]
) AS [t0] ON [t].[Id] = [t0].[SubjectId]
ORDER BY [t].[Name], [t].[Id], [t0].[Id], [t0].[Id0]
2025-05-13 20:59:20.791 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.PagedSubjects'.
2025-05-13 20:59:20.792 +02:00 [INF] Executed action backend.Controllers.SubjectController.GetSubjectsPaged (backend) in 202.1136ms
2025-05-13 20:59:20.793 +02:00 [INF] Executed endpoint 'backend.Controllers.SubjectController.GetSubjectsPaged (backend)'
2025-05-13 20:59:20.793 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/subject/paged?pageNumber=1&pageSize=10&sortColumn=name&sortDirection=asc - 200 null application/json; charset=utf-8 204.4325ms
2025-05-13 20:59:32.441 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/class/all - null null
2025-05-13 20:59:32.441 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/teacher/all - null null
2025-05-13 20:59:32.442 +02:00 [INF] CORS policy execution successful.
2025-05-13 20:59:32.442 +02:00 [INF] CORS policy execution successful.
2025-05-13 20:59:32.443 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/teacher/all - 204 null null 1.633ms
2025-05-13 20:59:32.443 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/class/all - 204 null null 1.8337ms
2025-05-13 20:59:32.447 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/teacher/all - null null
2025-05-13 20:59:32.448 +02:00 [INF] CORS policy execution successful.
2025-05-13 20:59:32.448 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/class/all - null null
2025-05-13 20:59:32.460 +02:00 [INF] CORS policy execution successful.
2025-05-13 20:59:32.489 +02:00 [INF] Executing endpoint 'backend.Controllers.ClassController.GetClasses (backend)'
2025-05-13 20:59:32.489 +02:00 [INF] Executing endpoint 'backend.Controllers.TeacherController.GetTeachers (backend)'
2025-05-13 20:59:32.490 +02:00 [INF] Route matched with {action = "GetTeachers", controller = "Teacher"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTeachers() on controller backend.Controllers.TeacherController (backend).
2025-05-13 20:59:32.490 +02:00 [INF] Route matched with {action = "GetClasses", controller = "Class"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClasses() on controller backend.Controllers.ClassController (backend).
2025-05-13 20:59:32.587 +02:00 [INF] Executed DbCommand (91ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
2025-05-13 20:59:32.587 +02:00 [INF] Executed DbCommand (91ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Classes] AS [c]
2025-05-13 20:59:32.595 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.ClassDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-13 20:59:32.595 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.TeacherDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-13 20:59:32.596 +02:00 [INF] Executed action backend.Controllers.ClassController.GetClasses (backend) in 106.2141ms
2025-05-13 20:59:32.596 +02:00 [INF] Executed endpoint 'backend.Controllers.ClassController.GetClasses (backend)'
2025-05-13 20:59:32.596 +02:00 [INF] Executed action backend.Controllers.TeacherController.GetTeachers (backend) in 106.3343ms
2025-05-13 20:59:32.596 +02:00 [INF] Executed endpoint 'backend.Controllers.TeacherController.GetTeachers (backend)'
2025-05-13 20:59:32.597 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/class/all - 200 null application/json; charset=utf-8 148.5927ms
2025-05-13 20:59:32.599 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/teacher/all - 200 null application/json; charset=utf-8 149.7033ms
2025-05-13 20:59:32.626 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/subject/3 - null null
2025-05-13 20:59:32.626 +02:00 [INF] CORS policy execution successful.
2025-05-13 20:59:32.627 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/subject/3 - 204 null null 0.5294ms
2025-05-13 20:59:32.628 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/subject/3 - null null
2025-05-13 20:59:32.628 +02:00 [INF] CORS policy execution successful.
2025-05-13 20:59:32.629 +02:00 [INF] Executing endpoint 'backend.Controllers.SubjectController.GetSubjectById (backend)'
2025-05-13 20:59:32.632 +02:00 [INF] Route matched with {action = "GetSubjectById", controller = "Subject"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubjectById(Int32) on controller backend.Controllers.SubjectController (backend).
2025-05-13 20:59:32.719 +02:00 [INF] Executed DbCommand (76ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name], [c].[ClassId], [c].[TeacherId], [c].[Id]
FROM (
    SELECT TOP(1) [s].[Id], [s].[Name]
    FROM [Subjects] AS [s]
    WHERE [s].[Id] = @__id_0
) AS [t]
LEFT JOIN [ClassSubjects] AS [c] ON [t].[Id] = [c].[SubjectId]
ORDER BY [t].[Id]
2025-05-13 20:59:32.722 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.SubjectDto'.
2025-05-13 20:59:32.724 +02:00 [INF] Executed action backend.Controllers.SubjectController.GetSubjectById (backend) in 90.9042ms
2025-05-13 20:59:32.724 +02:00 [INF] Executed endpoint 'backend.Controllers.SubjectController.GetSubjectById (backend)'
2025-05-13 20:59:32.724 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/subject/3 - 200 null application/json; charset=utf-8 96.1984ms
2025-05-13 20:59:36.619 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/subject/update - null null
2025-05-13 20:59:36.620 +02:00 [INF] CORS policy execution successful.
2025-05-13 20:59:36.620 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/subject/update - 204 null null 0.9774ms
2025-05-13 20:59:36.622 +02:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5234/api/subject/update - application/json 72
2025-05-13 20:59:36.623 +02:00 [INF] CORS policy execution successful.
2025-05-13 20:59:36.623 +02:00 [INF] Executing endpoint 'backend.Controllers.SubjectController.UpdateSubjectWithAssignments (backend)'
2025-05-13 20:59:36.628 +02:00 [INF] Route matched with {action = "UpdateSubjectWithAssignments", controller = "Subject"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSubjectWithAssignments(backend.DTOs.SubjectDto) on controller backend.Controllers.SubjectController (backend).
2025-05-13 20:59:36.850 +02:00 [INF] Executed DbCommand (82ms) [Parameters=[@__dto_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[CreatedAt], [s].[Name], [s].[UpdatedAt]
FROM [Subjects] AS [s]
WHERE [s].[Id] = @__dto_Id_0
2025-05-13 20:59:36.934 +02:00 [INF] Executed DbCommand (73ms) [Parameters=[@__dto_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassId], [c].[SubjectId], [c].[TeacherId]
FROM [ClassSubjects] AS [c]
WHERE [c].[SubjectId] = @__dto_Id_0
2025-05-13 20:59:37.111 +02:00 [INF] Executed DbCommand (74ms) [Parameters=[@p0='?' (DbType = Int32), @p4='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [ClassSubjects]
OUTPUT 1
WHERE [Id] = @p0;
UPDATE [Subjects] SET [CreatedAt] = @p1, [Name] = @p2, [UpdatedAt] = @p3
OUTPUT 1
WHERE [Id] = @p4;
DELETE FROM [ClassSubjects]
OUTPUT 1
WHERE [Id] = @p5;
INSERT INTO [ClassSubjects] ([ClassId], [SubjectId], [TeacherId])
OUTPUT INSERTED.[Id]
VALUES (@p6, @p7, @p8);
2025-05-13 20:59:37.202 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-13 20:59:37.203 +02:00 [INF] Executed action backend.Controllers.SubjectController.UpdateSubjectWithAssignments (backend) in 574.5347ms
2025-05-13 20:59:37.203 +02:00 [INF] Executed endpoint 'backend.Controllers.SubjectController.UpdateSubjectWithAssignments (backend)'
2025-05-13 20:59:37.205 +02:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5234/api/subject/update - 200 null application/json; charset=utf-8 582.5259ms
2025-05-13 20:59:37.226 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/subject/paged?pageNumber=1&pageSize=10&sortColumn=name&sortDirection=asc - null null
2025-05-13 20:59:37.226 +02:00 [INF] CORS policy execution successful.
2025-05-13 20:59:37.226 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/subject/paged?pageNumber=1&pageSize=10&sortColumn=name&sortDirection=asc - 204 null null 0.54ms
2025-05-13 20:59:37.229 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/subject/paged?pageNumber=1&pageSize=10&sortColumn=name&sortDirection=asc - null null
2025-05-13 20:59:37.230 +02:00 [INF] CORS policy execution successful.
2025-05-13 20:59:37.231 +02:00 [INF] Executing endpoint 'backend.Controllers.SubjectController.GetSubjectsPaged (backend)'
2025-05-13 20:59:37.231 +02:00 [INF] Route matched with {action = "GetSubjectsPaged", controller = "Subject"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubjectsPaged(backend.Models.PagedRequest) on controller backend.Controllers.SubjectController (backend).
2025-05-13 20:59:37.317 +02:00 [INF] Executed DbCommand (83ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Subjects] AS [s]
2025-05-13 20:59:37.395 +02:00 [INF] Executed DbCommand (77ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name], [t].[CreatedAt], [t].[UpdatedAt], [t0].[ClassName], [t0].[TeacherFullName], [t0].[Id], [t0].[Id0], [t0].[Id1]
FROM (
    SELECT [s].[Id], [s].[Name], [s].[CreatedAt], [s].[UpdatedAt]
    FROM [Subjects] AS [s]
    ORDER BY [s].[Name]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [c0].[Name] AS [ClassName], [t1].[FirstName] + N' ' + [t1].[LastName] AS [TeacherFullName], [c].[Id], [c0].[Id] AS [Id0], [t1].[Id] AS [Id1], [c].[SubjectId]
    FROM [ClassSubjects] AS [c]
    INNER JOIN [Classes] AS [c0] ON [c].[ClassId] = [c0].[Id]
    INNER JOIN [Teachers] AS [t1] ON [c].[TeacherId] = [t1].[Id]
) AS [t0] ON [t].[Id] = [t0].[SubjectId]
ORDER BY [t].[Name], [t].[Id], [t0].[Id], [t0].[Id0]
2025-05-13 20:59:37.396 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.PagedSubjects'.
2025-05-13 20:59:37.397 +02:00 [INF] Executed action backend.Controllers.SubjectController.GetSubjectsPaged (backend) in 165.7239ms
2025-05-13 20:59:37.398 +02:00 [INF] Executed endpoint 'backend.Controllers.SubjectController.GetSubjectsPaged (backend)'
2025-05-13 20:59:37.398 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/subject/paged?pageNumber=1&pageSize=10&sortColumn=name&sortDirection=asc - 200 null application/json; charset=utf-8 169.5145ms
2025-05-13 20:59:51.330 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/class/all - null null
2025-05-13 20:59:51.331 +02:00 [INF] CORS policy execution successful.
2025-05-13 20:59:51.331 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/class/all - 204 null null 1.1093ms
2025-05-13 20:59:51.334 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/teacher/all - null null
2025-05-13 20:59:51.334 +02:00 [INF] CORS policy execution successful.
2025-05-13 20:59:51.334 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/teacher/all - 204 null null 0.4038ms
2025-05-13 20:59:51.336 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/class/all - null null
2025-05-13 20:59:51.336 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/teacher/all - null null
2025-05-13 20:59:51.337 +02:00 [INF] CORS policy execution successful.
2025-05-13 20:59:51.337 +02:00 [INF] CORS policy execution successful.
2025-05-13 20:59:51.338 +02:00 [INF] Executing endpoint 'backend.Controllers.ClassController.GetClasses (backend)'
2025-05-13 20:59:51.338 +02:00 [INF] Executing endpoint 'backend.Controllers.TeacherController.GetTeachers (backend)'
2025-05-13 20:59:51.338 +02:00 [INF] Route matched with {action = "GetClasses", controller = "Class"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClasses() on controller backend.Controllers.ClassController (backend).
2025-05-13 20:59:51.340 +02:00 [INF] Route matched with {action = "GetTeachers", controller = "Teacher"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTeachers() on controller backend.Controllers.TeacherController (backend).
2025-05-13 20:59:51.427 +02:00 [INF] Executed DbCommand (85ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
2025-05-13 20:59:51.427 +02:00 [INF] Executed DbCommand (85ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Classes] AS [c]
2025-05-13 20:59:51.427 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.TeacherDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-13 20:59:51.427 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.ClassDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-13 20:59:51.428 +02:00 [INF] Executed action backend.Controllers.TeacherController.GetTeachers (backend) in 87.8056ms
2025-05-13 20:59:51.428 +02:00 [INF] Executed action backend.Controllers.ClassController.GetClasses (backend) in 88.101ms
2025-05-13 20:59:51.428 +02:00 [INF] Executed endpoint 'backend.Controllers.ClassController.GetClasses (backend)'
2025-05-13 20:59:51.429 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/class/all - 200 null application/json; charset=utf-8 92.8471ms
2025-05-13 20:59:51.429 +02:00 [INF] Executed endpoint 'backend.Controllers.TeacherController.GetTeachers (backend)'
2025-05-13 20:59:51.430 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/teacher/all - 200 null application/json; charset=utf-8 94.0814ms
2025-05-13 20:59:59.489 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/roles - null null
2025-05-13 20:59:59.489 +02:00 [INF] CORS policy execution successful.
2025-05-13 20:59:59.490 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/roles - 204 null null 0.6392ms
2025-05-13 20:59:59.492 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/roles - null null
2025-05-13 20:59:59.493 +02:00 [INF] CORS policy execution successful.
2025-05-13 20:59:59.494 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetRoles (backend)'
2025-05-13 20:59:59.498 +02:00 [INF] Route matched with {action = "GetRoles", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRoles() on controller backend.Controllers.UserController (backend).
2025-05-13 20:59:59.597 +02:00 [INF] Executed DbCommand (77ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE([a].[Name], N'') AS [Name]
FROM [AspNetRoles] AS [a]
2025-05-13 20:59:59.598 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.Models.Role, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-13 20:59:59.600 +02:00 [INF] Executed action backend.Controllers.UserController.GetRoles (backend) in 101.4516ms
2025-05-13 20:59:59.600 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetRoles (backend)'
2025-05-13 20:59:59.600 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/roles - 200 null application/json; charset=utf-8 108.7103ms
2025-05-13 21:00:01.190 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/paged?pageNumber=1&pageSize=10&sortColumn=role&sortDirection=asc&searchQuery= - null null
2025-05-13 21:00:01.190 +02:00 [INF] CORS policy execution successful.
2025-05-13 21:00:01.190 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/paged?pageNumber=1&pageSize=10&sortColumn=role&sortDirection=asc&searchQuery= - 204 null null 0.5858ms
2025-05-13 21:00:01.192 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/paged?pageNumber=1&pageSize=10&sortColumn=role&sortDirection=asc&searchQuery= - null null
2025-05-13 21:00:01.192 +02:00 [INF] CORS policy execution successful.
2025-05-13 21:00:01.193 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetUsersPaged (backend)'
2025-05-13 21:00:01.198 +02:00 [INF] Route matched with {action = "GetUsersPaged", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersPaged(backend.Models.PagedRequest) on controller backend.Controllers.UserController (backend).
2025-05-13 21:00:01.517 +02:00 [INF] Executed DbCommand (100ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
INNER JOIN [AspNetUserRoles] AS [a0] ON [a].[Id] = [a0].[UserId]
INNER JOIN [AspNetRoles] AS [a1] ON [a0].[RoleId] = [a1].[Id]
LEFT JOIN [Admins] AS [a2] ON [a].[Id] = [a2].[UserId]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[UserId]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[UserId]
2025-05-13 21:00:01.615 +02:00 [INF] Executed DbCommand (88ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName], [a1].[Name] AS [RoleName], [a2].[Id], [a2].[FirstName], [a2].[LastName], [a2].[UserId], [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId], [s].[Id], [s].[ClassId], [s].[FirstName], [s].[LastName], [s].[UserId]
FROM [AspNetUsers] AS [a]
INNER JOIN [AspNetUserRoles] AS [a0] ON [a].[Id] = [a0].[UserId]
INNER JOIN [AspNetRoles] AS [a1] ON [a0].[RoleId] = [a1].[Id]
LEFT JOIN [Admins] AS [a2] ON [a].[Id] = [a2].[UserId]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[UserId]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[UserId]
ORDER BY [a1].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-13 21:00:01.624 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.PagedUsers'.
2025-05-13 21:00:01.633 +02:00 [INF] Executed action backend.Controllers.UserController.GetUsersPaged (backend) in 434.5885ms
2025-05-13 21:00:01.633 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetUsersPaged (backend)'
2025-05-13 21:00:01.634 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/paged?pageNumber=1&pageSize=10&sortColumn=role&sortDirection=asc&searchQuery= - 200 null application/json; charset=utf-8 441.8408ms
2025-05-13 21:00:41.791 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/roles - null null
2025-05-13 21:00:41.793 +02:00 [INF] CORS policy execution successful.
2025-05-13 21:00:41.793 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/roles - 204 null null 2.114ms
2025-05-13 21:00:41.795 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/roles - null null
2025-05-13 21:00:41.795 +02:00 [INF] CORS policy execution successful.
2025-05-13 21:00:41.797 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetRoles (backend)'
2025-05-13 21:00:41.797 +02:00 [INF] Route matched with {action = "GetRoles", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRoles() on controller backend.Controllers.UserController (backend).
2025-05-13 21:00:41.895 +02:00 [INF] Executed DbCommand (87ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE([a].[Name], N'') AS [Name]
FROM [AspNetRoles] AS [a]
2025-05-13 21:00:41.896 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.Models.Role, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-13 21:00:41.898 +02:00 [INF] Executed action backend.Controllers.UserController.GetRoles (backend) in 100.0028ms
2025-05-13 21:00:41.898 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetRoles (backend)'
2025-05-13 21:00:41.898 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/roles - 200 null application/json; charset=utf-8 103.3442ms
2025-05-13 21:01:01.104 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/add - null null
2025-05-13 21:01:01.105 +02:00 [INF] CORS policy execution successful.
2025-05-13 21:01:01.105 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/add - 204 null null 1.291ms
2025-05-13 21:01:01.107 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5234/api/user/add - application/json 117
2025-05-13 21:01:01.107 +02:00 [INF] CORS policy execution successful.
2025-05-13 21:01:01.108 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.AddNewUser (backend)'
2025-05-13 21:01:01.113 +02:00 [INF] Route matched with {action = "AddNewUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddNewUser(backend.DTOs.AddUserModel) on controller backend.Controllers.UserController (backend).
2025-05-13 21:01:01.336 +02:00 [INF] Executed DbCommand (84ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-05-13 21:01:01.516 +02:00 [INF] Executed DbCommand (86ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-05-13 21:01:01.906 +02:00 [INF] Executed DbCommand (264ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 256), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 256), @p12='?' (Size = 256), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 4000), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = Boolean), @p20='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [AdminId], [ConcurrencyStamp], [DateAdded], [Email], [EmailConfirmed], [IsActive], [LastSuccessfulLogin], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [StudentId], [TeacherId], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20);
2025-05-13 21:01:01.990 +02:00 [INF] Executed DbCommand (78ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-13 21:01:02.104 +02:00 [INF] Executed DbCommand (94ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-05-13 21:01:02.176 +02:00 [INF] Executed DbCommand (68ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-13 21:01:02.284 +02:00 [INF] Executed DbCommand (91ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-05-13 21:01:02.479 +02:00 [INF] Executed DbCommand (94ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p22='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p23='?' (Size = 4000), @p5='?' (DbType = DateTime2), @p6='?' (Size = 256), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Boolean), @p11='?' (DbType = DateTimeOffset), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (DbType = Int32), @p19='?' (DbType = Int32), @p20='?' (DbType = Boolean), @p21='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [AdminId] = @p3, [ConcurrencyStamp] = @p4, [DateAdded] = @p5, [Email] = @p6, [EmailConfirmed] = @p7, [IsActive] = @p8, [LastSuccessfulLogin] = @p9, [LockoutEnabled] = @p10, [LockoutEnd] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [SecurityStamp] = @p17, [StudentId] = @p18, [TeacherId] = @p19, [TwoFactorEnabled] = @p20, [UserName] = @p21
OUTPUT 1
WHERE [Id] = @p22 AND [ConcurrencyStamp] = @p23;
2025-05-13 21:01:02.638 +02:00 [INF] Executed DbCommand (78ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Teachers] ([FirstName], [LastName], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2025-05-13 21:01:02.722 +02:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2025-05-13 21:01:02.723 +02:00 [INF] Executed action backend.Controllers.UserController.AddNewUser (backend) in 1609.3912ms
2025-05-13 21:01:02.723 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.AddNewUser (backend)'
2025-05-13 21:01:02.723 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5234/api/user/add - 200 0 null 1616.3607ms
2025-05-13 21:01:02.745 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/paged?pageNumber=1&pageSize=10&sortColumn=role&sortDirection=asc&searchQuery= - null null
2025-05-13 21:01:02.745 +02:00 [INF] CORS policy execution successful.
2025-05-13 21:01:02.746 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/paged?pageNumber=1&pageSize=10&sortColumn=role&sortDirection=asc&searchQuery= - 204 null null 1.3757ms
2025-05-13 21:01:02.750 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/paged?pageNumber=1&pageSize=10&sortColumn=role&sortDirection=asc&searchQuery= - null null
2025-05-13 21:01:02.755 +02:00 [INF] CORS policy execution successful.
2025-05-13 21:01:02.758 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetUsersPaged (backend)'
2025-05-13 21:01:02.758 +02:00 [INF] Route matched with {action = "GetUsersPaged", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsersPaged(backend.Models.PagedRequest) on controller backend.Controllers.UserController (backend).
2025-05-13 21:01:02.856 +02:00 [INF] Executed DbCommand (86ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [AspNetUsers] AS [a]
INNER JOIN [AspNetUserRoles] AS [a0] ON [a].[Id] = [a0].[UserId]
INNER JOIN [AspNetRoles] AS [a1] ON [a0].[RoleId] = [a1].[Id]
LEFT JOIN [Admins] AS [a2] ON [a].[Id] = [a2].[UserId]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[UserId]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[UserId]
2025-05-13 21:01:02.954 +02:00 [INF] Executed DbCommand (96ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName], [a1].[Name] AS [RoleName], [a2].[Id], [a2].[FirstName], [a2].[LastName], [a2].[UserId], [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId], [s].[Id], [s].[ClassId], [s].[FirstName], [s].[LastName], [s].[UserId]
FROM [AspNetUsers] AS [a]
INNER JOIN [AspNetUserRoles] AS [a0] ON [a].[Id] = [a0].[UserId]
INNER JOIN [AspNetRoles] AS [a1] ON [a0].[RoleId] = [a1].[Id]
LEFT JOIN [Admins] AS [a2] ON [a].[Id] = [a2].[UserId]
LEFT JOIN [Teachers] AS [t] ON [a].[Id] = [t].[UserId]
LEFT JOIN [Students] AS [s] ON [a].[Id] = [s].[UserId]
ORDER BY [a1].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-05-13 21:01:02.981 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.PagedUsers'.
2025-05-13 21:01:02.981 +02:00 [INF] Executed action backend.Controllers.UserController.GetUsersPaged (backend) in 222.7574ms
2025-05-13 21:01:02.981 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetUsersPaged (backend)'
2025-05-13 21:01:02.981 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/paged?pageNumber=1&pageSize=10&sortColumn=role&sortDirection=asc&searchQuery= - 200 null application/json; charset=utf-8 231.0994ms
2025-05-13 21:01:04.694 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/class/all - null null
2025-05-13 21:01:04.695 +02:00 [INF] CORS policy execution successful.
2025-05-13 21:01:04.695 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/class/all - 204 null null 1.3074ms
2025-05-13 21:01:04.697 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/teacher/all - null null
2025-05-13 21:01:04.698 +02:00 [INF] CORS policy execution successful.
2025-05-13 21:01:04.698 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/teacher/all - 204 null null 0.6744ms
2025-05-13 21:01:04.699 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/class/all - null null
2025-05-13 21:01:04.699 +02:00 [INF] CORS policy execution successful.
2025-05-13 21:01:04.699 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/teacher/all - null null
2025-05-13 21:01:04.700 +02:00 [INF] CORS policy execution successful.
2025-05-13 21:01:04.700 +02:00 [INF] Executing endpoint 'backend.Controllers.ClassController.GetClasses (backend)'
2025-05-13 21:01:04.700 +02:00 [INF] Executing endpoint 'backend.Controllers.TeacherController.GetTeachers (backend)'
2025-05-13 21:01:04.700 +02:00 [INF] Route matched with {action = "GetTeachers", controller = "Teacher"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTeachers() on controller backend.Controllers.TeacherController (backend).
2025-05-13 21:01:04.700 +02:00 [INF] Route matched with {action = "GetClasses", controller = "Class"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClasses() on controller backend.Controllers.ClassController (backend).
2025-05-13 21:01:04.816 +02:00 [INF] Executed DbCommand (96ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[FirstName], [t].[LastName]
FROM [Teachers] AS [t]
2025-05-13 21:01:04.816 +02:00 [INF] Executed DbCommand (96ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name]
FROM [Classes] AS [c]
2025-05-13 21:01:04.817 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.TeacherDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-13 21:01:04.817 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.ClassDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-13 21:01:04.817 +02:00 [INF] Executed action backend.Controllers.ClassController.GetClasses (backend) in 116.4898ms
2025-05-13 21:01:04.817 +02:00 [INF] Executed endpoint 'backend.Controllers.ClassController.GetClasses (backend)'
2025-05-13 21:01:04.817 +02:00 [INF] Executed action backend.Controllers.TeacherController.GetTeachers (backend) in 116.6347ms
2025-05-13 21:01:04.817 +02:00 [INF] Executed endpoint 'backend.Controllers.TeacherController.GetTeachers (backend)'
2025-05-13 21:01:04.817 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/teacher/all - 200 null application/json; charset=utf-8 118.0617ms
2025-05-13 21:01:04.818 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/class/all - 200 null application/json; charset=utf-8 119.0218ms
2025-05-13 21:01:14.772 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/subject/add - null null
2025-05-13 21:01:14.772 +02:00 [INF] CORS policy execution successful.
2025-05-13 21:01:14.772 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/subject/add - 204 null null 0.5542ms
2025-05-13 21:01:14.774 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5234/api/subject/add - application/json 66
2025-05-13 21:01:14.774 +02:00 [INF] CORS policy execution successful.
2025-05-13 21:01:14.775 +02:00 [INF] Executing endpoint 'backend.Controllers.SubjectController.AddSubjectWithAssignments (backend)'
2025-05-13 21:01:14.776 +02:00 [INF] Route matched with {action = "AddSubjectWithAssignments", controller = "Subject"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddSubjectWithAssignments(backend.DTOs.SubjectDto) on controller backend.Controllers.SubjectController (backend).
2025-05-13 21:01:14.996 +02:00 [INF] Executed DbCommand (70ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Subjects] ([CreatedAt], [Name], [UpdatedAt])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2025-05-13 21:01:15.136 +02:00 [INF] Executed DbCommand (68ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [ClassSubjects] ([ClassId], [SubjectId], [TeacherId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2025-05-13 21:01:15.206 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-13 21:01:15.207 +02:00 [INF] Executed action backend.Controllers.SubjectController.AddSubjectWithAssignments (backend) in 430.9793ms
2025-05-13 21:01:15.209 +02:00 [INF] Executed endpoint 'backend.Controllers.SubjectController.AddSubjectWithAssignments (backend)'
2025-05-13 21:01:15.209 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5234/api/subject/add - 200 null application/json; charset=utf-8 434.9022ms
2025-05-13 21:01:15.230 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/subject/paged?pageNumber=1&pageSize=10&sortColumn=name&sortDirection=asc - null null
2025-05-13 21:01:15.230 +02:00 [INF] CORS policy execution successful.
2025-05-13 21:01:15.230 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/subject/paged?pageNumber=1&pageSize=10&sortColumn=name&sortDirection=asc - 204 null null 0.3197ms
2025-05-13 21:01:15.233 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/subject/paged?pageNumber=1&pageSize=10&sortColumn=name&sortDirection=asc - null null
2025-05-13 21:01:15.233 +02:00 [INF] CORS policy execution successful.
2025-05-13 21:01:15.234 +02:00 [INF] Executing endpoint 'backend.Controllers.SubjectController.GetSubjectsPaged (backend)'
2025-05-13 21:01:15.234 +02:00 [INF] Route matched with {action = "GetSubjectsPaged", controller = "Subject"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubjectsPaged(backend.Models.PagedRequest) on controller backend.Controllers.SubjectController (backend).
2025-05-13 21:01:15.325 +02:00 [INF] Executed DbCommand (84ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Subjects] AS [s]
2025-05-13 21:01:15.412 +02:00 [INF] Executed DbCommand (85ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name], [t].[CreatedAt], [t].[UpdatedAt], [t0].[ClassName], [t0].[TeacherFullName], [t0].[Id], [t0].[Id0], [t0].[Id1]
FROM (
    SELECT [s].[Id], [s].[Name], [s].[CreatedAt], [s].[UpdatedAt]
    FROM [Subjects] AS [s]
    ORDER BY [s].[Name]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
LEFT JOIN (
    SELECT [c0].[Name] AS [ClassName], [t1].[FirstName] + N' ' + [t1].[LastName] AS [TeacherFullName], [c].[Id], [c0].[Id] AS [Id0], [t1].[Id] AS [Id1], [c].[SubjectId]
    FROM [ClassSubjects] AS [c]
    INNER JOIN [Classes] AS [c0] ON [c].[ClassId] = [c0].[Id]
    INNER JOIN [Teachers] AS [t1] ON [c].[TeacherId] = [t1].[Id]
) AS [t0] ON [t].[Id] = [t0].[SubjectId]
ORDER BY [t].[Name], [t].[Id], [t0].[Id], [t0].[Id0]
2025-05-13 21:01:15.413 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.PagedSubjects'.
2025-05-13 21:01:15.415 +02:00 [INF] Executed action backend.Controllers.SubjectController.GetSubjectsPaged (backend) in 180.628ms
2025-05-13 21:01:15.415 +02:00 [INF] Executed endpoint 'backend.Controllers.SubjectController.GetSubjectsPaged (backend)'
2025-05-13 21:01:15.416 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/subject/paged?pageNumber=1&pageSize=10&sortColumn=name&sortDirection=asc - 200 null application/json; charset=utf-8 183.002ms
2025-05-13 21:01:16.376 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/classes-with-schedule - null null
2025-05-13 21:01:16.377 +02:00 [INF] CORS policy execution successful.
2025-05-13 21:01:16.378 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/classes-with-schedule - 204 null null 1.3303ms
2025-05-13 21:01:16.381 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/classes-with-schedule - null null
2025-05-13 21:01:16.383 +02:00 [INF] CORS policy execution successful.
2025-05-13 21:01:16.384 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetClassesWithSchedule (backend)'
2025-05-13 21:01:16.388 +02:00 [INF] Route matched with {action = "GetClassesWithSchedule", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClassesWithSchedule() on controller backend.Controllers.ScheduleController (backend).
2025-05-13 21:01:16.496 +02:00 [INF] Executed DbCommand (98ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], (
    SELECT COUNT(*)
    FROM [Schedules] AS [s]
    WHERE [c].[Id] = [s].[ClassId]) AS [EntryCount]
FROM [Classes] AS [c]
ORDER BY [c].[Name]
2025-05-13 21:01:16.497 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.ClassWithScheduleDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-13 21:01:16.500 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetClassesWithSchedule (backend) in 111.527ms
2025-05-13 21:01:16.500 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetClassesWithSchedule (backend)'
2025-05-13 21:01:16.500 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/classes-with-schedule - 200 null application/json; charset=utf-8 119.4237ms
2025-05-13 21:01:17.704 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4 - null null
2025-05-13 21:01:17.704 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4/subjects - null null
2025-05-13 21:01:17.704 +02:00 [INF] CORS policy execution successful.
2025-05-13 21:01:17.704 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4/subjects - 204 null null 0.7724ms
2025-05-13 21:01:17.707 +02:00 [INF] CORS policy execution successful.
2025-05-13 21:01:17.707 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4 - 204 null null 3.8055ms
2025-05-13 21:01:17.711 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/class/4 - null null
2025-05-13 21:01:17.711 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/class/4/subjects - null null
2025-05-13 21:01:17.712 +02:00 [INF] CORS policy execution successful.
2025-05-13 21:01:17.712 +02:00 [INF] CORS policy execution successful.
2025-05-13 21:01:17.712 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetSubjectsForClass (backend)'
2025-05-13 21:01:17.712 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetScheduleForClass (backend)'
2025-05-13 21:01:17.720 +02:00 [INF] Route matched with {action = "GetScheduleForClass", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetScheduleForClass(Int32) on controller backend.Controllers.ScheduleController (backend).
2025-05-13 21:01:17.720 +02:00 [INF] Route matched with {action = "GetSubjectsForClass", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubjectsForClass(Int32) on controller backend.Controllers.ScheduleController (backend).
2025-05-13 21:01:17.887 +02:00 [INF] Executed DbCommand (151ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[CreatedAt], [s].[Name], [s].[UpdatedAt], [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [ClassSubjects] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Teachers] AS [t] ON [c].[TeacherId] = [t].[Id]
WHERE [c].[ClassId] = @__classId_0
2025-05-13 21:01:17.902 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.SubjectWithTeachersDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-13 21:01:17.931 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetSubjectsForClass (backend) in 211.1177ms
2025-05-13 21:01:17.931 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetSubjectsForClass (backend)'
2025-05-13 21:01:17.932 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/class/4/subjects - 200 null application/json; charset=utf-8 220.2603ms
2025-05-13 21:01:17.973 +02:00 [INF] Executed DbCommand (71ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[HomeroomTeacherId], [t].[Name], [t].[UpdatedAt], [t0].[Id], [t0].[ClassId], [t0].[CreatedAt], [t0].[DayOfWeek], [t0].[StartTime], [t0].[SubjectId], [t0].[TeacherId], [t0].[UpdatedAt], [t0].[Id0], [t0].[CreatedAt0], [t0].[Name], [t0].[UpdatedAt0], [t0].[Id1], [t0].[FirstName], [t0].[LastName], [t0].[UserId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[CreatedAt], [c].[HomeroomTeacherId], [c].[Name], [c].[UpdatedAt]
    FROM [Classes] AS [c]
    WHERE [c].[Id] = @__classId_0
) AS [t]
LEFT JOIN (
    SELECT [s].[Id], [s].[ClassId], [s].[CreatedAt], [s].[DayOfWeek], [s].[StartTime], [s].[SubjectId], [s].[TeacherId], [s].[UpdatedAt], [s0].[Id] AS [Id0], [s0].[CreatedAt] AS [CreatedAt0], [s0].[Name], [s0].[UpdatedAt] AS [UpdatedAt0], [t1].[Id] AS [Id1], [t1].[FirstName], [t1].[LastName], [t1].[UserId]
    FROM [Schedules] AS [s]
    INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
    INNER JOIN [Teachers] AS [t1] ON [s].[TeacherId] = [t1].[Id]
) AS [t0] ON [t].[Id] = [t0].[ClassId]
ORDER BY [t].[Id], [t0].[Id], [t0].[Id0]
2025-05-13 21:01:17.994 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.ScheduleForClassDto'.
2025-05-13 21:01:18.002 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetScheduleForClass (backend) in 282.4779ms
2025-05-13 21:01:18.003 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetScheduleForClass (backend)'
2025-05-13 21:01:18.003 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/class/4 - 200 null application/json; charset=utf-8 291.561ms
2025-05-13 21:01:27.506 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/add-entry - null null
2025-05-13 21:01:27.508 +02:00 [INF] CORS policy execution successful.
2025-05-13 21:01:27.509 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/add-entry - 204 null null 11.4956ms
2025-05-13 21:01:27.510 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5234/api/schedule/add-entry - application/json 84
2025-05-13 21:01:27.511 +02:00 [INF] CORS policy execution successful.
2025-05-13 21:01:27.513 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.AddEntry (backend)'
2025-05-13 21:01:27.528 +02:00 [INF] Route matched with {action = "AddEntry", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddEntry(backend.DTOs.ScheduleEntryDto) on controller backend.Controllers.ScheduleController (backend).
2025-05-13 21:01:27.553 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-05-13 21:01:27.563 +02:00 [INF] Executed action backend.Controllers.ScheduleController.AddEntry (backend) in 35.2478ms
2025-05-13 21:01:27.563 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.AddEntry (backend)'
2025-05-13 21:01:27.564 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5234/api/schedule/add-entry - 400 null application/problem+json; charset=utf-8 53.2278ms
2025-05-13 21:03:17.135 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-13 21:03:17.137 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4 - null null
2025-05-13 21:03:17.206 +02:00 [INF] CORS policy execution successful.
2025-05-13 21:03:17.206 +02:00 [INF] CORS policy execution successful.
2025-05-13 21:03:17.206 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4 - 204 null null 69.131ms
2025-05-13 21:03:17.206 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 101.3247ms
2025-05-13 21:03:17.220 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/class/4 - null null
2025-05-13 21:03:17.221 +02:00 [INF] CORS policy execution successful.
2025-05-13 21:03:17.221 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4/subjects - null null
2025-05-13 21:03:17.221 +02:00 [INF] CORS policy execution successful.
2025-05-13 21:03:17.221 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4/subjects - 204 null null 0.2686ms
2025-05-13 21:03:17.275 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-13 21:03:17.275 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/class/4/subjects - null null
2025-05-13 21:03:17.275 +02:00 [INF] CORS policy execution successful.
2025-05-13 21:03:17.275 +02:00 [INF] CORS policy execution successful.
2025-05-13 21:03:17.303 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetScheduleForClass (backend)'
2025-05-13 21:03:17.303 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetSubjectsForClass (backend)'
2025-05-13 21:03:17.303 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-13 21:03:17.304 +02:00 [INF] Route matched with {action = "GetSubjectsForClass", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubjectsForClass(Int32) on controller backend.Controllers.ScheduleController (backend).
2025-05-13 21:03:17.304 +02:00 [INF] Route matched with {action = "GetScheduleForClass", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetScheduleForClass(Int32) on controller backend.Controllers.ScheduleController (backend).
2025-05-13 21:03:17.309 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-13 21:03:17.510 +02:00 [INF] Executed DbCommand (151ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[HomeroomTeacherId], [t].[Name], [t].[UpdatedAt], [t0].[Id], [t0].[ClassId], [t0].[CreatedAt], [t0].[DayOfWeek], [t0].[StartTime], [t0].[SubjectId], [t0].[TeacherId], [t0].[UpdatedAt], [t0].[Id0], [t0].[CreatedAt0], [t0].[Name], [t0].[UpdatedAt0], [t0].[Id1], [t0].[FirstName], [t0].[LastName], [t0].[UserId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[CreatedAt], [c].[HomeroomTeacherId], [c].[Name], [c].[UpdatedAt]
    FROM [Classes] AS [c]
    WHERE [c].[Id] = @__classId_0
) AS [t]
LEFT JOIN (
    SELECT [s].[Id], [s].[ClassId], [s].[CreatedAt], [s].[DayOfWeek], [s].[StartTime], [s].[SubjectId], [s].[TeacherId], [s].[UpdatedAt], [s0].[Id] AS [Id0], [s0].[CreatedAt] AS [CreatedAt0], [s0].[Name], [s0].[UpdatedAt] AS [UpdatedAt0], [t1].[Id] AS [Id1], [t1].[FirstName], [t1].[LastName], [t1].[UserId]
    FROM [Schedules] AS [s]
    INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
    INNER JOIN [Teachers] AS [t1] ON [s].[TeacherId] = [t1].[Id]
) AS [t0] ON [t].[Id] = [t0].[ClassId]
ORDER BY [t].[Id], [t0].[Id], [t0].[Id0]
2025-05-13 21:03:17.510 +02:00 [INF] Executed DbCommand (177ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[CreatedAt], [s].[Name], [s].[UpdatedAt], [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [ClassSubjects] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Teachers] AS [t] ON [c].[TeacherId] = [t].[Id]
WHERE [c].[ClassId] = @__classId_0
2025-05-13 21:03:17.586 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.ScheduleForClassDto'.
2025-05-13 21:03:17.587 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetScheduleForClass (backend) in 283.1274ms
2025-05-13 21:03:17.587 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetScheduleForClass (backend)'
2025-05-13 21:03:17.588 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/class/4 - 200 null application/json; charset=utf-8 367.4145ms
2025-05-13 21:03:17.588 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.SubjectWithTeachersDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-13 21:03:17.594 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetSubjectsForClass (backend) in 290.2802ms
2025-05-13 21:03:17.595 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetSubjectsForClass (backend)'
2025-05-13 21:03:17.595 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/class/4/subjects - 200 null application/json; charset=utf-8 319.6928ms
2025-05-13 21:03:17.668 +02:00 [INF] Executed DbCommand (66ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-13 21:03:17.745 +02:00 [INF] Executed DbCommand (71ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-13 21:03:17.827 +02:00 [INF] Executed DbCommand (77ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[FirstName], [a].[LastName], [a].[UserId]
FROM [Admins] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-05-13 21:03:17.828 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-13 21:03:17.828 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 519.7753ms
2025-05-13 21:03:17.828 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-13 21:03:17.829 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 579.0695ms
2025-05-13 21:03:39.177 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/add-entry - null null
2025-05-13 21:03:39.180 +02:00 [INF] CORS policy execution successful.
2025-05-13 21:03:39.181 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/add-entry - 204 null null 4.189ms
2025-05-13 21:03:39.182 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5234/api/schedule/add-entry - application/json 84
2025-05-13 21:03:39.183 +02:00 [INF] CORS policy execution successful.
2025-05-13 21:03:39.185 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.AddEntry (backend)'
2025-05-13 21:03:39.186 +02:00 [INF] Route matched with {action = "AddEntry", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddEntry(backend.DTOs.ScheduleEntryDto) on controller backend.Controllers.ScheduleController (backend).
2025-05-13 21:03:39.191 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-05-13 21:03:39.191 +02:00 [INF] Executed action backend.Controllers.ScheduleController.AddEntry (backend) in 5.6673ms
2025-05-13 21:03:39.191 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.AddEntry (backend)'
2025-05-13 21:03:39.192 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5234/api/schedule/add-entry - 400 null application/problem+json; charset=utf-8 9.707ms
2025-05-13 21:05:40.098 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-13 21:05:40.098 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4 - null null
2025-05-13 21:05:40.098 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4/subjects - null null
2025-05-13 21:05:40.144 +02:00 [INF] CORS policy execution successful.
2025-05-13 21:05:40.144 +02:00 [INF] CORS policy execution successful.
2025-05-13 21:05:40.144 +02:00 [INF] CORS policy execution successful.
2025-05-13 21:05:40.144 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4/subjects - 204 null null 46.0483ms
2025-05-13 21:05:40.144 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4 - 204 null null 46.2817ms
2025-05-13 21:05:40.144 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 67.4478ms
2025-05-13 21:05:40.187 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/class/4 - null null
2025-05-13 21:05:40.187 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-13 21:05:40.208 +02:00 [INF] CORS policy execution successful.
2025-05-13 21:05:40.208 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/class/4/subjects - null null
2025-05-13 21:05:40.211 +02:00 [INF] CORS policy execution successful.
2025-05-13 21:05:40.212 +02:00 [INF] CORS policy execution successful.
2025-05-13 21:05:40.215 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetScheduleForClass (backend)'
2025-05-13 21:05:40.215 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetSubjectsForClass (backend)'
2025-05-13 21:05:40.215 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-13 21:05:40.215 +02:00 [INF] Route matched with {action = "GetScheduleForClass", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetScheduleForClass(Int32) on controller backend.Controllers.ScheduleController (backend).
2025-05-13 21:05:40.215 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-13 21:05:40.215 +02:00 [INF] Route matched with {action = "GetSubjectsForClass", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubjectsForClass(Int32) on controller backend.Controllers.ScheduleController (backend).
2025-05-13 21:05:40.505 +02:00 [INF] Executed DbCommand (260ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-13 21:05:40.505 +02:00 [INF] Executed DbCommand (260ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[HomeroomTeacherId], [t].[Name], [t].[UpdatedAt], [t0].[Id], [t0].[ClassId], [t0].[CreatedAt], [t0].[DayOfWeek], [t0].[StartTime], [t0].[SubjectId], [t0].[TeacherId], [t0].[UpdatedAt], [t0].[Id0], [t0].[CreatedAt0], [t0].[Name], [t0].[UpdatedAt0], [t0].[Id1], [t0].[FirstName], [t0].[LastName], [t0].[UserId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[CreatedAt], [c].[HomeroomTeacherId], [c].[Name], [c].[UpdatedAt]
    FROM [Classes] AS [c]
    WHERE [c].[Id] = @__classId_0
) AS [t]
LEFT JOIN (
    SELECT [s].[Id], [s].[ClassId], [s].[CreatedAt], [s].[DayOfWeek], [s].[StartTime], [s].[SubjectId], [s].[TeacherId], [s].[UpdatedAt], [s0].[Id] AS [Id0], [s0].[CreatedAt] AS [CreatedAt0], [s0].[Name], [s0].[UpdatedAt] AS [UpdatedAt0], [t1].[Id] AS [Id1], [t1].[FirstName], [t1].[LastName], [t1].[UserId]
    FROM [Schedules] AS [s]
    INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
    INNER JOIN [Teachers] AS [t1] ON [s].[TeacherId] = [t1].[Id]
) AS [t0] ON [t].[Id] = [t0].[ClassId]
ORDER BY [t].[Id], [t0].[Id], [t0].[Id0]
2025-05-13 21:05:40.675 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.ScheduleForClassDto'.
2025-05-13 21:05:40.678 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetScheduleForClass (backend) in 462.2082ms
2025-05-13 21:05:40.678 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetScheduleForClass (backend)'
2025-05-13 21:05:40.679 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/class/4 - 200 null application/json; charset=utf-8 491.8057ms
2025-05-13 21:05:40.783 +02:00 [INF] Executed DbCommand (104ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-13 21:05:40.853 +02:00 [INF] Executed DbCommand (69ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[FirstName], [a].[LastName], [a].[UserId]
FROM [Admins] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-05-13 21:05:40.854 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-13 21:05:40.854 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 638.8177ms
2025-05-13 21:05:40.854 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-13 21:05:40.855 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 667.747ms
2025-05-13 21:05:41.249 +02:00 [INF] Executed DbCommand (131ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[CreatedAt], [s].[Name], [s].[UpdatedAt], [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [ClassSubjects] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Teachers] AS [t] ON [c].[TeacherId] = [t].[Id]
WHERE [c].[ClassId] = @__classId_0
2025-05-13 21:05:41.272 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.SubjectWithTeachersDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-13 21:05:41.274 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetSubjectsForClass (backend) in 1058.4399ms
2025-05-13 21:05:41.274 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetSubjectsForClass (backend)'
2025-05-13 21:05:41.280 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/class/4/subjects - 200 null application/json; charset=utf-8 1092.8495ms
2025-05-13 21:05:52.592 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/add-entry - null null
2025-05-13 21:05:52.593 +02:00 [INF] CORS policy execution successful.
2025-05-13 21:05:52.594 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/add-entry - 204 null null 2.904ms
2025-05-13 21:05:52.597 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5234/api/schedule/add-entry - application/json 87
2025-05-13 21:05:52.597 +02:00 [INF] CORS policy execution successful.
2025-05-13 21:05:52.603 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.AddEntry (backend)'
2025-05-13 21:05:52.610 +02:00 [INF] Route matched with {action = "AddEntry", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddEntry(backend.DTOs.ScheduleEntryDto) on controller backend.Controllers.ScheduleController (backend).
2025-05-13 21:05:52.632 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-05-13 21:05:52.633 +02:00 [INF] Executed action backend.Controllers.ScheduleController.AddEntry (backend) in 22.7617ms
2025-05-13 21:05:52.633 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.AddEntry (backend)'
2025-05-13 21:05:52.633 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5234/api/schedule/add-entry - 400 null application/problem+json; charset=utf-8 36.4057ms
2025-05-13 21:07:02.416 +02:00 [INF] Application is starting
2025-05-13 21:07:02.485 +02:00 [INF] User profile is available. Using '/Users/pawelstaniul/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-05-13 21:07:02.517 +02:00 [WRN] The WebRootPath was not found: /Users/pawelstaniul/Desktop/Programy/school-logbook/backend/wwwroot. Static files may be unavailable.
2025-05-13 21:07:02.533 +02:00 [INF] Now listening on: http://localhost:5234
2025-05-13 21:07:02.534 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-13 21:07:02.535 +02:00 [INF] Hosting environment: Development
2025-05-13 21:07:02.535 +02:00 [INF] Content root path: /Users/pawelstaniul/Desktop/Programy/school-logbook/backend
2025-05-13 21:07:02.780 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/swagger/index.html - null null
2025-05-13 21:07:02.817 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/swagger/index.html - 200 null text/html;charset=utf-8 36.9165ms
2025-05-13 21:07:03.255 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/swagger/v1/swagger.json - null null
2025-05-13 21:07:03.309 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 53.9556ms
2025-05-13 21:07:09.473 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-13 21:07:09.473 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4 - null null
2025-05-13 21:07:09.473 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4/subjects - null null
2025-05-13 21:07:09.506 +02:00 [WRN] Failed to determine the https port for redirect.
2025-05-13 21:07:09.650 +02:00 [INF] CORS policy execution successful.
2025-05-13 21:07:09.650 +02:00 [INF] CORS policy execution successful.
2025-05-13 21:07:09.650 +02:00 [INF] CORS policy execution successful.
2025-05-13 21:07:09.652 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4/subjects - 204 null null 179.8245ms
2025-05-13 21:07:09.656 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4 - 204 null null 183.8442ms
2025-05-13 21:07:09.656 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 183.5392ms
2025-05-13 21:07:09.660 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/class/4/subjects - null null
2025-05-13 21:07:09.662 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-13 21:07:09.666 +02:00 [INF] CORS policy execution successful.
2025-05-13 21:07:09.666 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/class/4 - null null
2025-05-13 21:07:09.666 +02:00 [INF] CORS policy execution successful.
2025-05-13 21:07:09.666 +02:00 [INF] CORS policy execution successful.
2025-05-13 21:07:09.767 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetScheduleForClass (backend)'
2025-05-13 21:07:09.767 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetSubjectsForClass (backend)'
2025-05-13 21:07:09.767 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-13 21:07:09.779 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-13 21:07:09.779 +02:00 [INF] Route matched with {action = "GetSubjectsForClass", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubjectsForClass(Int32) on controller backend.Controllers.ScheduleController (backend).
2025-05-13 21:07:09.779 +02:00 [INF] Route matched with {action = "GetScheduleForClass", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetScheduleForClass(Int32) on controller backend.Controllers.ScheduleController (backend).
2025-05-13 21:07:11.098 +02:00 [INF] Executed DbCommand (112ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-13 21:07:11.193 +02:00 [INF] Executed DbCommand (68ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-13 21:07:11.273 +02:00 [INF] Executed DbCommand (75ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[FirstName], [a].[LastName], [a].[UserId]
FROM [Admins] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-05-13 21:07:11.281 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-13 21:07:11.293 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 1512.0011ms
2025-05-13 21:07:11.293 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-13 21:07:11.300 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 1637.8357ms
2025-05-13 21:07:11.456 +02:00 [INF] Executed DbCommand (89ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[CreatedAt], [s].[Name], [s].[UpdatedAt], [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [ClassSubjects] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Teachers] AS [t] ON [c].[TeacherId] = [t].[Id]
WHERE [c].[ClassId] = @__classId_0
2025-05-13 21:07:11.461 +02:00 [INF] Executed DbCommand (93ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[HomeroomTeacherId], [t].[Name], [t].[UpdatedAt], [t0].[Id], [t0].[ClassId], [t0].[CreatedAt], [t0].[DayOfWeek], [t0].[StartTime], [t0].[SubjectId], [t0].[TeacherId], [t0].[UpdatedAt], [t0].[Id0], [t0].[CreatedAt0], [t0].[Name], [t0].[UpdatedAt0], [t0].[Id1], [t0].[FirstName], [t0].[LastName], [t0].[UserId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[CreatedAt], [c].[HomeroomTeacherId], [c].[Name], [c].[UpdatedAt]
    FROM [Classes] AS [c]
    WHERE [c].[Id] = @__classId_0
) AS [t]
LEFT JOIN (
    SELECT [s].[Id], [s].[ClassId], [s].[CreatedAt], [s].[DayOfWeek], [s].[StartTime], [s].[SubjectId], [s].[TeacherId], [s].[UpdatedAt], [s0].[Id] AS [Id0], [s0].[CreatedAt] AS [CreatedAt0], [s0].[Name], [s0].[UpdatedAt] AS [UpdatedAt0], [t1].[Id] AS [Id1], [t1].[FirstName], [t1].[LastName], [t1].[UserId]
    FROM [Schedules] AS [s]
    INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
    INNER JOIN [Teachers] AS [t1] ON [s].[TeacherId] = [t1].[Id]
) AS [t0] ON [t].[Id] = [t0].[ClassId]
ORDER BY [t].[Id], [t0].[Id], [t0].[Id0]
2025-05-13 21:07:11.518 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.ScheduleForClassDto'.
2025-05-13 21:07:11.524 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetScheduleForClass (backend) in 1744.8027ms
2025-05-13 21:07:11.524 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetScheduleForClass (backend)'
2025-05-13 21:07:11.525 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/class/4 - 200 null application/json; charset=utf-8 1859.1681ms
2025-05-13 21:07:11.538 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.SubjectWithTeachersDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-13 21:07:11.540 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetSubjectsForClass (backend) in 1760.6637ms
2025-05-13 21:07:11.540 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetSubjectsForClass (backend)'
2025-05-13 21:07:11.540 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/class/4/subjects - 200 null application/json; charset=utf-8 1879.5306ms
2025-05-13 21:07:20.155 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/add-entry - null null
2025-05-13 21:07:20.165 +02:00 [INF] CORS policy execution successful.
2025-05-13 21:07:20.168 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/add-entry - 204 null null 12.8279ms
2025-05-13 21:07:20.172 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost:5234/api/schedule/add-entry - application/json 87
2025-05-13 21:07:20.174 +02:00 [INF] CORS policy execution successful.
2025-05-13 21:07:20.179 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.AddEntry (backend)'
2025-05-13 21:07:20.200 +02:00 [INF] Route matched with {action = "AddEntry", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddEntry(backend.DTOs.ScheduleEntryDto) on controller backend.Controllers.ScheduleController (backend).
2025-05-13 21:07:43.676 +02:00 [INF] Executed DbCommand (88ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CreatedAt], [c].[HomeroomTeacherId], [c].[Name], [c].[UpdatedAt]
FROM [Classes] AS [c]
WHERE [c].[Id] = @__p_0
2025-05-13 21:07:48.560 +02:00 [INF] Executed DbCommand (107ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[CreatedAt], [s].[Name], [s].[UpdatedAt]
FROM [Subjects] AS [s]
WHERE [s].[Id] = @__p_0
2025-05-13 21:07:52.696 +02:00 [INF] Executed DbCommand (89ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [Teachers] AS [t]
WHERE [t].[Id] = @__p_0
2025-05-13 21:07:56.156 +02:00 [INF] Executed DbCommand (92ms) [Parameters=[@__dto_ClassId_0='?' (DbType = Int32), @__dto_DayOfWeek_1='?' (DbType = Int32), @__dto_StartTime_2='?' (DbType = Time)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Schedules] AS [s]
        WHERE [s].[ClassId] = @__dto_ClassId_0 AND [s].[DayOfWeek] = @__dto_DayOfWeek_1 AND [s].[StartTime] = @__dto_StartTime_2) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-05-13 21:07:59.898 +02:00 [INF] Executed DbCommand (86ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Time), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Schedules] ([ClassId], [CreatedAt], [DayOfWeek], [StartTime], [SubjectId], [TeacherId], [UpdatedAt])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-05-13 21:08:02.181 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.ScheduleEntryDto'.
2025-05-13 21:08:02.191 +02:00 [INF] Executed action backend.Controllers.ScheduleController.AddEntry (backend) in 41992.1612ms
2025-05-13 21:08:02.192 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.AddEntry (backend)'
2025-05-13 21:08:02.193 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost:5234/api/schedule/add-entry - 200 null application/json; charset=utf-8 42021.4982ms
2025-05-13 21:08:05.707 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-13 21:08:05.725 +02:00 [INF] CORS policy execution successful.
2025-05-13 21:08:05.726 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 19.2315ms
2025-05-13 21:08:05.728 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-13 21:08:05.730 +02:00 [INF] CORS policy execution successful.
2025-05-13 21:08:05.732 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-13 21:08:05.791 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4 - null null
2025-05-13 21:08:05.791 +02:00 [INF] CORS policy execution successful.
2025-05-13 21:08:05.791 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4 - 204 null null 0.5297ms
2025-05-13 21:08:05.791 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4/subjects - null null
2025-05-13 21:08:05.887 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/class/4 - null null
2025-05-13 21:08:05.887 +02:00 [INF] CORS policy execution successful.
2025-05-13 21:08:05.888 +02:00 [INF] CORS policy execution successful.
2025-05-13 21:08:05.888 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4/subjects - 204 null null 96.9954ms
2025-05-13 21:08:05.887 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-13 21:08:05.940 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/class/4/subjects - null null
2025-05-13 21:08:05.943 +02:00 [INF] CORS policy execution successful.
2025-05-13 21:08:05.946 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetScheduleForClass (backend)'
2025-05-13 21:08:05.947 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetSubjectsForClass (backend)'
2025-05-13 21:08:05.947 +02:00 [INF] Route matched with {action = "GetScheduleForClass", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetScheduleForClass(Int32) on controller backend.Controllers.ScheduleController (backend).
2025-05-13 21:08:05.947 +02:00 [INF] Route matched with {action = "GetSubjectsForClass", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubjectsForClass(Int32) on controller backend.Controllers.ScheduleController (backend).
2025-05-13 21:08:06.359 +02:00 [INF] Executed DbCommand (350ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[CreatedAt], [s].[Name], [s].[UpdatedAt], [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [ClassSubjects] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Teachers] AS [t] ON [c].[TeacherId] = [t].[Id]
WHERE [c].[ClassId] = @__classId_0
2025-05-13 21:08:06.336 +02:00 [INF] Executed DbCommand (351ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[HomeroomTeacherId], [t].[Name], [t].[UpdatedAt], [t0].[Id], [t0].[ClassId], [t0].[CreatedAt], [t0].[DayOfWeek], [t0].[StartTime], [t0].[SubjectId], [t0].[TeacherId], [t0].[UpdatedAt], [t0].[Id0], [t0].[CreatedAt0], [t0].[Name], [t0].[UpdatedAt0], [t0].[Id1], [t0].[FirstName], [t0].[LastName], [t0].[UserId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[CreatedAt], [c].[HomeroomTeacherId], [c].[Name], [c].[UpdatedAt]
    FROM [Classes] AS [c]
    WHERE [c].[Id] = @__classId_0
) AS [t]
LEFT JOIN (
    SELECT [s].[Id], [s].[ClassId], [s].[CreatedAt], [s].[DayOfWeek], [s].[StartTime], [s].[SubjectId], [s].[TeacherId], [s].[UpdatedAt], [s0].[Id] AS [Id0], [s0].[CreatedAt] AS [CreatedAt0], [s0].[Name], [s0].[UpdatedAt] AS [UpdatedAt0], [t1].[Id] AS [Id1], [t1].[FirstName], [t1].[LastName], [t1].[UserId]
    FROM [Schedules] AS [s]
    INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
    INNER JOIN [Teachers] AS [t1] ON [s].[TeacherId] = [t1].[Id]
) AS [t0] ON [t].[Id] = [t0].[ClassId]
ORDER BY [t].[Id], [t0].[Id], [t0].[Id0]
2025-05-13 21:08:06.416 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.SubjectWithTeachersDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-13 21:08:06.418 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetSubjectsForClass (backend) in 466.5915ms
2025-05-13 21:08:06.418 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetSubjectsForClass (backend)'
2025-05-13 21:08:06.419 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/class/4/subjects - 200 null application/json; charset=utf-8 478.3684ms
2025-05-13 21:08:06.427 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.ScheduleForClassDto'.
2025-05-13 21:08:06.428 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetScheduleForClass (backend) in 477.8237ms
2025-05-13 21:08:06.429 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetScheduleForClass (backend)'
2025-05-13 21:08:06.429 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/class/4 - 200 null application/json; charset=utf-8 541.9257ms
2025-05-13 21:08:06.831 +02:00 [INF] Executed DbCommand (68ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-13 21:08:06.902 +02:00 [INF] Executed DbCommand (69ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-13 21:08:06.972 +02:00 [INF] Executed DbCommand (70ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[FirstName], [a].[LastName], [a].[UserId]
FROM [Admins] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-05-13 21:08:06.973 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-13 21:08:06.973 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 1056.1915ms
2025-05-13 21:08:06.973 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-13 21:08:06.973 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 1245.4375ms
2025-05-13 21:08:13.763 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/classes-with-schedule - null null
2025-05-13 21:08:13.766 +02:00 [INF] CORS policy execution successful.
2025-05-13 21:08:13.767 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/classes-with-schedule - 204 null null 3.9018ms
2025-05-13 21:08:13.820 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/classes-with-schedule - null null
2025-05-13 21:08:13.820 +02:00 [INF] CORS policy execution successful.
2025-05-13 21:08:13.823 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetClassesWithSchedule (backend)'
2025-05-13 21:08:13.829 +02:00 [INF] Route matched with {action = "GetClassesWithSchedule", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClassesWithSchedule() on controller backend.Controllers.ScheduleController (backend).
2025-05-13 21:08:13.991 +02:00 [INF] Executed DbCommand (117ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], (
    SELECT COUNT(*)
    FROM [Schedules] AS [s]
    WHERE [c].[Id] = [s].[ClassId]) AS [EntryCount]
FROM [Classes] AS [c]
ORDER BY [c].[Name]
2025-05-13 21:08:13.994 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.ClassWithScheduleDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-13 21:08:13.999 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetClassesWithSchedule (backend) in 169.651ms
2025-05-13 21:08:13.999 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetClassesWithSchedule (backend)'
2025-05-13 21:08:13.999 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/classes-with-schedule - 200 null application/json; charset=utf-8 179.1583ms
2025-05-13 21:08:16.658 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4 - null null
2025-05-13 21:08:16.659 +02:00 [INF] CORS policy execution successful.
2025-05-13 21:08:16.659 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4 - 204 null null 1.0522ms
2025-05-13 21:08:16.661 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4/subjects - null null
2025-05-13 21:08:16.661 +02:00 [INF] CORS policy execution successful.
2025-05-13 21:08:16.662 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/4/subjects - 204 null null 0.5073ms
2025-05-13 21:08:16.663 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/class/4 - null null
2025-05-13 21:08:16.663 +02:00 [INF] CORS policy execution successful.
2025-05-13 21:08:16.665 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/class/4/subjects - null null
2025-05-13 21:08:16.665 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetScheduleForClass (backend)'
2025-05-13 21:08:16.666 +02:00 [INF] Route matched with {action = "GetScheduleForClass", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetScheduleForClass(Int32) on controller backend.Controllers.ScheduleController (backend).
2025-05-13 21:08:16.666 +02:00 [INF] CORS policy execution successful.
2025-05-13 21:08:16.666 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetSubjectsForClass (backend)'
2025-05-13 21:08:16.667 +02:00 [INF] Route matched with {action = "GetSubjectsForClass", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubjectsForClass(Int32) on controller backend.Controllers.ScheduleController (backend).
2025-05-13 21:08:16.763 +02:00 [INF] Executed DbCommand (92ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[CreatedAt], [s].[Name], [s].[UpdatedAt], [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [ClassSubjects] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Teachers] AS [t] ON [c].[TeacherId] = [t].[Id]
WHERE [c].[ClassId] = @__classId_0
2025-05-13 21:08:16.768 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.SubjectWithTeachersDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-13 21:08:16.768 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetSubjectsForClass (backend) in 100.585ms
2025-05-13 21:08:16.768 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetSubjectsForClass (backend)'
2025-05-13 21:08:16.769 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/class/4/subjects - 200 null application/json; charset=utf-8 103.4584ms
2025-05-13 21:08:16.769 +02:00 [INF] Executed DbCommand (99ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[HomeroomTeacherId], [t].[Name], [t].[UpdatedAt], [t0].[Id], [t0].[ClassId], [t0].[CreatedAt], [t0].[DayOfWeek], [t0].[StartTime], [t0].[SubjectId], [t0].[TeacherId], [t0].[UpdatedAt], [t0].[Id0], [t0].[CreatedAt0], [t0].[Name], [t0].[UpdatedAt0], [t0].[Id1], [t0].[FirstName], [t0].[LastName], [t0].[UserId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[CreatedAt], [c].[HomeroomTeacherId], [c].[Name], [c].[UpdatedAt]
    FROM [Classes] AS [c]
    WHERE [c].[Id] = @__classId_0
) AS [t]
LEFT JOIN (
    SELECT [s].[Id], [s].[ClassId], [s].[CreatedAt], [s].[DayOfWeek], [s].[StartTime], [s].[SubjectId], [s].[TeacherId], [s].[UpdatedAt], [s0].[Id] AS [Id0], [s0].[CreatedAt] AS [CreatedAt0], [s0].[Name], [s0].[UpdatedAt] AS [UpdatedAt0], [t1].[Id] AS [Id1], [t1].[FirstName], [t1].[LastName], [t1].[UserId]
    FROM [Schedules] AS [s]
    INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
    INNER JOIN [Teachers] AS [t1] ON [s].[TeacherId] = [t1].[Id]
) AS [t0] ON [t].[Id] = [t0].[ClassId]
ORDER BY [t].[Id], [t0].[Id], [t0].[Id0]
2025-05-13 21:08:16.772 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.ScheduleForClassDto'.
2025-05-13 21:08:16.772 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetScheduleForClass (backend) in 106.532ms
2025-05-13 21:08:16.772 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetScheduleForClass (backend)'
2025-05-13 21:08:16.772 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/class/4 - 200 null application/json; charset=utf-8 109.622ms
2025-05-13 21:08:23.389 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/classes-with-schedule - null null
2025-05-13 21:08:23.389 +02:00 [INF] CORS policy execution successful.
2025-05-13 21:08:23.390 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/classes-with-schedule - 204 null null 0.7567ms
2025-05-13 21:08:23.395 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/classes-with-schedule - null null
2025-05-13 21:08:23.395 +02:00 [INF] CORS policy execution successful.
2025-05-13 21:08:23.396 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetClassesWithSchedule (backend)'
2025-05-13 21:08:23.396 +02:00 [INF] Route matched with {action = "GetClassesWithSchedule", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetClassesWithSchedule() on controller backend.Controllers.ScheduleController (backend).
2025-05-13 21:08:23.492 +02:00 [INF] Executed DbCommand (92ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], (
    SELECT COUNT(*)
    FROM [Schedules] AS [s]
    WHERE [c].[Id] = [s].[ClassId]) AS [EntryCount]
FROM [Classes] AS [c]
ORDER BY [c].[Name]
2025-05-13 21:08:23.493 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.ClassWithScheduleDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-13 21:08:23.493 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetClassesWithSchedule (backend) in 96.8211ms
2025-05-13 21:08:23.493 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetClassesWithSchedule (backend)'
2025-05-13 21:08:23.494 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/classes-with-schedule - 200 null application/json; charset=utf-8 99.385ms
2025-05-13 21:08:24.519 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/5 - null null
2025-05-13 21:08:24.519 +02:00 [INF] CORS policy execution successful.
2025-05-13 21:08:24.520 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/5 - 204 null null 0.557ms
2025-05-13 21:08:24.522 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/class/5 - null null
2025-05-13 21:08:24.524 +02:00 [INF] CORS policy execution successful.
2025-05-13 21:08:24.574 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/5/subjects - null null
2025-05-13 21:08:24.574 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetScheduleForClass (backend)'
2025-05-13 21:08:24.574 +02:00 [INF] CORS policy execution successful.
2025-05-13 21:08:24.574 +02:00 [INF] Route matched with {action = "GetScheduleForClass", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetScheduleForClass(Int32) on controller backend.Controllers.ScheduleController (backend).
2025-05-13 21:08:24.574 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/5/subjects - 204 null null 0.5964ms
2025-05-13 21:08:24.626 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/class/5/subjects - null null
2025-05-13 21:08:24.627 +02:00 [INF] CORS policy execution successful.
2025-05-13 21:08:24.627 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetSubjectsForClass (backend)'
2025-05-13 21:08:24.628 +02:00 [INF] Route matched with {action = "GetSubjectsForClass", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubjectsForClass(Int32) on controller backend.Controllers.ScheduleController (backend).
2025-05-13 21:08:24.778 +02:00 [INF] Executed DbCommand (150ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[HomeroomTeacherId], [t].[Name], [t].[UpdatedAt], [t0].[Id], [t0].[ClassId], [t0].[CreatedAt], [t0].[DayOfWeek], [t0].[StartTime], [t0].[SubjectId], [t0].[TeacherId], [t0].[UpdatedAt], [t0].[Id0], [t0].[CreatedAt0], [t0].[Name], [t0].[UpdatedAt0], [t0].[Id1], [t0].[FirstName], [t0].[LastName], [t0].[UserId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[CreatedAt], [c].[HomeroomTeacherId], [c].[Name], [c].[UpdatedAt]
    FROM [Classes] AS [c]
    WHERE [c].[Id] = @__classId_0
) AS [t]
LEFT JOIN (
    SELECT [s].[Id], [s].[ClassId], [s].[CreatedAt], [s].[DayOfWeek], [s].[StartTime], [s].[SubjectId], [s].[TeacherId], [s].[UpdatedAt], [s0].[Id] AS [Id0], [s0].[CreatedAt] AS [CreatedAt0], [s0].[Name], [s0].[UpdatedAt] AS [UpdatedAt0], [t1].[Id] AS [Id1], [t1].[FirstName], [t1].[LastName], [t1].[UserId]
    FROM [Schedules] AS [s]
    INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
    INNER JOIN [Teachers] AS [t1] ON [s].[TeacherId] = [t1].[Id]
) AS [t0] ON [t].[Id] = [t0].[ClassId]
ORDER BY [t].[Id], [t0].[Id], [t0].[Id0]
2025-05-13 21:08:24.778 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.ScheduleForClassDto'.
2025-05-13 21:08:24.779 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetScheduleForClass (backend) in 204.9376ms
2025-05-13 21:08:24.779 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetScheduleForClass (backend)'
2025-05-13 21:08:24.780 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/class/5 - 200 null application/json; charset=utf-8 258.0291ms
2025-05-13 21:08:24.861 +02:00 [INF] Executed DbCommand (82ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[CreatedAt], [s].[Name], [s].[UpdatedAt], [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [ClassSubjects] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Teachers] AS [t] ON [c].[TeacherId] = [t].[Id]
WHERE [c].[ClassId] = @__classId_0
2025-05-13 21:08:24.861 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.SubjectWithTeachersDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-13 21:08:24.861 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetSubjectsForClass (backend) in 232.9629ms
2025-05-13 21:08:24.861 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetSubjectsForClass (backend)'
2025-05-13 21:08:24.862 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/class/5/subjects - 200 null application/json; charset=utf-8 235.775ms
2025-05-13 21:08:44.256 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - null null
2025-05-13 21:08:44.257 +02:00 [INF] CORS policy execution successful.
2025-05-13 21:08:44.257 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/user/logged-user - 204 null null 1.1366ms
2025-05-13 21:08:44.259 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/user/logged-user - null null
2025-05-13 21:08:44.260 +02:00 [INF] CORS policy execution successful.
2025-05-13 21:08:44.261 +02:00 [INF] Executing endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-13 21:08:44.262 +02:00 [INF] Route matched with {action = "GetLoggedUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLoggedUser() on controller backend.Controllers.UserController (backend).
2025-05-13 21:08:44.276 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/5 - null null
2025-05-13 21:08:44.276 +02:00 [INF] CORS policy execution successful.
2025-05-13 21:08:44.278 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/5 - 204 null null 0.8211ms
2025-05-13 21:08:44.284 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/class/5 - null null
2025-05-13 21:08:44.284 +02:00 [INF] CORS policy execution successful.
2025-05-13 21:08:44.285 +02:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/5/subjects - null null
2025-05-13 21:08:44.285 +02:00 [INF] CORS policy execution successful.
2025-05-13 21:08:44.312 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetScheduleForClass (backend)'
2025-05-13 21:08:44.312 +02:00 [INF] Route matched with {action = "GetScheduleForClass", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetScheduleForClass(Int32) on controller backend.Controllers.ScheduleController (backend).
2025-05-13 21:08:44.313 +02:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5234/api/schedule/class/5/subjects - 204 null null 0.2827ms
2025-05-13 21:08:44.354 +02:00 [INF] Request starting HTTP/1.1 GET http://localhost:5234/api/schedule/class/5/subjects - null null
2025-05-13 21:08:44.373 +02:00 [INF] CORS policy execution successful.
2025-05-13 21:08:44.398 +02:00 [INF] Executing endpoint 'backend.Controllers.ScheduleController.GetSubjectsForClass (backend)'
2025-05-13 21:08:44.424 +02:00 [INF] Route matched with {action = "GetSubjectsForClass", controller = "Schedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubjectsForClass(Int32) on controller backend.Controllers.ScheduleController (backend).
2025-05-13 21:08:44.525 +02:00 [INF] Executed DbCommand (126ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[HomeroomTeacherId], [t].[Name], [t].[UpdatedAt], [t0].[Id], [t0].[ClassId], [t0].[CreatedAt], [t0].[DayOfWeek], [t0].[StartTime], [t0].[SubjectId], [t0].[TeacherId], [t0].[UpdatedAt], [t0].[Id0], [t0].[CreatedAt0], [t0].[Name], [t0].[UpdatedAt0], [t0].[Id1], [t0].[FirstName], [t0].[LastName], [t0].[UserId]
FROM (
    SELECT TOP(1) [c].[Id], [c].[CreatedAt], [c].[HomeroomTeacherId], [c].[Name], [c].[UpdatedAt]
    FROM [Classes] AS [c]
    WHERE [c].[Id] = @__classId_0
) AS [t]
LEFT JOIN (
    SELECT [s].[Id], [s].[ClassId], [s].[CreatedAt], [s].[DayOfWeek], [s].[StartTime], [s].[SubjectId], [s].[TeacherId], [s].[UpdatedAt], [s0].[Id] AS [Id0], [s0].[CreatedAt] AS [CreatedAt0], [s0].[Name], [s0].[UpdatedAt] AS [UpdatedAt0], [t1].[Id] AS [Id1], [t1].[FirstName], [t1].[LastName], [t1].[UserId]
    FROM [Schedules] AS [s]
    INNER JOIN [Subjects] AS [s0] ON [s].[SubjectId] = [s0].[Id]
    INNER JOIN [Teachers] AS [t1] ON [s].[TeacherId] = [t1].[Id]
) AS [t0] ON [t].[Id] = [t0].[ClassId]
ORDER BY [t].[Id], [t0].[Id], [t0].[Id0]
2025-05-13 21:08:44.774 +02:00 [INF] Executed DbCommand (197ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AdminId], [a].[ConcurrencyStamp], [a].[DateAdded], [a].[Email], [a].[EmailConfirmed], [a].[IsActive], [a].[LastSuccessfulLogin], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[StudentId], [a].[TeacherId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-13 21:08:44.774 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.ScheduleForClassDto'.
2025-05-13 21:08:44.776 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetScheduleForClass (backend) in 463.8489ms
2025-05-13 21:08:44.777 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetScheduleForClass (backend)'
2025-05-13 21:08:44.802 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/class/5 - 200 null application/json; charset=utf-8 494.7831ms
2025-05-13 21:08:44.862 +02:00 [INF] Executed DbCommand (85ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-13 21:08:44.869 +02:00 [INF] Executed DbCommand (93ms) [Parameters=[@__classId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[ClassId], [c].[SubjectId], [c].[TeacherId], [s].[Id], [s].[CreatedAt], [s].[Name], [s].[UpdatedAt], [t].[Id], [t].[FirstName], [t].[LastName], [t].[UserId]
FROM [ClassSubjects] AS [c]
INNER JOIN [Subjects] AS [s] ON [c].[SubjectId] = [s].[Id]
INNER JOIN [Teachers] AS [t] ON [c].[TeacherId] = [t].[Id]
WHERE [c].[ClassId] = @__classId_0
2025-05-13 21:08:44.869 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[backend.DTOs.SubjectWithTeachersDto, backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-13 21:08:44.870 +02:00 [INF] Executed action backend.Controllers.ScheduleController.GetSubjectsForClass (backend) in 445.4841ms
2025-05-13 21:08:44.870 +02:00 [INF] Executed endpoint 'backend.Controllers.ScheduleController.GetSubjectsForClass (backend)'
2025-05-13 21:08:44.870 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/schedule/class/5/subjects - 200 null application/json; charset=utf-8 515.9196ms
2025-05-13 21:08:44.941 +02:00 [INF] Executed DbCommand (78ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[FirstName], [a].[LastName], [a].[UserId]
FROM [Admins] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-05-13 21:08:44.942 +02:00 [INF] Executing OkObjectResult, writing value of type 'backend.DTOs.UserDto'.
2025-05-13 21:08:44.942 +02:00 [INF] Executed action backend.Controllers.UserController.GetLoggedUser (backend) in 679.909ms
2025-05-13 21:08:44.943 +02:00 [INF] Executed endpoint 'backend.Controllers.UserController.GetLoggedUser (backend)'
2025-05-13 21:08:44.943 +02:00 [INF] Request finished HTTP/1.1 GET http://localhost:5234/api/user/logged-user - 200 null application/json; charset=utf-8 683.7089ms
